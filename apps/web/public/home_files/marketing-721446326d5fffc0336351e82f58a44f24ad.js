(()=>{var Dp=Object.create;var Vi=Object.defineProperty;var Bp=Object.getOwnPropertyDescriptor;var Hp=Object.getOwnPropertyNames;var Up=Object.getPrototypeOf,Wp=Object.prototype.hasOwnProperty;var Y=(t,e)=>()=>(t&&(e=t(t=0)),e);var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),jt=(t,e)=>{for(var r in e)Vi(t,r,{get:e[r],enumerable:!0})},Vp=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Hp(e))!Wp.call(t,i)&&i!==r&&Vi(t,i,{get:()=>e[i],enumerable:!(n=Bp(e,i))||n.enumerable});return t};var Le=(t,e,r)=>(r=t!=null?Dp(Up(t)):{},Vp(e||!t||!t.__esModule?Vi(r,"default",{value:t,enumerable:!0}):r,t));var ne=(t,e,r)=>new Promise((n,i)=>{var o=c=>{try{s(r.next(c))}catch(f){i(f)}},a=c=>{try{s(r.throw(c))}catch(f){i(f)}},s=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,a);s((r=r.apply(t,e)).next())});function $p(t){let e=t instanceof Element?t:t instanceof Node?t.parentElement:null,r=e?e.closest("input, button"):null;return(r==null?void 0:r.type)=="submit"?r:null}function zp(t){let e=$p(t.target);e&&e.form&&vs.set(e.form,e)}function Kp(t){switch(t.toLowerCase()){case"lazy":return St.lazy;default:return St.eager}}function Ie(t){return new URL(t.toString(),document.baseURI)}function qt(t){let e;if(t.hash)return t.hash.slice(1);if(e=t.href.match(/#(.*)$/))return e[1]}function mo(t,e){let r=(e==null?void 0:e.getAttribute("formaction"))||t.getAttribute("action")||t.action;return Ie(r)}function Gp(t){return(Zp(t).match(/\.[^.]*$/)||[])[0]||""}function Jp(t){return!!Gp(t).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function Qp(t,e){let r=em(e);return t.href===Ie(r).href||t.href.startsWith(r)}function er(t,e){return Qp(t,e)&&Jp(t)}function $i(t){let e=qt(t);return e!=null?t.href.slice(0,-(e.length+1)):t.href}function Nn(t){return $i(t)}function Xp(t,e){return Ie(t).href==Ie(e).href}function Yp(t){return t.pathname.split("/").slice(1)}function Zp(t){return Yp(t).slice(-1)[0]}function em(t){return tm(t.origin+t.pathname)}function tm(t){return t.endsWith("/")?t:t+"/"}function zn(t){return t=="advance"||t=="replace"||t=="restore"}function Br(t){if(t.getAttribute("data-turbo-eval")=="false")return t;{let e=document.createElement("script"),r=Dn("csp-nonce");return r&&(e.nonce=r),e.textContent=t.textContent,e.async=!1,rm(e,t),e}}function rm(t,e){for(let{name:r,value:n}of e.attributes)t.setAttribute(r,n)}function nm(t){let e=document.createElement("template");return e.innerHTML=t,e.content}function xe(t,{target:e,cancelable:r,detail:n}={}){let i=new CustomEvent(t,{cancelable:r,bubbles:!0,detail:n});return e&&e.isConnected?e.dispatchEvent(i):document.documentElement.dispatchEvent(i),i}function Mn(){return new Promise(t=>requestAnimationFrame(()=>t()))}function im(){return new Promise(t=>setTimeout(()=>t(),0))}function om(){return Promise.resolve()}function gs(t=""){return new DOMParser().parseFromString(t,"text/html")}function ys(t,...e){let r=am(t,e).replace(/^\n/,"").split(`
`),n=r[0].match(/^\s+/),i=n?n[0].length:0;return r.map(o=>o.slice(i)).join(`
`)}function am(t,e){return t.reduce((r,n,i)=>{let o=e[i]==null?"":e[i];return r+n+o},"")}function tr(){return Array.from({length:36}).map((t,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Hr(t,...e){for(let r of e.map(n=>n==null?void 0:n.getAttribute(t)))if(typeof r=="string")return r;return null}function sm(t,...e){return e.some(r=>r&&r.hasAttribute(t))}function zi(...t){for(let e of t)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Ki(...t){for(let e of t)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function um(t,e=2e3){return new Promise(r=>{let n=()=>{t.removeEventListener("error",n),t.removeEventListener("load",n),r()};t.addEventListener("load",n,{once:!0}),t.addEventListener("error",n,{once:!0}),setTimeout(r,e)})}function bs(t){switch(t){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function cm(...t){let e=Hr("data-turbo-action",...t);return zn(e)?e:null}function ws(t){return document.querySelector(`meta[name="${t}"]`)}function Dn(t){let e=ws(t);return e&&e.content}function lm(t,e){let r=ws(t);return r||(r=document.createElement("meta"),r.setAttribute("name",t),document.head.appendChild(r)),r.setAttribute("content",e),r}function fm(t){switch(t.toLowerCase()){case"get":return Fe.get;case"post":return Fe.post;case"put":return Fe.put;case"patch":return Fe.patch;case"delete":return Fe.delete}}function dm(t){for(let e of t.querySelectorAll("turbo-stream")){let r=document.importNode(e,!0);for(let n of r.templateElement.content.querySelectorAll("script"))n.replaceWith(Br(n));e.replaceWith(r)}return t}function hm(t){switch(t.toLowerCase()){case _t.multipart:return _t.multipart;case _t.plain:return _t.plain;default:return _t.urlEncoded}}function pm(t,e){let r=new FormData(t),n=e==null?void 0:e.getAttribute("name"),i=e==null?void 0:e.getAttribute("value");return n&&r.append(n,i||""),r}function mm(t){if(t!=null){let r=(document.cookie?document.cookie.split("; "):[]).find(n=>n.startsWith(t));if(r){let n=r.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}function vm(t){return t.statusCode==200&&!t.redirected}function gm(t,e){let r=new URLSearchParams;for(let[n,i]of e)i instanceof File||r.append(n,i);return t.search=r.toString(),t}function _s(t,e){return t.querySelector(`#${e}[data-turbo-permanent]`)}function Ss(t){return t.querySelectorAll("[id][data-turbo-permanent]")}function ym(t,e){return((e==null?void 0:e.getAttribute("formmethod"))||t.getAttribute("method"))!="dialog"}function bm(t,e){let r=(e==null?void 0:e.getAttribute("formtarget"))||t.target;for(let n of document.getElementsByName(r))if(n instanceof HTMLIFrameElement)return!1;return!0}function wm(t){for(let e of document.getElementsByName(t.target))if(e instanceof HTMLIFrameElement)return!1;return!0}function _m(t){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",t.id),e}function Sm(t){return t&&typeof t.focus=="function"}function Em(t,e){return t=="end"||t=="start"||t=="center"||t=="nearest"?t:e}function Am(t,e){return t=="auto"||t=="smooth"?t:e}function Om(t){if(xm(t))return"script";if(Cm(t))return"stylesheet"}function Pm(t){return t.getAttribute("data-turbo-track")=="reload"}function xm(t){return t.localName=="script"}function Tm(t){return t.localName=="noscript"}function Cm(t){let e=t.localName;return e=="style"||e=="link"&&t.getAttribute("rel")=="stylesheet"}function km(t,e){return t.localName=="meta"&&t.getAttribute("name")==e}function Im(t){return t.hasAttribute("nonce")&&t.setAttribute("nonce",""),t}function ds(t){return t>=200&&t<300}function Fm(t){let e=Ss(document.documentElement),r={};for(let n of e){let{id:i}=n;for(let o of t.querySelectorAll("turbo-stream")){let a=_s(o.templateElement.content,i);a&&(r[i]=[n,a])}}return r}function Rm(t){var e;let r=(e=t.detail)===null||e===void 0?void 0:e.fetchResponse;if(r instanceof Dr)return r}function jm(t){var e;return((e=t.contentType)!==null&&e!==void 0?e:"").startsWith(ft.contentType)}function hs(t){Object.defineProperties(t,qm)}function Kn(){ye.start()}function Dm(t){ye.registerAdapter(t)}function Bm(t,e){ye.visit(t,e)}function As(t){ye.connectStreamSource(t)}function Os(t){ye.disconnectStreamSource(t)}function Hm(t){ye.renderStreamMessage(t)}function Um(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),ye.clearCache()}function Wm(t){ye.setProgressBarDelay(t)}function Vm(t){Nt.confirmMethod=t}function $m(t){ye.setFormMode(t)}function ps(t){if(t!=null){let e=document.getElementById(t);if(e instanceof Xe)return e}}function ms(t,e){if(t){let r=t.getAttribute("src");if(r!=null&&e!=null&&Xp(r,e))throw new Error(`Matching <turbo-frame id="${t.id}"> element has a source URL which references itself`);if(t.ownerDocument!==document&&(t=document.importNode(t,!0)),t instanceof Xe)return t.connectedCallback(),t.disconnectedCallback(),t}}var vs,St,Xe,Dr,Fe,Ur,Gi,ft,wt,_t,Nt,rr,Wr,Bn,Ji,Hn,Un,Wn,Vn,Vr,$r,Qe,Qi,We,Zt,Je,Lm,Et,Xi,Yi,Zi,eo,to,ro,lt,no,io,oo,ao,$n,zr,so,uo,co,lo,qm,fo,Es,ye,Nm,Mm,zm,ho,Kr,po,Ps=Y(()=>{(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;let t=HTMLElement,e={HTMLElement:function(){return Reflect.construct(t,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)})();(function(t){if(typeof t.requestSubmit=="function")return;t.requestSubmit=function(n){n?(e(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function e(n,i){n instanceof HTMLElement||r(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||r(TypeError,"The specified element is not a submit button"),n.form==i||r(DOMException,"The specified element is not owned by this form element","NotFoundError")}function r(n,i,o){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+i+".",o)}})(HTMLFormElement.prototype);vs=new WeakMap;(function(){if("submitter"in Event.prototype)return;let t;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))t=window.SubmitEvent.prototype;else{if("SubmitEvent"in window)return;t=window.Event.prototype}addEventListener("click",zp,!0),Object.defineProperty(t,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return vs.get(this.target)}})})();(function(t){t.eager="eager",t.lazy="lazy"})(St||(St={}));Xe=class extends HTMLElement{constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new Xe.delegateConstructor(this)}static get observedAttributes(){return["disabled","complete","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return Kp(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,r;return(r=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||r===void 0?void 0:r.hasAttribute("data-turbo-preview")}};Dr=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Ie(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}};(function(t){t[t.get=0]="get",t[t.post=1]="post",t[t.put=2]="put",t[t.patch=3]="patch",t[t.delete=4]="delete"})(Fe||(Fe={}));Ur=class{constructor(e,r,n,i=new URLSearchParams,o=null){this.abortController=new AbortController,this.resolveRequestPromise=a=>{},this.delegate=e,this.method=r,this.headers=this.defaultHeaders,this.body=i,this.url=n,this.target=o}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}perform(){return ne(this,null,function*(){var e,r;let{fetchOptions:n}=this;(r=(e=this.delegate).prepareHeadersForRequest)===null||r===void 0||r.call(e,this.headers,this),yield this.allowRequestToBeIntercepted(n);try{this.delegate.requestStarted(this);let i=yield fetch(this.url.href,n);return yield this.receive(i)}catch(i){if(i.name!=="AbortError")throw this.willDelegateErrorHandling(i)&&this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}})}receive(e){return ne(this,null,function*(){let r=new Dr(e);return xe("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:r},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,r):r.succeeded?this.delegate.requestSucceededWithResponse(this,r):this.delegate.requestFailedWithResponse(this,r),r})}get fetchOptions(){var e;return{method:Fe[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isIdempotent?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isIdempotent(){return this.method==Fe.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}allowRequestToBeIntercepted(e){return ne(this,null,function*(){let r=new Promise(i=>this.resolveRequestPromise=i);xe("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&(yield r)})}willDelegateErrorHandling(e){return!xe("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}},Gi=class{constructor(e,r){this.started=!1,this.intersect=n=>{let i=n.slice(-1)[0];i!=null&&i.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=r,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},ft=class{constructor(e){this.fragment=dm(e)}static wrap(e){return typeof e=="string"?new this(nm(e)):e}};ft.contentType="text/vnd.turbo-stream.html";(function(t){t[t.initialized=0]="initialized",t[t.requesting=1]="requesting",t[t.waiting=2]="waiting",t[t.receiving=3]="receiving",t[t.stopping=4]="stopping",t[t.stopped=5]="stopped"})(wt||(wt={}));(function(t){t.urlEncoded="application/x-www-form-urlencoded",t.multipart="multipart/form-data",t.plain="text/plain"})(_t||(_t={}));Nt=class{constructor(e,r,n,i=!1){this.state=wt.initialized,this.delegate=e,this.formElement=r,this.submitter=n,this.formData=pm(r,n),this.location=Ie(this.action),this.method==Fe.get&&gm(this.location,[...this.body.entries()]),this.fetchRequest=new Ur(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=i}static confirmMethod(e,r,n){return Promise.resolve(confirm(e))}get method(){var e;let r=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return fm(r.toLowerCase())||Fe.get}get action(){var e;let r=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||r||""}get body(){return this.enctype==_t.urlEncoded||this.method==Fe.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return hm(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isIdempotent(){return this.fetchRequest.isIdempotent}get stringFormData(){return[...this.formData].reduce((e,[r,n])=>e.concat(typeof n=="string"?[[r,n]]:[]),[])}start(){return ne(this,null,function*(){let{initialized:e,requesting:r}=wt,n=Hr("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof n=="string"&&!(yield Nt.confirmMethod(n,this.formElement,this.submitter)))&&this.state==e)return this.state=r,this.fetchRequest.perform()})}stop(){let{stopping:e,stopped:r}=wt;if(this.state!=e&&this.state!=r)return this.state=e,this.fetchRequest.cancel(),!0}prepareHeadersForRequest(e,r){if(!r.isIdempotent){let n=mm(Dn("csrf-param"))||Dn("csrf-token");n&&(e["X-CSRF-Token"]=n)}this.requestAcceptsTurboStreamResponse(r)&&r.acceptResponseType(ft.contentType)}requestStarted(e){var r;this.state=wt.waiting,(r=this.submitter)===null||r===void 0||r.setAttribute("disabled",""),xe("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,r){this.result={success:r.succeeded,fetchResponse:r}}requestSucceededWithResponse(e,r){if(r.clientError||r.serverError)this.delegate.formSubmissionFailedWithResponse(this,r);else if(this.requestMustRedirect(e)&&vm(r)){let n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=wt.receiving,this.result={success:!0,fetchResponse:r},this.delegate.formSubmissionSucceededWithResponse(this,r)}requestFailedWithResponse(e,r){this.result={success:!1,fetchResponse:r},this.delegate.formSubmissionFailedWithResponse(this,r)}requestErrored(e,r){this.result={success:!1,error:r},this.delegate.formSubmissionErrored(this,r)}requestFinished(e){var r;this.state=wt.stopped,(r=this.submitter)===null||r===void 0||r.removeAttribute("disabled"),xe("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(e){return!e.isIdempotent&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isIdempotent||sm("data-turbo-stream",this.submitter,this.formElement)}};rr=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){let e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(let r of this.element.querySelectorAll("[autofocus]"))if(r.closest(e)==null)return r;return null}get permanentElements(){return Ss(this.element)}getPermanentElementById(e){return _s(this.element,e)}getPermanentElementMapForSnapshot(e){let r={};for(let n of this.permanentElements){let{id:i}=n,o=e.getPermanentElementById(i);o&&(r[i]=[n,o])}return r}};Wr=class{constructor(e,r){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=n=>{if(!n.defaultPrevented){let i=n.target instanceof HTMLFormElement?n.target:void 0,o=n.submitter||void 0;i&&ym(i,o)&&bm(i,o)&&this.delegate.willSubmitForm(i,o)&&(n.preventDefault(),n.stopImmediatePropagation(),this.delegate.formSubmitted(i,o))}},this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};Bn=class{constructor(e,r){this.resolveRenderPromise=n=>{},this.resolveInterceptionPromise=n=>{},this.delegate=e,this.element=r}scrollToAnchor(e){let r=this.snapshot.getElementForAnchor(e);r?(this.scrollToElement(r),this.focusElement(r)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(qt(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:r}){this.scrollRoot.scrollTo(e,r)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}render(e){return ne(this,null,function*(){let{isPreview:r,shouldRender:n,newSnapshot:i}=e;if(n)try{this.renderPromise=new Promise(c=>this.resolveRenderPromise=c),this.renderer=e,yield this.prepareToRenderSnapshot(e);let o=new Promise(c=>this.resolveInterceptionPromise=c),a={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(i,a)||(yield o),yield this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(i,r),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)})}invalidate(e){this.delegate.viewInvalidated(e)}prepareToRenderSnapshot(e){return ne(this,null,function*(){this.markAsPreview(e.isPreview),yield e.prepareToRender()})}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}renderSnapshot(e){return ne(this,null,function*(){yield e.render()})}finishRenderingSnapshot(e){e.finishRendering()}},Ji=class extends Bn{invalidate(){this.element.innerHTML=""}get snapshot(){return new rr(this.element)}},Hn=class{constructor(e,r){this.clickBubbled=n=>{this.respondsToEventTarget(n.target)?this.clickEvent=n:delete this.clickEvent},this.linkClicked=n=>{this.clickEvent&&this.respondsToEventTarget(n.target)&&n.target instanceof Element&&this.delegate.shouldInterceptLinkClick(n.target,n.detail.url,n.detail.originalEvent)&&(this.clickEvent.preventDefault(),n.preventDefault(),this.delegate.linkClickIntercepted(n.target,n.detail.url,n.detail.originalEvent)),delete this.clickEvent},this.willVisit=n=>{delete this.clickEvent},this.delegate=e,this.element=r}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){let r=e instanceof Element?e:e instanceof Node?e.parentElement:null;return r&&r.closest("turbo-frame, html")==this.element}},Un=class{constructor(e,r){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=n=>{if(n instanceof MouseEvent&&this.clickEventIsSignificant(n)){let i=n.composedPath&&n.composedPath()[0]||n.target,o=this.findLinkFromClickTarget(i);if(o&&wm(o)){let a=this.getLocationForLink(o);this.delegate.willFollowLinkToLocation(o,a,n)&&(n.preventDefault(),this.delegate.followedLinkToLocation(o,a))}}},this.delegate=e,this.eventTarget=r}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){if(e instanceof Element)return e.closest("a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return Ie(e.getAttribute("href")||"")}};Wn=class{constructor(e,r){this.delegate=e,this.linkInterceptor=new Un(this,r)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,r,n){return this.delegate.willSubmitFormLinkToLocation(e,r,n)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,r){let n=r.href,i=document.createElement("form");i.setAttribute("data-turbo","true"),i.setAttribute("action",n),i.setAttribute("hidden","");let o=e.getAttribute("data-turbo-method");o&&i.setAttribute("method",o);let a=e.getAttribute("data-turbo-frame");a&&i.setAttribute("data-turbo-frame",a);let s=e.getAttribute("data-turbo-action");s&&i.setAttribute("data-turbo-action",s);let c=e.getAttribute("data-turbo-confirm");c&&i.setAttribute("data-turbo-confirm",c),e.hasAttribute("data-turbo-stream")&&i.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,r,i),document.body.appendChild(i),i.addEventListener("turbo:submit-end",()=>i.remove(),{once:!0}),requestAnimationFrame(()=>i.requestSubmit())}},Vn=class{constructor(e,r){this.delegate=e,this.permanentElementMap=r}static preservingPermanentElements(e,r,n){let i=new this(e,r);i.enter(),n(),i.leave()}enter(){for(let e in this.permanentElementMap){let[r,n]=this.permanentElementMap[e];this.delegate.enteringBardo(r,n),this.replaceNewPermanentElementWithPlaceholder(n)}}leave(){for(let e in this.permanentElementMap){let[r]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(r),this.replacePlaceholderWithPermanentElement(r),this.delegate.leavingBardo(r)}}replaceNewPermanentElementWithPlaceholder(e){let r=_m(e);e.replaceWith(r)}replaceCurrentPermanentElementWithClone(e){let r=e.cloneNode(!0);e.replaceWith(r)}replacePlaceholderWithPermanentElement(e){let r=this.getPlaceholderById(e.id);r==null||r.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(r=>r.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};Vr=class{constructor(e,r,n,i,o=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=r,this.isPreview=i,this.willRender=o,this.renderElement=n,this.promise=new Promise((a,s)=>this.resolvingFunctions={resolve:a,reject:s})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}preservingPermanentElements(e){Vn.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){let e=this.connectedSnapshot.firstAutofocusableElement;Sm(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}};$r=class extends Vr{constructor(e,r,n,i,o,a=!0){super(r,n,i,o,a),this.delegate=e}static renderElement(e,r){var n;let i=document.createRange();i.selectNodeContents(e),i.deleteContents();let o=r,a=(n=o.ownerDocument)===null||n===void 0?void 0:n.createRange();a&&(a.selectNodeContents(o),e.appendChild(a.extractContents()))}get shouldRender(){return!0}render(){return ne(this,null,function*(){yield Mn(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),yield Mn(),this.focusFirstAutofocusableElement(),yield Mn(),this.activateScriptElements()})}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,r=Em(this.currentElement.getAttribute("data-autoscroll-block"),"end"),n=Am(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:r,behavior:n}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let r=Br(e);e.replaceWith(r)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};Qe=class{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return ys`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${Qe.animationDuration}ms ease-out,
          opacity ${Qe.animationDuration/2}ms ${Qe.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,Qe.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,Qe.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");return e.type="text/css",e.textContent=Qe.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return Dn("csp-nonce")}};Qe.animationDuration=300;Qi=class extends rr{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!Tm(e)).map(e=>Im(e)).reduce((e,r)=>{let{outerHTML:n}=r,i=n in e?e[n]:{type:Om(r),tracked:Pm(r),elements:[]};return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},i),{elements:[...i.elements,r]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,r){return Object.keys(this.detailsByOuterHTML).filter(n=>!(n in r.detailsByOuterHTML)).map(n=>this.detailsByOuterHTML[n]).filter(({type:n})=>n==e).map(({elements:[n]})=>n)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,r)=>{let{type:n,tracked:i,elements:o}=this.detailsByOuterHTML[r];return n==null&&!i?[...e,...o]:o.length>1?[...e,...o.slice(1)]:e},[])}getMetaValue(e){let r=this.findMetaElementByName(e);return r?r.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((r,n)=>{let{elements:[i]}=this.detailsByOuterHTML[n];return km(i,e)?i:r},void 0)}};We=class extends rr{constructor(e,r){super(e),this.headSnapshot=r}static fromHTMLString(e=""){return this.fromDocument(gs(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:r}){return new this(r,new Qi(e))}clone(){let e=this.element.cloneNode(!0),r=this.element.querySelectorAll("select"),n=e.querySelectorAll("select");for(let[i,o]of r.entries()){let a=n[i];for(let s of a.selectedOptions)s.selected=!1;for(let s of o.selectedOptions)a.options[s.index].selected=!0}for(let i of e.querySelectorAll('input[type="password"]'))i.value="";return new We(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;let r=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return Ie(r)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}};(function(t){t.visitStart="visitStart",t.requestStart="requestStart",t.requestEnd="requestEnd",t.visitEnd="visitEnd"})(Zt||(Zt={}));(function(t){t.initialized="initialized",t.started="started",t.canceled="canceled",t.failed="failed",t.completed="completed"})(Je||(Je={}));Lm={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};(function(t){t[t.networkFailure=0]="networkFailure",t[t.timeoutFailure=-1]="timeoutFailure",t[t.contentTypeMismatch=-2]="contentTypeMismatch"})(Et||(Et={}));Xi=class{constructor(e,r,n,i={}){this.identifier=tr(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=Je.initialized,this.delegate=e,this.location=r,this.restorationIdentifier=n||tr();let{action:o,historyChanged:a,referrer:s,snapshot:c,snapshotHTML:f,response:m,visitCachedSnapshot:y,willRender:w,updateHistory:P,shouldCacheSnapshot:D,acceptsStreamResponse:U}=Object.assign(Object.assign({},Lm),i);this.action=o,this.historyChanged=a,this.referrer=s,this.snapshot=c,this.snapshotHTML=f,this.response=m,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=y,this.willRender=w,this.updateHistory=P,this.scrolled=!w,this.shouldCacheSnapshot=D,this.acceptsStreamResponse=U}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Je.initialized&&(this.recordTimingMetric(Zt.visitStart),this.state=Je.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Je.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Je.canceled)}complete(){this.state==Je.started&&(this.recordTimingMetric(Zt.visitEnd),this.state=Je.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==Je.started&&(this.state=Je.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){let r=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,n=bs(r);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Ur(this,Fe.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Zt.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:r}=e;ds(r)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,r)}}finishRequest(){this.recordTimingMetric(Zt.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:r}=this.response;this.render(()=>ne(this,null,function*(){this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&(yield this.view.renderPromise),ds(e)&&r!=null?(yield this.view.renderPage(We.fromHTMLString(r),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(yield this.view.renderError(We.fromHTMLString(r),this),this.adapter.visitRendered(this),this.fail())}))}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!qt(this.location)||e.hasAnchor(qt(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return We.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let r=this.shouldIssueRequest();this.render(()=>ne(this,null,function*(){this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&(yield this.view.renderPromise),yield this.view.renderPage(e,r,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),r||this.complete())}))}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&((e=this.response)===null||e===void 0?void 0:e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(()=>ne(this,null,function*(){this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)}))}prepareHeadersForRequest(e,r){this.acceptsStreamResponse&&r.acceptResponseType(ft.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,r){}requestSucceededWithResponse(e,r){return ne(this,null,function*(){let n=yield r.responseHTML,{redirected:i,statusCode:o}=r;n==null?this.recordResponse({statusCode:Et.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=r.redirected?r.location:void 0,this.recordResponse({statusCode:o,responseHTML:n,redirected:i}))})}requestFailedWithResponse(e,r){return ne(this,null,function*(){let n=yield r.responseHTML,{redirected:i,statusCode:o}=r;n==null?this.recordResponse({statusCode:Et.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:o,responseHTML:n,redirected:i})})}requestErrored(e,r){this.recordResponse({statusCode:Et.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=qt(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}render(e){return ne(this,null,function*(){this.cancelRender(),yield new Promise(r=>{this.frame=requestAnimationFrame(()=>r())}),yield e(),delete this.frame})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};Yi=class{constructor(e){this.progressBar=new Qe,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,r){this.navigator.startVisit(e,(r==null?void 0:r.restorationIdentifier)||tr(),r)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,r){switch(r){case Et.networkFailure:case Et.timeoutFailure:case Et.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:r}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var r;xe("turbo:reload",{detail:e}),window.location.href=((r=this.location)===null||r===void 0?void 0:r.toString())||window.location.href}get navigator(){return this.session.navigator}},Zi=class{constructor(){this.started=!1,this.removeStaleElements=e=>{let r=[...document.querySelectorAll('[data-turbo-cache="false"]')];for(let n of r)n.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeStaleElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeStaleElements,!1))}},eo=class{constructor(e,r){this.session=e,this.element=r,this.linkInterceptor=new Hn(this,r),this.formSubmitObserver=new Wr(this,r)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,r,n){return this.shouldRedirect(e)}linkClickIntercepted(e,r,n){let i=this.findFrameElement(e);i&&i.delegate.linkClickIntercepted(e,r,n)}willSubmitForm(e,r){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,r)&&this.shouldRedirect(e,r)}formSubmitted(e,r){let n=this.findFrameElement(e,r);n&&n.delegate.formSubmitted(e,r)}shouldSubmit(e,r){var n;let i=mo(e,r),o=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),a=Ie((n=o==null?void 0:o.content)!==null&&n!==void 0?n:"/");return this.shouldRedirect(e,r)&&er(i,a)}shouldRedirect(e,r){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,r):this.session.elementIsNavigatable(e)){let i=this.findFrameElement(e,r);return i?i!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,r){let n=(r==null?void 0:r.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(n&&n!="_top"){let i=this.element.querySelector(`#${n}:not([disabled])`);if(i instanceof Xe)return i}}},to=class{constructor(e){this.restorationIdentifier=tr(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=r=>{if(this.shouldHandlePopState()){let{turbo:n}=r.state||{};if(n){this.location=new URL(window.location.href);let{restorationIdentifier:i}=n;this.restorationIdentifier=i,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,i)}}},this.onPageLoad=r=>ne(this,null,function*(){yield om(),this.pageLoaded=!0}),this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,r){this.update(history.pushState,e,r)}replace(e,r){this.update(history.replaceState,e,r)}update(e,r,n=tr()){let i={turbo:{restorationIdentifier:n}};e.call(history,i,"",r.href),this.location=r,this.restorationIdentifier=n}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:r}=this,n=this.restorationData[r];this.restorationData[r]=Object.assign(Object.assign({},n),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},ro=class{constructor(e){this.delegate=e}proposeVisit(e,r={}){this.delegate.allowsVisitingLocationWithAction(e,r.action)&&(er(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,r):window.location.href=e.toString())}startVisit(e,r,n={}){this.stop(),this.currentVisit=new Xi(this,Ie(e),r,Object.assign({referrer:this.location},n)),this.currentVisit.start()}submitForm(e,r){this.stop(),this.formSubmission=new Nt(this,e,r,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}formSubmissionSucceededWithResponse(e,r){return ne(this,null,function*(){if(e==this.formSubmission){let n=yield r.responseHTML;if(n){let i=e.method==Fe.get;i||this.view.clearSnapshotCache();let{statusCode:o,redirected:a}=r,c={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:i,response:{statusCode:o,responseHTML:n,redirected:a}};this.proposeVisit(r.location,c)}}})}formSubmissionFailedWithResponse(e,r){return ne(this,null,function*(){let n=yield r.responseHTML;if(n){let i=We.fromHTMLString(n);r.serverError?yield this.view.renderError(i,this.currentVisit):yield this.view.renderPage(i,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}})}formSubmissionErrored(e,r){console.error(r)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,r){let n=qt(e),i=qt(this.view.lastRenderedLocation),o=r==="restore"&&typeof n=="undefined";return r!=="replace"&&$i(e)===$i(this.view.lastRenderedLocation)&&(o||n!=null&&n!==i)}visitScrolledToSamePageLocation(e,r){this.delegate.visitScrolledToSamePageLocation(e,r)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission(e){let{formElement:r,submitter:n}=e,i=Hr("data-turbo-action",n,r);return zn(i)?i:"advance"}};(function(t){t[t.initial=0]="initial",t[t.loading=1]="loading",t[t.interactive=2]="interactive",t[t.complete=3]="complete"})(lt||(lt={}));no=class{constructor(e){this.stage=lt.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:r}=this;r=="interactive"?this.pageIsInteractive():r=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==lt.initial&&(this.stage=lt.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==lt.loading&&(this.stage=lt.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==lt.interactive&&(this.stage=lt.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},io=class{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},oo=class{render({fragment:e}){Vn.preservingPermanentElements(this,Fm(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,r){r.replaceWith(e.cloneNode(!0))}leavingBardo(){}};ao=class{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=r=>{let n=Rm(r);n&&jm(n)&&(r.preventDefault(),this.receiveMessageResponse(n))},this.receiveMessageEvent=r=>{this.started&&typeof r.data=="string"&&this.receiveMessageHTML(r.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}receiveMessageResponse(e){return ne(this,null,function*(){let r=yield e.responseHTML;r&&this.receiveMessageHTML(r)})}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(ft.wrap(e))}};$n=class extends Vr{static renderElement(e,r){let{documentElement:n,body:i}=document;n.replaceChild(r,i)}render(){return ne(this,null,function*(){this.replaceHeadAndBody(),this.activateScriptElements()})}replaceHeadAndBody(){let{documentElement:e,head:r}=document;e.replaceChild(this.newHead,r),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let r=e.parentNode;if(r){let n=Br(e);r.replaceChild(n,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},zr=class extends Vr{static renderElement(e,r){document.body&&r instanceof HTMLBodyElement?document.body.replaceWith(r):document.documentElement.appendChild(r)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}prepareToRender(){return ne(this,null,function*(){yield this.mergeHead()})}render(){return ne(this,null,function*(){this.willRender&&this.replaceBody()})}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}mergeHead(){return ne(this,null,function*(){let e=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements(),yield e})}replaceBody(){this.preservingPermanentElements(()=>{this.activateNewBody(),this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}copyNewHeadStylesheetElements(){return ne(this,null,function*(){let e=[];for(let r of this.newHeadStylesheetElements)e.push(um(r)),document.head.appendChild(r);yield Promise.all(e)})}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(Br(e))}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let r=Br(e);e.replaceWith(r)}}assignNewBody(){this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},so=class{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return Nn(e)in this.snapshots}get(e){if(this.has(e)){let r=this.read(e);return this.touch(e),r}}put(e,r){return this.write(e,r),this.touch(e),r}clear(){this.snapshots={}}read(e){return this.snapshots[Nn(e)]}write(e,r){this.snapshots[Nn(e)]=r}touch(e){let r=Nn(e),n=this.keys.indexOf(r);n>-1&&this.keys.splice(n,1),this.keys.unshift(r),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},uo=class extends Bn{constructor(){super(...arguments),this.snapshotCache=new so(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,r=!1,n=!0,i){let o=new zr(this.snapshot,e,zr.renderElement,r,n);return o.shouldRender?i==null||i.changeHistory():this.forceReloaded=!0,this.render(o)}renderError(e,r){r==null||r.changeHistory();let n=new $n(this.snapshot,e,$n.renderElement,!1);return this.render(n)}clearSnapshotCache(){this.snapshotCache.clear()}cacheSnapshot(){return ne(this,arguments,function*(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:r}=this;yield im();let n=e.clone();return this.snapshotCache.put(r,n),n}})}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return We.fromElement(this.element)}},co=class{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(let r of e.querySelectorAll(this.selector))this.preloadURL(r)}preloadURL(e){return ne(this,null,function*(){let r=new URL(e.href);if(!this.snapshotCache.has(r))try{let i=yield(yield fetch(r.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),o=We.fromHTMLString(i);this.snapshotCache.put(r,o)}catch(n){}})}},lo=class{constructor(){this.navigator=new ro(this),this.history=new to(this),this.preloader=new co(this),this.view=new uo(this,document.documentElement),this.adapter=new Yi(this),this.pageObserver=new no(this),this.cacheObserver=new Zi,this.linkClickObserver=new Un(this,window),this.formSubmitObserver=new Wr(this,document),this.scrollObserver=new io(this),this.streamObserver=new ao(this),this.formLinkClickObserver=new Wn(this,document.documentElement),this.frameRedirector=new eo(this,document.documentElement),this.streamMessageRenderer=new oo,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,r={}){let n=r.frame?document.getElementById(r.frame):null;n instanceof Xe?(n.src=e.toString(),n.loaded):this.navigator.proposeVisit(Ie(e),r)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(ft.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,r){this.enabled?this.navigator.startVisit(e,r,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,r){return this.elementIsNavigatable(e)&&er(r,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,r,n){return this.elementIsNavigatable(e)&&er(r,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,r,n)}followedLinkToLocation(e,r){let n=this.getActionForLink(e),i=e.hasAttribute("data-turbo-stream");this.visit(r.href,{action:n,acceptsStreamResponse:i})}allowsVisitingLocationWithAction(e,r){return this.locationWithActionIsSamePage(e,r)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,r){hs(e),this.adapter.visitProposedToLocation(e,r)}visitStarted(e){e.acceptsStreamResponse||zi(document.documentElement),hs(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){Ki(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,r){return this.navigator.locationWithActionIsSamePage(e,r)}visitScrolledToSamePageLocation(e,r){this.notifyApplicationAfterVisitingSamePageLocation(e,r)}willSubmitForm(e,r){let n=mo(e,r);return this.submissionIsNavigatable(e,r)&&er(Ie(n),this.snapshot.rootLocation)}formSubmitted(e,r){this.navigator.submitForm(e,r)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},r){let n=this.notifyApplicationBeforeRender(e,r),{defaultPrevented:i,detail:{render:o}}=n;return this.view.renderer&&o&&(this.view.renderer.renderElement=o),!i}viewRenderedSnapshot(e,r){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,r){this.notifyApplicationAfterFrameRender(e,r)}applicationAllowsFollowingLinkToLocation(e,r,n){return!this.notifyApplicationAfterClickingLinkToLocation(e,r,n).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,r,n){return xe("turbo:click",{target:e,detail:{url:r.href,originalEvent:n},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return xe("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,r){return xe("turbo:visit",{detail:{url:e.href,action:r}})}notifyApplicationBeforeCachingSnapshot(){return xe("turbo:before-cache")}notifyApplicationBeforeRender(e,r){return xe("turbo:before-render",{detail:Object.assign({newBody:e},r),cancelable:!0})}notifyApplicationAfterRender(){return xe("turbo:render")}notifyApplicationAfterPageLoad(e={}){return xe("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,r){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:r.toString()}))}notifyApplicationAfterFrameLoad(e){return xe("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,r){return xe("turbo:frame-render",{detail:{fetchResponse:e},target:r,cancelable:!0})}submissionIsNavigatable(e,r){if(this.formMode=="off")return!1;{let n=r?this.elementIsNavigatable(r):!0;return this.formMode=="optin"?n&&e.closest('[data-turbo="true"]')!=null:n&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let r=e.closest("[data-turbo]"),n=e.closest("turbo-frame");return this.drive||n?r?r.getAttribute("data-turbo")!="false":!0:r?r.getAttribute("data-turbo")=="true":!1}getActionForLink(e){let r=e.getAttribute("data-turbo-action");return zn(r)?r:"advance"}get snapshot(){return this.view.snapshot}};qm={absoluteURL:{get(){return this.toString()}}},fo=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){lm("turbo-cache-control",e)}},Es={after(){this.targetElements.forEach(t=>{var e;return(e=t.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,t.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.append(this.templateContent))},before(){this.targetElements.forEach(t=>{var e;return(e=t.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,t)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(t=>t.prepend(this.templateContent))},remove(){this.targetElements.forEach(t=>t.remove())},replace(){this.targetElements.forEach(t=>t.replaceWith(this.templateContent))},update(){this.targetElements.forEach(t=>t.replaceChildren(this.templateContent))}},ye=new lo,Nm=new fo(ye),{navigator:Mm}=ye;zm=Object.freeze({__proto__:null,navigator:Mm,session:ye,cache:Nm,PageRenderer:zr,PageSnapshot:We,FrameRenderer:$r,start:Kn,registerAdapter:Dm,visit:Bm,connectStreamSource:As,disconnectStreamSource:Os,renderStreamMessage:Hm,clearCache:Um,setProgressBarDelay:Wm,setConfirmMethod:Vm,setFormMode:$m,StreamActions:Es}),ho=class{constructor(e){this.fetchResponseLoaded=r=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:r})=>{let n=r.querySelector("#"+this.element.id);n&&this.previousFrameElement&&n.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new Ji(this,this.element),this.appearanceObserver=new Gi(this,this.element),this.formLinkClickObserver=new Wn(this,this.element),this.linkInterceptor=new Hn(this,this.element),this.restorationIdentifier=tr(),this.formSubmitObserver=new Wr(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==St.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==St.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==St.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){let{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==St.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}loadSourceURL(){return ne(this,null,function*(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(Ie(this.sourceURL)),this.appearanceObserver.stop(),yield this.element.loaded,this.hasBeenLoaded=!0)})}loadResponse(e){return ne(this,null,function*(){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let r=yield e.responseHTML;if(r){let{body:n}=gs(r),i=yield this.extractForeignFrameElement(n);if(i){let o=new rr(i),a=new $r(this,this.view.snapshot,o,$r.renderElement,!1,!1);this.view.renderPromise&&(yield this.view.renderPromise),this.changeHistory(),yield this.view.render(a),this.complete=!0,ye.frameRendered(e,this.element),ye.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&(console.warn(`A matching frame for #${this.element.id} was missing from the response, transforming into full-page Visit.`),this.visitResponse(e.response))}}catch(r){console.error(r),this.view.invalidate()}finally{this.fetchResponseLoaded=()=>{}}})}elementAppearedInViewport(e){this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,r,n){let i=this.findFrameElement(e);i&&n.setAttribute("data-turbo-frame",i.id)}shouldInterceptLinkClick(e,r,n){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,r){this.navigateFrame(e,r)}willSubmitForm(e,r){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,r)}formSubmitted(e,r){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Nt(this,e,r);let{fetchRequest:n}=this.formSubmission;this.prepareHeadersForRequest(n.headers,n),this.formSubmission.start()}prepareHeadersForRequest(e,r){var n;e["Turbo-Frame"]=this.id,!((n=this.currentNavigationElement)===null||n===void 0)&&n.hasAttribute("data-turbo-stream")&&r.acceptResponseType(ft.contentType)}requestStarted(e){zi(this.element)}requestPreventedHandlingResponse(e,r){this.resolveVisitPromise()}requestSucceededWithResponse(e,r){return ne(this,null,function*(){yield this.loadResponse(r),this.resolveVisitPromise()})}requestFailedWithResponse(e,r){return ne(this,null,function*(){console.error(r),yield this.loadResponse(r),this.resolveVisitPromise()})}requestErrored(e,r){console.error(r),this.resolveVisitPromise()}requestFinished(e){Ki(this.element)}formSubmissionStarted({formElement:e}){zi(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,r){let n=this.findFrameElement(e.formElement,e.submitter);n.delegate.proposeVisitIfNavigatedWithAction(n,e.formElement,e.submitter),n.delegate.loadResponse(r)}formSubmissionFailedWithResponse(e,r){this.element.delegate.loadResponse(r)}formSubmissionErrored(e,r){console.error(r)}formSubmissionFinished({formElement:e}){Ki(e,this.findFrameElement(e))}allowsImmediateRender({element:e},r){let n=xe("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},r),cancelable:!0}),{defaultPrevented:i,detail:{render:o}}=n;return this.view.renderer&&o&&(this.view.renderer.renderElement=o),!i}viewRenderedSnapshot(e,r){}preloadOnLoadLinksForView(e){ye.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,r){this.previousFrameElement=e.cloneNode(!0)}visit(e){return ne(this,null,function*(){var r;let n=new Ur(this,Fe.get,e,new URLSearchParams,this.element);return(r=this.currentFetchRequest)===null||r===void 0||r.cancel(),this.currentFetchRequest=n,new Promise(i=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,i()},n.perform()})})}navigateFrame(e,r,n){let i=this.findFrameElement(e,n);this.pageSnapshot=We.fromElement(i).clone(),i.delegate.proposeVisitIfNavigatedWithAction(i,e,n),this.withCurrentNavigationElement(e,()=>{i.src=r})}proposeVisitIfNavigatedWithAction(e,r,n){if(this.action=cm(n,r,e),zn(this.action)){let{visitCachedSnapshot:i}=e.delegate;e.delegate.fetchResponseLoaded=o=>{if(e.src){let{statusCode:a,redirected:s}=o,c=e.ownerDocument.documentElement.outerHTML,m={response:{statusCode:a,redirected:s,responseHTML:c},visitCachedSnapshot:i,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:this.pageSnapshot};this.action&&(m.action=this.action),ye.visit(e.src,m)}}}}changeHistory(){if(this.action){let e=bs(this.action);ye.history.update(e,Ie(this.element.src||""),this.restorationIdentifier)}}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");let r=e.response,n=(s,...c)=>ne(this,[s,...c],function*(o,a={}){o instanceof Response?this.visitResponse(o):ye.visit(o,a)});return!xe("turbo:frame-missing",{target:this.element,detail:{response:r,visit:n},cancelable:!0}).defaultPrevented}visitResponse(e){return ne(this,null,function*(){let r=new Dr(e),n=yield r.responseHTML,{location:i,redirected:o,statusCode:a}=r;return ye.visit(i,{response:{redirected:o,statusCode:a,responseHTML:n}})})}findFrameElement(e,r){var n;let i=Hr("data-turbo-frame",r,e)||this.element.getAttribute("target");return(n=ps(i))!==null&&n!==void 0?n:this.element}extractForeignFrameElement(e){return ne(this,null,function*(){let r,n=CSS.escape(this.id);try{if(r=ms(e.querySelector(`turbo-frame#${n}`),this.sourceURL),r)return r;if(r=ms(e.querySelector(`turbo-frame[src][recurse~=${n}]`),this.sourceURL),r)return yield r.loaded,yield this.extractForeignFrameElement(r)}catch(i){return console.error(i),new Xe}return null})}formActionIsVisitable(e,r){let n=mo(e,r);return er(Ie(n),this.rootLocation)}shouldInterceptNavigation(e,r){let n=Hr("data-turbo-frame",r,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,r)||!this.enabled||n=="_top")return!1;if(n){let i=ps(n);if(i)return!i.disabled}return!(!ye.elementIsNavigatable(e)||r&&!ye.elementIsNavigatable(r))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e!=null?e:null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;let r=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=(e=r==null?void 0:r.content)!==null&&e!==void 0?e:"/";return Ie(n)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,r){this.ignoredAttributes.add(e),r(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,r){this.currentNavigationElement=e,r(),delete this.currentNavigationElement}};Kr=class extends HTMLElement{static renderElement(e){return ne(this,null,function*(){yield e.performAction()})}connectedCallback(){return ne(this,null,function*(){try{yield this.render()}catch(e){console.error(e)}finally{this.disconnect()}})}render(){return ne(this,null,function*(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(()=>ne(this,null,function*(){let r=this.beforeRenderEvent;this.dispatchEvent(r)&&(yield Mn(),yield r.detail.render(this))}))()})}disconnect(){try{this.remove()}catch(e){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;let r=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.id),n=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(i=>!!i.id).map(i=>i.id);return r.filter(i=>n.includes(i.id))}get performAction(){if(this.action){let e=Es[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,r;return(r=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&r!==void 0?r:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Kr.renderElement}})}get targetElementsById(){var e;let r=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return r!==null?[r]:[]}get targetElementsByQuery(){var e;let r=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return r.length!==0?Array.prototype.slice.call(r):[]}},po=class extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),As(this.streamSource)}disconnectedCallback(){this.streamSource&&Os(this.streamSource)}get src(){return this.getAttribute("src")||""}};Xe.delegateConstructor=ho;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Xe);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Kr);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",po);(()=>{let t=document.currentScript;if(!!t&&!t.hasAttribute("data-turbo-suppress-warning"))for(t=t.parentElement;t;){if(t==document.body)return console.warn(ys`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,t.outerHTML);t=t.parentElement}})();window.Turbo=zm;Kn()});function Gm(t,e){for(var r=t.split("."),n=e.split("."),i=0;i<r.length;i++)if(!n[i]||n[i]<r[i])return!1;return!0}function Jm(t){document.readyState==="loading"?document.addEventListener("readystatechange",()=>{document.readyState==="interactive"&&t()}):t()}var vo,xs=Y(()=>{vo=class{init(){document.body.querySelectorAll("[x-cloak]").forEach(e=>{var r;e.setAttribute("data-alpine-was-cloaked",(r=e.getAttribute("x-cloak"))!==null&&r!==void 0?r:"")}),this.configureEventHandlers()}setMutationObserverState(e){if(!window.Alpine.version||!Gm("2.4.0",window.Alpine.version))throw new Error("Invalid Alpine version. Please use Alpine 2.4.0 or above");window.Alpine.pauseMutationObserver=!e}configureEventHandlers(){var e=()=>{document.documentElement.hasAttribute("data-turbo-preview")||(window.Alpine.discoverUninitializedComponents(o=>{window.Alpine.initializeComponent(o)}),requestAnimationFrame(()=>{this.setMutationObserverState(!0)}))},r=o=>{var a=o.data?o.data.newBody:o.detail.newBody;a.querySelectorAll("[data-alpine-generated-me],[x-cloak]").forEach(s=>{if(s.hasAttribute("x-cloak")){var c;s.setAttribute("data-alpine-was-cloaked",(c=s.getAttribute("x-cloak"))!==null&&c!==void 0?c:"")}s.hasAttribute("data-alpine-generated-me")&&(s.removeAttribute("data-alpine-generated-me"),typeof s.__x_for_key=="undefined"&&typeof s.__x_inserted_me=="undefined"&&s.remove())})},n=()=>{this.setMutationObserverState(!1),document.body.querySelectorAll("[x-for],[x-if],[data-alpine-was-cloaked]").forEach(o=>{if(o.hasAttribute("data-alpine-was-cloaked")){var a;o.setAttribute("x-cloak",(a=o.getAttribute("data-alpine-was-cloaked"))!==null&&a!==void 0?a:""),o.removeAttribute("data-alpine-was-cloaked")}if(o.hasAttribute("x-for"))for(var s=o.nextElementSibling;s&&typeof s.__x_for_key!="undefined";){var c=s;s=s.nextElementSibling,c.setAttribute("data-alpine-generated-me",!0)}else if(o.hasAttribute("x-if")){var f=o.nextElementSibling;f&&typeof f.__x_inserted_me!="undefined"&&f.setAttribute("data-alpine-generated-me",!0)}})},i=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})};document.addEventListener("turbo:render",e),document.addEventListener("turbolinks:load",e),document.addEventListener("turbo:before-render",r),document.addEventListener("turbolinks:before-render",r),document.addEventListener("turbo:before-cache",n),document.addEventListener("turbolinks:before-cache",n),document.addEventListener("turbo:before-stream-render",i)}};window.Alpine&&console.error("Alpine-turbo-drive-adapter must be included before AlpineJs");Object.getOwnPropertyDescriptor(NodeList.prototype,"forEach")||Object.defineProperty(NodeList.prototype,"forEach",Object.getOwnPropertyDescriptor(Array.prototype,"forEach"));Jm(()=>{var t=new vo;t.init()})});var Ts=I((go,yo)=>{(function(t,e){typeof go=="object"&&typeof yo!="undefined"?yo.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.Alpine=e())})(go,function(){"use strict";function t(d,u,l){return u in d?Object.defineProperty(d,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):d[u]=l,d}function e(d,u){var l=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);u&&(v=v.filter(function(E){return Object.getOwnPropertyDescriptor(d,E).enumerable})),l.push.apply(l,v)}return l}function r(d){for(var u=1;u<arguments.length;u++){var l=arguments[u]!=null?arguments[u]:{};u%2?e(Object(l),!0).forEach(function(v){t(d,v,l[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(l)):e(Object(l)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(l,v))})}return d}function n(){return new Promise(d=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",d):d()})}function i(d){return Array.from(new Set(d))}function o(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function a(d,u){return d==u}function s(d,u){d.tagName.toLowerCase()!=="template"?console.warn(`Alpine: [${u}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${u}`):d.content.childElementCount!==1&&console.warn(`Alpine: <template> tag with [${u}] encountered with an unexpected number of root elements. Make sure <template> has a single root element. `)}function c(d){return d.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function f(d){return d.toLowerCase().replace(/-(\w)/g,(u,l)=>l.toUpperCase())}function m(d,u){if(u(d)===!1)return;let l=d.firstElementChild;for(;l;)m(l,u),l=l.nextElementSibling}function y(d,u){var l;return function(){var v=this,E=arguments,O=function(){l=null,d.apply(v,E)};clearTimeout(l),l=setTimeout(O,u)}}let w=(d,u,l)=>{if(console.warn(`Alpine Error: "${l}"

Expression: "${u}"
Element:`,d),!o())throw Object.assign(l,{el:d,expression:u}),l};function P(d,{el:u,expression:l}){try{let v=d();return v instanceof Promise?v.catch(E=>w(u,l,E)):v}catch(v){w(u,l,v)}}function D(d,u,l,v={}){return P(()=>typeof u=="function"?u.call(l):new Function(["$data",...Object.keys(v)],`var __alpine_result; with($data) { __alpine_result = ${u} }; return __alpine_result`)(l,...Object.values(v)),{el:d,expression:u})}function U(d,u,l,v={}){return P(()=>{if(typeof u=="function")return Promise.resolve(u.call(l,v.$event));let E=Function;if(E=Object.getPrototypeOf(function(){return ne(this,null,function*(){})}).constructor,Object.keys(l).includes(u)){let O=new Function(["dataContext",...Object.keys(v)],`with(dataContext) { return ${u} }`)(l,...Object.values(v));return typeof O=="function"?Promise.resolve(O.call(l,v.$event)):Promise.resolve()}return Promise.resolve(new E(["dataContext",...Object.keys(v)],`with(dataContext) { ${u} }`)(l,...Object.values(v)))},{el:d,expression:u})}let $=/^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\b/;function x(d){let u=_(d.name);return $.test(u)}function S(d,u,l){let v=Array.from(d.attributes).filter(x).map(p),E=v.filter(O=>O.type==="spread")[0];if(E){let O=D(d,E.expression,u.$data);v=v.concat(Object.entries(O).map(([k,T])=>p({name:k,value:T})))}return l?v.filter(O=>O.type===l):h(v)}function h(d){let u=["bind","model","show","catch-all"];return d.sort((l,v)=>{let E=u.indexOf(l.type)===-1?"catch-all":l.type,O=u.indexOf(v.type)===-1?"catch-all":v.type;return u.indexOf(E)-u.indexOf(O)})}function p({name:d,value:u}){let l=_(d),v=l.match($),E=l.match(/:([a-zA-Z0-9\-:]+)/),O=l.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:v?v[1]:null,value:E?E[1]:null,modifiers:O.map(k=>k.replace(".","")),expression:u}}function A(d){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(d)}function _(d){return d.startsWith("@")?d.replace("@","x-on:"):d.startsWith(":")?d.replace(":","x-bind:"):d}function ae(d,u=Boolean){return d.split(" ").filter(u)}let Ee="in",Ae="out",Me="cancelled";function le(d,u,l,v,E=!1){if(E)return u();if(d.__x_transition&&d.__x_transition.type===Ee)return;let O=S(d,v,"transition"),k=S(d,v,"show")[0];if(k&&k.modifiers.includes("transition")){let T=k.modifiers;if(T.includes("out")&&!T.includes("in"))return u();T=T.includes("in")&&T.includes("out")?T.filter((H,W)=>W<T.indexOf("out")):T,Sn(d,T,u,l)}else O.some(T=>["enter","enter-start","enter-end"].includes(T.value))?fe(d,v,O,u,l):u()}function Tr(d,u,l,v,E=!1){if(E)return u();if(d.__x_transition&&d.__x_transition.type===Ae)return;let O=S(d,v,"transition"),k=S(d,v,"show")[0];if(k&&k.modifiers.includes("transition")){let T=k.modifiers;if(T.includes("in")&&!T.includes("out"))return u();let F=T.includes("in")&&T.includes("out");T=F?T.filter((H,W)=>W>T.indexOf("out")):T,Ii(d,T,F,u,l)}else O.some(T=>["leave","leave-start","leave-end"].includes(T.value))?An(d,v,O,u,l):u()}function Sn(d,u,l,v){let E={duration:st(u,"duration",150),origin:st(u,"origin","center"),first:{opacity:0,scale:st(u,"scale",95)},second:{opacity:1,scale:100}};En(d,u,l,()=>{},v,E,Ee)}function Ii(d,u,l,v,E){let k={duration:l?st(u,"duration",150):st(u,"duration",150)/2,origin:st(u,"origin","center"),first:{opacity:1,scale:100},second:{opacity:0,scale:st(u,"scale",95)}};En(d,u,()=>{},v,E,k,Ae)}function st(d,u,l){if(d.indexOf(u)===-1)return l;let v=d[d.indexOf(u)+1];if(!v||u==="scale"&&!Ft(v))return l;if(u==="duration"){let E=v.match(/([0-9]+)ms/);if(E)return E[1]}return u==="origin"&&["top","right","left","center","bottom"].includes(d[d.indexOf(u)+2])?[v,d[d.indexOf(u)+2]].join(" "):v}function En(d,u,l,v,E,O,k){d.__x_transition&&d.__x_transition.cancel&&d.__x_transition.cancel();let T=d.style.opacity,F=d.style.transform,H=d.style.transformOrigin,W=!u.includes("opacity")&&!u.includes("scale"),Q=W||u.includes("opacity"),re=W||u.includes("scale");On(d,{start(){Q&&(d.style.opacity=O.first.opacity),re&&(d.style.transform=`scale(${O.first.scale/100})`)},during(){re&&(d.style.transformOrigin=O.origin),d.style.transitionProperty=[Q?"opacity":"",re?"transform":""].join(" ").trim(),d.style.transitionDuration=`${O.duration/1e3}s`,d.style.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"},show(){l()},end(){Q&&(d.style.opacity=O.second.opacity),re&&(d.style.transform=`scale(${O.second.scale/100})`)},hide(){v()},cleanup(){Q&&(d.style.opacity=T),re&&(d.style.transform=F),re&&(d.style.transformOrigin=H),d.style.transitionProperty=null,d.style.transitionDuration=null,d.style.transitionTimingFunction=null}},k,E)}let ut=(d,u,l)=>typeof d=="function"?l.evaluateReturnExpression(u,d):d;function fe(d,u,l,v,E){let O=ae(ut((l.find(F=>F.value==="enter")||{expression:""}).expression,d,u)),k=ae(ut((l.find(F=>F.value==="enter-start")||{expression:""}).expression,d,u)),T=ae(ut((l.find(F=>F.value==="enter-end")||{expression:""}).expression,d,u));Cr(d,O,k,T,v,()=>{},Ee,E)}function An(d,u,l,v,E){let O=ae(ut((l.find(F=>F.value==="leave")||{expression:""}).expression,d,u)),k=ae(ut((l.find(F=>F.value==="leave-start")||{expression:""}).expression,d,u)),T=ae(ut((l.find(F=>F.value==="leave-end")||{expression:""}).expression,d,u));Cr(d,O,k,T,()=>{},v,Ae,E)}function Cr(d,u,l,v,E,O,k,T){d.__x_transition&&d.__x_transition.cancel&&d.__x_transition.cancel();let F=d.__x_original_classes||[];On(d,{start(){d.classList.add(...l)},during(){d.classList.add(...u)},show(){E()},end(){d.classList.remove(...l.filter(W=>!F.includes(W))),d.classList.add(...v)},hide(){O()},cleanup(){d.classList.remove(...u.filter(W=>!F.includes(W))),d.classList.remove(...v.filter(W=>!F.includes(W)))}},k,T)}function On(d,u,l,v){let E=kr(()=>{u.hide(),d.isConnected&&u.cleanup(),delete d.__x_transition});d.__x_transition={type:l,cancel:kr(()=>{v(Me),E()}),finish:E,nextFrame:null},u.start(),u.during(),d.__x_transition.nextFrame=requestAnimationFrame(()=>{let O=Number(getComputedStyle(d).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3;O===0&&(O=Number(getComputedStyle(d).animationDuration.replace("s",""))*1e3),u.show(),d.__x_transition.nextFrame=requestAnimationFrame(()=>{u.end(),setTimeout(d.__x_transition.finish,O)})})}function Ft(d){return!Array.isArray(d)&&!isNaN(d)}function kr(d){let u=!1;return function(){u||(u=!0,d.apply(this,arguments))}}function Ir(d,u,l,v,E){s(u,"x-for");let O=Pn(typeof l=="function"?d.evaluateReturnExpression(u,l):l),k=Ri(d,u,O,E),T=u;k.forEach((F,H)=>{let W=Li(O,F,H,k,E()),Q=Fi(d,u,H,W),re=xn(T.nextElementSibling,Q);re?(delete re.__x_for_key,re.__x_for=W,d.updateElements(re,()=>re.__x_for)):(re=ji(u,T),le(re,()=>{},()=>{},d,v),re.__x_for=W,d.initializeElements(re,()=>re.__x_for)),T=re,T.__x_for_key=Q}),vt(T,d)}function Pn(d){let u=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,l=/^\(|\)$/g,v=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,E=String(d).match(v);if(!E)return;let O={};O.items=E[2].trim();let k=E[1].trim().replace(l,""),T=k.match(u);return T?(O.item=k.replace(u,"").trim(),O.index=T[1].trim(),T[2]&&(O.collection=T[2].trim())):O.item=k,O}function Li(d,u,l,v,E){let O=E?r({},E):{};return O[d.item]=u,d.index&&(O[d.index]=l),d.collection&&(O[d.collection]=v),O}function Fi(d,u,l,v){let E=S(u,d,"bind").filter(O=>O.value==="key")[0];return E?d.evaluateReturnExpression(u,E.expression,()=>v):l}function Ri(d,u,l,v){let E=S(u,d,"if")[0];if(E&&!d.evaluateReturnExpression(u,E.expression))return[];let O=d.evaluateReturnExpression(u,l.items,v);return Ft(O)&&O>=0&&(O=Array.from(Array(O).keys(),k=>k+1)),O}function ji(d,u){let l=document.importNode(d.content,!0);return u.parentElement.insertBefore(l,u.nextElementSibling),u.nextElementSibling}function xn(d,u){if(!d||d.__x_for_key===void 0)return;if(d.__x_for_key===u)return d;let l=d;for(;l;){if(l.__x_for_key===u)return l.parentElement.insertBefore(l,d);l=l.nextElementSibling&&l.nextElementSibling.__x_for_key!==void 0?l.nextElementSibling:!1}}function vt(d,u){for(var l=d.nextElementSibling&&d.nextElementSibling.__x_for_key!==void 0?d.nextElementSibling:!1;l;){let v=l,E=l.nextElementSibling;Tr(l,()=>{v.remove()},()=>{},u),l=E&&E.__x_for_key!==void 0?E:!1}}function Lr(d,u,l,v,E,O,k){var T=d.evaluateReturnExpression(u,v,E);if(l==="value"){if(Ge.ignoreFocusedForValueBinding&&document.activeElement.isSameNode(u))return;if(T===void 0&&String(v).match(/\./)&&(T=""),u.type==="radio")u.attributes.value===void 0&&O==="bind"?u.value=T:O!=="bind"&&(u.checked=a(u.value,T));else if(u.type==="checkbox")typeof T!="boolean"&&![null,void 0].includes(T)&&O==="bind"?u.value=String(T):O!=="bind"&&(Array.isArray(T)?u.checked=T.some(F=>a(F,u.value)):u.checked=!!T);else if(u.tagName==="SELECT")qi(u,T);else{if(u.value===T)return;u.value=T}}else if(l==="class")if(Array.isArray(T)){let F=u.__x_original_classes||[];u.setAttribute("class",i(F.concat(T)).join(" "))}else if(typeof T=="object")Object.keys(T).sort((H,W)=>T[H]-T[W]).forEach(H=>{T[H]?ae(H).forEach(W=>u.classList.add(W)):ae(H).forEach(W=>u.classList.remove(W))});else{let F=u.__x_original_classes||[],H=T?ae(T):[];u.setAttribute("class",i(F.concat(H)).join(" "))}else l=k.includes("camel")?f(l):l,[null,void 0,!1].includes(T)?u.removeAttribute(l):A(l)?Tn(u,l,l):Tn(u,l,T)}function Tn(d,u,l){d.getAttribute(u)!=l&&d.setAttribute(u,l)}function qi(d,u){let l=[].concat(u).map(v=>v+"");Array.from(d.options).forEach(v=>{v.selected=l.includes(v.value||v.text)})}function Ni(d,u,l){u===void 0&&String(l).match(/\./)&&(u=""),d.textContent=u}function $t(d,u,l,v){u.innerHTML=d.evaluateReturnExpression(u,l,v)}function Cn(d,u,l,v,E=!1){let O=()=>{u.style.display="none",u.__x_is_shown=!1},k=()=>{u.style.length===1&&u.style.display==="none"?u.removeAttribute("style"):u.style.removeProperty("display"),u.__x_is_shown=!0};if(E===!0){l?k():O();return}let T=(F,H)=>{l?((u.style.display==="none"||u.__x_transition)&&le(u,()=>{k()},H,d),F(()=>{})):u.style.display!=="none"?Tr(u,()=>{F(()=>{O()})},H,d):F(()=>{})};if(v.includes("immediate")){T(F=>F(),()=>{});return}d.showDirectiveLastElement&&!d.showDirectiveLastElement.contains(u)&&d.executeAndClearRemainingShowDirectiveStack(),d.showDirectiveStack.push(T),d.showDirectiveLastElement=u}function Mi(d,u,l,v,E){s(u,"x-if");let O=u.nextElementSibling&&u.nextElementSibling.__x_inserted_me===!0;if(l&&(!O||u.__x_transition)){let k=document.importNode(u.content,!0);u.parentElement.insertBefore(k,u.nextElementSibling),le(u.nextElementSibling,()=>{},()=>{},d,v),d.initializeElements(u.nextElementSibling,E),u.nextElementSibling.__x_inserted_me=!0}else!l&&O&&Tr(u.nextElementSibling,()=>{u.nextElementSibling.remove()},()=>{},d,v)}function kn(d,u,l,v,E,O={}){let k={passive:v.includes("passive")};v.includes("camel")&&(l=f(l));let T,F;if(v.includes("away")?(F=document,T=H=>{u.contains(H.target)||u.offsetWidth<1&&u.offsetHeight<1||(zt(d,E,H,O),v.includes("once")&&document.removeEventListener(l,T,k))}):(F=v.includes("window")?window:v.includes("document")?document:u,T=H=>{if((F===window||F===document)&&!document.body.contains(u)){F.removeEventListener(l,T,k);return}Di(l)&&Bi(H,v)||(v.includes("prevent")&&H.preventDefault(),v.includes("stop")&&H.stopPropagation(),(!v.includes("self")||H.target===u)&&zt(d,E,H,O).then(Q=>{Q===!1?H.preventDefault():v.includes("once")&&F.removeEventListener(l,T,k)}))}),v.includes("debounce")){let H=v[v.indexOf("debounce")+1]||"invalid-wait",W=Ft(H.split("ms")[0])?Number(H.split("ms")[0]):250;T=y(T,W)}F.addEventListener(l,T,k)}function zt(d,u,l,v){return d.evaluateCommandExpression(l.target,u,()=>r(r({},v()),{},{$event:l}))}function Di(d){return["keydown","keyup"].includes(d)}function Bi(d,u){let l=u.filter(O=>!["window","document","prevent","stop"].includes(O));if(l.includes("debounce")){let O=l.indexOf("debounce");l.splice(O,Ft((l[O+1]||"invalid-wait").split("ms")[0])?2:1)}if(l.length===0||l.length===1&&l[0]===In(d.key))return!1;let E=["ctrl","shift","alt","meta","cmd","super"].filter(O=>l.includes(O));return l=l.filter(O=>!E.includes(O)),!(E.length>0&&E.filter(k=>((k==="cmd"||k==="super")&&(k="meta"),d[`${k}Key`])).length===E.length&&l[0]===In(d.key))}function In(d){switch(d){case"/":return"slash";case" ":case"Spacebar":return"space";default:return d&&c(d)}}function Hi(d,u,l,v,E){var O=u.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(u.type)||l.includes("lazy")?"change":"input";let k=`${v} = rightSideOfExpression($event, ${v})`;kn(d,u,O,l,k,()=>r(r({},E()),{},{rightSideOfExpression:Fr(u,l,v)}))}function Fr(d,u,l){return d.type==="radio"&&(d.hasAttribute("name")||d.setAttribute("name",l)),(v,E)=>{if(v instanceof CustomEvent&&v.detail)return v.detail;if(d.type==="checkbox")if(Array.isArray(E)){let O=u.includes("number")?Kt(v.target.value):v.target.value;return v.target.checked?E.concat([O]):E.filter(k=>!a(k,O))}else return v.target.checked;else{if(d.tagName.toLowerCase()==="select"&&d.multiple)return u.includes("number")?Array.from(v.target.selectedOptions).map(O=>{let k=O.value||O.text;return Kt(k)}):Array.from(v.target.selectedOptions).map(O=>O.value||O.text);{let O=v.target.value;return u.includes("number")?Kt(O):u.includes("trim")?O.trim():O}}}}function Kt(d){let u=d?parseFloat(d):null;return Ft(u)?u:d}let{isArray:Ke}=Array,{getPrototypeOf:Rr,create:gt,defineProperty:ct,defineProperties:Ln,isExtensible:Fn,getOwnPropertyDescriptor:yt,getOwnPropertyNames:Gt,getOwnPropertySymbols:jr,preventExtensions:Jt,hasOwnProperty:Rt}=Object,{push:ls,concat:Qt,map:fs}=Array.prototype;function Ue(d){return d===void 0}function Xt(d){return typeof d=="function"}function Ui(d){return typeof d=="object"}let Rn=new WeakMap;function jn(d,u){Rn.set(d,u)}let bt=d=>Rn.get(d)||d;function qr(d,u){return d.valueIsObservable(u)?d.getProxy(u):u}function Wi(d){return Rt.call(d,"value")&&(d.value=bt(d.value)),d}function qn(d,u,l){Qt.call(Gt(l),jr(l)).forEach(E=>{let O=yt(l,E);O.configurable||(O=z(d,O,qr)),ct(u,E,O)}),Jt(u)}class b{constructor(u,l){this.originalTarget=l,this.membrane=u}get(u,l){let{originalTarget:v,membrane:E}=this,O=v[l],{valueObserved:k}=E;return k(v,l),E.getProxy(O)}set(u,l,v){let{originalTarget:E,membrane:{valueMutated:O}}=this;return E[l]!==v?(E[l]=v,O(E,l)):l==="length"&&Ke(E)&&O(E,l),!0}deleteProperty(u,l){let{originalTarget:v,membrane:{valueMutated:E}}=this;return delete v[l],E(v,l),!0}apply(u,l,v){}construct(u,l,v){}has(u,l){let{originalTarget:v,membrane:{valueObserved:E}}=this;return E(v,l),l in v}ownKeys(u){let{originalTarget:l}=this;return Qt.call(Gt(l),jr(l))}isExtensible(u){let l=Fn(u);if(!l)return l;let{originalTarget:v,membrane:E}=this,O=Fn(v);return O||qn(E,u,v),O}setPrototypeOf(u,l){}getPrototypeOf(u){let{originalTarget:l}=this;return Rr(l)}getOwnPropertyDescriptor(u,l){let{originalTarget:v,membrane:E}=this,{valueObserved:O}=this.membrane;O(v,l);let k=yt(v,l);if(Ue(k))return k;let T=yt(u,l);return Ue(T)?(k=z(E,k,qr),k.configurable||ct(u,l,k),k):T}preventExtensions(u){let{originalTarget:l,membrane:v}=this;return qn(v,u,l),Jt(l),!0}defineProperty(u,l,v){let{originalTarget:E,membrane:O}=this,{valueMutated:k}=O,{configurable:T}=v;if(Rt.call(v,"writable")&&!Rt.call(v,"value")){let F=yt(E,l);v.value=F.value}return ct(E,l,Wi(v)),T===!1&&ct(u,l,z(O,v,qr)),k(E,l),!0}}function g(d,u){return d.valueIsObservable(u)?d.getReadOnlyProxy(u):u}class L{constructor(u,l){this.originalTarget=l,this.membrane=u}get(u,l){let{membrane:v,originalTarget:E}=this,O=E[l],{valueObserved:k}=v;return k(E,l),v.getReadOnlyProxy(O)}set(u,l,v){return!1}deleteProperty(u,l){return!1}apply(u,l,v){}construct(u,l,v){}has(u,l){let{originalTarget:v,membrane:{valueObserved:E}}=this;return E(v,l),l in v}ownKeys(u){let{originalTarget:l}=this;return Qt.call(Gt(l),jr(l))}setPrototypeOf(u,l){}getOwnPropertyDescriptor(u,l){let{originalTarget:v,membrane:E}=this,{valueObserved:O}=E;O(v,l);let k=yt(v,l);if(Ue(k))return k;let T=yt(u,l);return Ue(T)?(k=z(E,k,g),Rt.call(k,"set")&&(k.set=void 0),k.configurable||ct(u,l,k),k):T}preventExtensions(u){return!1}defineProperty(u,l,v){return!1}}function M(d){let u;return Ke(d)?u=[]:Ui(d)&&(u={}),u}let C=Object.prototype;function j(d){if(d===null||typeof d!="object")return!1;if(Ke(d))return!0;let u=Rr(d);return u===C||u===null||Rr(u)===null}let R=(d,u)=>{},X=(d,u)=>{},Z=d=>d;function z(d,u,l){let{set:v,get:E}=u;return Rt.call(u,"value")?u.value=l(d,u.value):(Ue(E)||(u.get=function(){return l(d,E.call(bt(this)))}),Ue(v)||(u.set=function(O){v.call(bt(this),d.unwrapProxy(O))})),u}class ie{constructor(u){if(this.valueDistortion=Z,this.valueMutated=X,this.valueObserved=R,this.valueIsObservable=j,this.objectGraph=new WeakMap,!Ue(u)){let{valueDistortion:l,valueMutated:v,valueObserved:E,valueIsObservable:O}=u;this.valueDistortion=Xt(l)?l:Z,this.valueMutated=Xt(v)?v:X,this.valueObserved=Xt(E)?E:R,this.valueIsObservable=Xt(O)?O:j}}getProxy(u){let l=bt(u),v=this.valueDistortion(l);if(this.valueIsObservable(v)){let E=this.getReactiveState(l,v);return E.readOnly===u?u:E.reactive}return v}getReadOnlyProxy(u){u=bt(u);let l=this.valueDistortion(u);return this.valueIsObservable(l)?this.getReactiveState(u,l).readOnly:l}unwrapProxy(u){return bt(u)}getReactiveState(u,l){let{objectGraph:v}=this,E=v.get(l);if(E)return E;let O=this;return E={get reactive(){let k=new b(O,l),T=new Proxy(M(l),k);return jn(T,u),ct(this,"reactive",{value:T}),T},get readOnly(){let k=new L(O,l),T=new Proxy(M(l),k);return jn(T,u),ct(this,"readOnly",{value:T}),T}},v.set(l,E),E}}function pe(d,u){let l=new ie({valueMutated(v,E){u(v,E)}});return{data:l.getProxy(d),membrane:l}}function Se(d,u){let l=d.unwrapProxy(u),v={};return Object.keys(l).forEach(E=>{["$el","$refs","$nextTick","$watch"].includes(E)||(v[E]=l[E])}),v}class Oe{constructor(u,l=null){this.$el=u;let v=this.$el.getAttribute("x-data"),E=v===""?"{}":v,O=this.$el.getAttribute("x-init"),k={$el:this.$el},T=l?l.$el:this.$el;Object.entries(Ge.magicProperties).forEach(([Q,re])=>{Object.defineProperty(k,`$${Q}`,{get:function(){return re(T)}})}),this.unobservedData=l?l.getUnobservedData():D(u,E,k);let{membrane:F,data:H}=this.wrapDataInObservable(this.unobservedData);this.$data=H,this.membrane=F,this.unobservedData.$el=this.$el,this.unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],this.unobservedData.$nextTick=Q=>{this.nextTickStack.push(Q)},this.watchers={},this.unobservedData.$watch=(Q,re)=>{this.watchers[Q]||(this.watchers[Q]=[]),this.watchers[Q].push(re)},Object.entries(Ge.magicProperties).forEach(([Q,re])=>{Object.defineProperty(this.unobservedData,`$${Q}`,{get:function(){return re(T,this.$el)}})}),this.showDirectiveStack=[],this.showDirectiveLastElement,l||Ge.onBeforeComponentInitializeds.forEach(Q=>Q(this));var W;O&&!l&&(this.pauseReactivity=!0,W=this.evaluateReturnExpression(this.$el,O),this.pauseReactivity=!1),this.initializeElements(this.$el,()=>{},l),this.listenForNewElementsToInitialize(),typeof W=="function"&&W.call(this.$data),l||setTimeout(()=>{Ge.onComponentInitializeds.forEach(Q=>Q(this))},0)}getUnobservedData(){return Se(this.membrane,this.$data)}wrapDataInObservable(u){var l=this;let v=y(function(){l.updateElements(l.$el)},0);return pe(u,(E,O)=>{l.watchers[O]?l.watchers[O].forEach(k=>k(E[O])):Array.isArray(E)?Object.keys(l.watchers).forEach(k=>{let T=k.split(".");O!=="length"&&T.reduce((F,H)=>(Object.is(E,F[H])&&l.watchers[k].forEach(W=>W(E)),F[H]),l.unobservedData)}):Object.keys(l.watchers).filter(k=>k.includes(".")).forEach(k=>{let T=k.split(".");O===T[T.length-1]&&T.reduce((F,H)=>(Object.is(E,F)&&l.watchers[k].forEach(W=>W(E[O])),F[H]),l.unobservedData)}),!l.pauseReactivity&&v()})}walkAndSkipNestedComponents(u,l,v=()=>{}){m(u,E=>E.hasAttribute("x-data")&&!E.isSameNode(this.$el)?(E.__x||v(E),!1):l(E))}initializeElements(u,l=()=>{},v=!1){this.walkAndSkipNestedComponents(u,E=>{if(E.__x_for_key!==void 0||E.__x_inserted_me!==void 0)return!1;this.initializeElement(E,l,!v)},E=>{v||(E.__x=new Oe(E))}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(u)}initializeElement(u,l,v=!0){u.hasAttribute("class")&&S(u,this).length>0&&(u.__x_original_classes=ae(u.getAttribute("class"))),v&&this.registerListeners(u,l),this.resolveBoundAttributes(u,!0,l)}updateElements(u,l=()=>{}){this.walkAndSkipNestedComponents(u,v=>{if(v.__x_for_key!==void 0&&!v.isSameNode(this.$el))return!1;this.updateElement(v,l)},v=>{v.__x=new Oe(v)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(u)}executeAndClearNextTickStack(u){u===this.$el&&this.nextTickStack.length>0&&requestAnimationFrame(()=>{for(;this.nextTickStack.length>0;)this.nextTickStack.shift()()})}executeAndClearRemainingShowDirectiveStack(){this.showDirectiveStack.reverse().map(u=>new Promise((l,v)=>{u(l,v)})).reduce((u,l)=>u.then(()=>l.then(v=>{v()})),Promise.resolve(()=>{})).catch(u=>{if(u!==Me)throw u}),this.showDirectiveStack=[],this.showDirectiveLastElement=void 0}updateElement(u,l){this.resolveBoundAttributes(u,!1,l)}registerListeners(u,l){S(u,this).forEach(({type:v,value:E,modifiers:O,expression:k})=>{switch(v){case"on":kn(this,u,E,O,k,l);break;case"model":Hi(this,u,O,k,l);break}})}resolveBoundAttributes(u,l=!1,v){let E=S(u,this);E.forEach(({type:O,value:k,modifiers:T,expression:F})=>{switch(O){case"model":Lr(this,u,"value",F,v,O,T);break;case"bind":if(u.tagName.toLowerCase()==="template"&&k==="key")return;Lr(this,u,k,F,v,O,T);break;case"text":var H=this.evaluateReturnExpression(u,F,v);Ni(u,H,F);break;case"html":$t(this,u,F,v);break;case"show":var H=this.evaluateReturnExpression(u,F,v);Cn(this,u,H,T,l);break;case"if":if(E.some(W=>W.type==="for"))return;var H=this.evaluateReturnExpression(u,F,v);Mi(this,u,H,l,v);break;case"for":Ir(this,u,F,l,v);break;case"cloak":u.removeAttribute("x-cloak");break}})}evaluateReturnExpression(u,l,v=()=>{}){return D(u,l,this.$data,r(r({},v()),{},{$dispatch:this.getDispatchFunction(u)}))}evaluateCommandExpression(u,l,v=()=>{}){return U(u,l,this.$data,r(r({},v()),{},{$dispatch:this.getDispatchFunction(u)}))}getDispatchFunction(u){return(l,v={})=>{u.dispatchEvent(new CustomEvent(l,{detail:v,bubbles:!0}))}}listenForNewElementsToInitialize(){let u=this.$el,l={childList:!0,attributes:!0,subtree:!0};new MutationObserver(E=>{for(let O=0;O<E.length;O++){let k=E[O].target.closest("[x-data]");if(!!(k&&k.isSameNode(this.$el))){if(E[O].type==="attributes"&&E[O].attributeName==="x-data"){let T=E[O].target.getAttribute("x-data")||"{}",F=D(this.$el,T,{$el:this.$el});Object.keys(F).forEach(H=>{this.$data[H]!==F[H]&&(this.$data[H]=F[H])})}E[O].addedNodes.length>0&&E[O].addedNodes.forEach(T=>{if(!(T.nodeType!==1||T.__x_inserted_me)){if(T.matches("[x-data]")&&!T.__x){T.__x=new Oe(T);return}this.initializeElements(T)}})}}}).observe(u,l)}getRefsProxy(){var u=this,l={};return new Proxy(l,{get(v,E){if(E==="$isAlpineProxy")return!0;var O;return u.walkAndSkipNestedComponents(u.$el,k=>{k.hasAttribute("x-ref")&&k.getAttribute("x-ref")===E&&(O=k)}),O}})}}let Ge={version:"2.8.2",pauseMutationObserver:!1,magicProperties:{},onComponentInitializeds:[],onBeforeComponentInitializeds:[],ignoreFocusedForValueBinding:!1,start:function(){return ne(this,null,function*(){o()||(yield n()),this.discoverComponents(u=>{this.initializeComponent(u)}),document.addEventListener("turbolinks:load",()=>{this.discoverUninitializedComponents(u=>{this.initializeComponent(u)})}),this.listenForNewUninitializedComponentsAtRunTime()})},discoverComponents:function(u){document.querySelectorAll("[x-data]").forEach(v=>{u(v)})},discoverUninitializedComponents:function(u,l=null){let v=(l||document).querySelectorAll("[x-data]");Array.from(v).filter(E=>E.__x===void 0).forEach(E=>{u(E)})},listenForNewUninitializedComponentsAtRunTime:function(){let u=document.querySelector("body"),l={childList:!0,attributes:!0,subtree:!0};new MutationObserver(E=>{if(!this.pauseMutationObserver)for(let O=0;O<E.length;O++)E[O].addedNodes.length>0&&E[O].addedNodes.forEach(k=>{k.nodeType===1&&(k.parentElement&&k.parentElement.closest("[x-data]")||this.discoverUninitializedComponents(T=>{this.initializeComponent(T)},k.parentElement))})}).observe(u,l)},initializeComponent:function(u){if(!u.__x)try{u.__x=new Oe(u)}catch(l){setTimeout(()=>{throw l},0)}},clone:function(u,l){l.__x||(l.__x=new Oe(l,u))},addMagicProperty:function(u,l){this.magicProperties[u]=l},onComponentInitialized:function(u){this.onComponentInitializeds.push(u)},onBeforeComponentInitialized:function(u){this.onBeforeComponentInitializeds.push(u)}};return o()||(window.Alpine=Ge,window.deferLoadingAlpine?window.deferLoadingAlpine(function(){window.Alpine.start()}):window.Alpine.start()),Ge})});var Cs=Y(()=>{"use strict";(function(){var t=e();function e(){if(typeof window.CustomEvent=="function")return window.CustomEvent;function i(o,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(o,a.bubbles,a.cancelable,a.detail),s}return i.prototype=window.Event.prototype,i}function r(i,o){var a=document.createElement("input");return a.type="hidden",a.name=i,a.value=o,a}function n(i,o){var a=i.getAttribute("data-to"),s=r("_method",i.getAttribute("data-method")),c=r("_csrf_token",i.getAttribute("data-csrf")),f=document.createElement("form"),m=document.createElement("input"),y=i.getAttribute("target");f.method=i.getAttribute("data-method")==="get"?"get":"post",f.action=a,f.style.display="none",y?f.target=y:o&&(f.target="_blank"),f.appendChild(c),f.appendChild(s),document.body.appendChild(f),m.type="submit",f.appendChild(m),m.click()}window.addEventListener("click",function(i){var o=i.target;if(!i.defaultPrevented)for(;o&&o.getAttribute;){var a=new t("phoenix.link.click",{bubbles:!0,cancelable:!0});if(!o.dispatchEvent(a))return i.preventDefault(),i.stopImmediatePropagation(),!1;if(o.getAttribute("data-method"))return n(o,i.metaKey||i.shiftKey),i.preventDefault(),!1;o=o.parentNode}},!1),window.addEventListener("phoenix.link.click",function(i){var o=i.target.getAttribute("data-confirm");o&&!window.confirm(o)&&i.preventDefault()},!1)})()});var Gr,Qm,ks,Is,bo,wo,Xm,Ym,_o,Ls=Y(()=>{Gr=function(e){window.__fathomClientQueue=window.__fathomClientQueue||[],window.__fathomClientQueue.push(e)},Qm=function(){window.__fathomClientQueue=window.__fathomClientQueue||[],window.__fathomClientQueue.forEach(function(e){switch(e.type){case"trackPageview":bo(e.opts);return;case"trackGoal":wo(e.code,e.cents);return;case"enableTrackingForMe":Ym();return;case"blockTrackingForMe":Xm();return;case"setSite":_o(e.id);return}}),window.__fathomClientQueue=[]},ks=function(e){var r=/(https?)(?=:|\/|$)/;e.forEach(function(n){r.exec(n)!==null&&console.warn("The include domain ".concat(n," might fail to work as intended as it begins with a transfer protocol (http://, https://). Consider removing the protocol portion of the string."))})},Is=function(e,r){var n=document.createElement("script"),i=document.getElementsByTagName("script")[0]||document.querySelector("body");n.id="fathom-script",n.async=!0,n.setAttribute("data-site",e),n.src=r&&r.url?r.url:"https://cdn.usefathom.com/script.js",r&&(r.auto!==void 0&&n.setAttribute("data-auto","".concat(r.auto)),r.honorDNT!==void 0&&n.setAttribute("data-honor-dnt","".concat(r.honorDNT)),r.canonical!==void 0&&n.setAttribute("data-canonical","".concat(r.canonical)),r.includedDomains&&(ks(r.includedDomains),n.setAttribute("data-included-domains",r.includedDomains.join(","))),r.excludedDomains&&(ks(r.excludedDomains),n.setAttribute("data-excluded-domains",r.excludedDomains.join(","))),r.spa&&n.setAttribute("data-spa",r.spa)),n.onload=Qm,i.parentNode.insertBefore(n,i)},bo=function(e){window.fathom?e?window.fathom.trackPageview(e):window.fathom.trackPageview():Gr({type:"trackPageview",opts:e})},wo=function(e,r){window.fathom?window.fathom.trackGoal(e,r):Gr({type:"trackGoal",code:e,cents:r})},Xm=function(){window.fathom?window.fathom.blockTrackingForMe():Gr({type:"blockTrackingForMe"})},Ym=function(){window.fathom?window.fathom.enableTrackingForMe():Gr({type:"enableTrackingForMe"})},_o=function(e){window.fathom?window.fathom.setSite(e):Gr({type:"setSite",id:e})}});var nr=I((Fs,Rs)=>{(function(t){var e;if(typeof define=="function"&&define.amd&&(define(t),e=!0),typeof Fs=="object"&&(Rs.exports=t(),e=!0),!e){var r=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=r,n}}})(function(){function t(){for(var n=0,i={};n<arguments.length;n++){var o=arguments[n];for(var a in o)i[a]=o[a]}return i}function e(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(n){function i(){}function o(s,c,f){if(typeof document!="undefined"){f=t({path:"/"},i.defaults,f),typeof f.expires=="number"&&(f.expires=new Date(new Date*1+f.expires*864e5)),f.expires=f.expires?f.expires.toUTCString():"";try{var m=JSON.stringify(c);/^[\{\[]/.test(m)&&(c=m)}catch(P){}c=n.write?n.write(c,s):encodeURIComponent(String(c)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),s=encodeURIComponent(String(s)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var y="";for(var w in f)!f[w]||(y+="; "+w,f[w]!==!0&&(y+="="+f[w].split(";")[0]));return document.cookie=s+"="+c+y}}function a(s,c){if(typeof document!="undefined"){for(var f={},m=document.cookie?document.cookie.split("; "):[],y=0;y<m.length;y++){var w=m[y].split("="),P=w.slice(1).join("=");!c&&P.charAt(0)==='"'&&(P=P.slice(1,-1));try{var D=e(w[0]);if(P=(n.read||n)(P,D)||e(P),c)try{P=JSON.parse(P)}catch(U){}if(f[D]=P,s===D)break}catch(U){}}return s?f[s]:f}}return i.set=o,i.get=function(s){return a(s,!1)},i.getJSON=function(s){return a(s,!0)},i.remove=function(s,c){o(s,"",t(c,{expires:-1}))},i.defaults={},i.withConverter=r,i}return r(function(){})})});var au=I(($w,Qn)=>{var js,qs,Ns,Ms,Ds,Bs,Hs,Us,Ws,Vs,$s,zs,Ks,Gn,So,Gs,Js,Qs,ir,Xs,Ys,Zs,eu,tu,ru,nu,iu,ou,Jn;(function(t){var e=typeof window=="object"?window:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Qn=="object"&&typeof Qn.exports=="object"?t(r(e,r(Qn.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,a){return n[o]=i?i(o,a):a}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};js=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},qs=Object.assign||function(n){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Ns=function(n,i){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)i.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(o[a[s]]=n[a[s]]);return o},Ms=function(n,i,o,a){var s=arguments.length,c=s<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,i,o,a);else for(var m=n.length-1;m>=0;m--)(f=n[m])&&(c=(s<3?f(c):s>3?f(i,o,c):f(i,o))||c);return s>3&&c&&Object.defineProperty(i,o,c),c},Ds=function(n,i){return function(o,a){i(o,a,n)}},Bs=function(n,i,o,a,s,c){function f(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var m=a.kind,y=m==="getter"?"get":m==="setter"?"set":"value",w=!i&&n?a.static?n:n.prototype:null,P=i||(w?Object.getOwnPropertyDescriptor(w,a.name):{}),D,U=!1,$=o.length-1;$>=0;$--){var x={};for(var S in a)x[S]=S==="access"?{}:a[S];for(var S in a.access)x.access[S]=a.access[S];x.addInitializer=function(p){if(U)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(p||null))};var h=(0,o[$])(m==="accessor"?{get:P.get,set:P.set}:P[y],x);if(m==="accessor"){if(h===void 0)continue;if(h===null||typeof h!="object")throw new TypeError("Object expected");(D=f(h.get))&&(P.get=D),(D=f(h.set))&&(P.set=D),(D=f(h.init))&&s.push(D)}else(D=f(h))&&(m==="field"?s.push(D):P[y]=D)}w&&Object.defineProperty(w,a.name,P),U=!0},Hs=function(n,i,o){for(var a=arguments.length>2,s=0;s<i.length;s++)o=a?i[s].call(n,o):i[s].call(n);return a?o:void 0},Us=function(n){return typeof n=="symbol"?n:"".concat(n)},Ws=function(n,i,o){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:o?"".concat(o," ",i):i})},Vs=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},$s=function(n,i,o,a){function s(c){return c instanceof o?c:new o(function(f){f(c)})}return new(o||(o=Promise))(function(c,f){function m(P){try{w(a.next(P))}catch(D){f(D)}}function y(P){try{w(a.throw(P))}catch(D){f(D)}}function w(P){P.done?c(P.value):s(P.value).then(m,y)}w((a=a.apply(n,i||[])).next())})},zs=function(n,i){var o={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,s,c,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(w){return function(P){return y([w,P])}}function y(w){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(o=0)),o;)try{if(a=1,s&&(c=w[0]&2?s.return:w[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,w[1])).done)return c;switch(s=0,c&&(w=[w[0]&2,c.value]),w[0]){case 0:case 1:c=w;break;case 4:return o.label++,{value:w[1],done:!1};case 5:o.label++,s=w[1],w=[0];continue;case 7:w=o.ops.pop(),o.trys.pop();continue;default:if(c=o.trys,!(c=c.length>0&&c[c.length-1])&&(w[0]===6||w[0]===2)){o=0;continue}if(w[0]===3&&(!c||w[1]>c[0]&&w[1]<c[3])){o.label=w[1];break}if(w[0]===6&&o.label<c[1]){o.label=c[1],c=w;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(w);break}c[2]&&o.ops.pop(),o.trys.pop();continue}w=i.call(n,o)}catch(P){w=[6,P],s=0}finally{a=c=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Ks=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Jn(i,n,o)},Jn=Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]},Gn=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},So=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,c=[],f;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(m){f={error:m}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(f)throw f.error}}return c},Gs=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(So(arguments[i]));return n},Js=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var a=Array(n),s=0,i=0;i<o;i++)for(var c=arguments[i],f=0,m=c.length;f<m;f++,s++)a[s]=c[f];return a},Qs=function(n,i,o){if(o||arguments.length===2)for(var a=0,s=i.length,c;a<s;a++)(c||!(a in i))&&(c||(c=Array.prototype.slice.call(i,0,a)),c[a]=i[a]);return n.concat(c||Array.prototype.slice.call(i))},ir=function(n){return this instanceof ir?(this.v=n,this):new ir(n)},Xs=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,i||[]),s,c=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(U){a[U]&&(s[U]=function($){return new Promise(function(x,S){c.push([U,$,x,S])>1||m(U,$)})})}function m(U,$){try{y(a[U]($))}catch(x){D(c[0][3],x)}}function y(U){U.value instanceof ir?Promise.resolve(U.value.v).then(w,P):D(c[0][2],U)}function w(U){m("next",U)}function P(U){m("throw",U)}function D(U,$){U($),c.shift(),c.length&&m(c[0][0],c[0][1])}},Ys=function(n){var i,o;return i={},a("next"),a("throw",function(s){throw s}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(s,c){i[s]=n[s]?function(f){return(o=!o)?{value:ir(n[s](f)),done:!1}:c?c(f):f}:c}},Zs=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof Gn=="function"?Gn(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=n[c]&&function(f){return new Promise(function(m,y){f=n[c](f),s(m,y,f.done,f.value)})}}function s(c,f,m,y){Promise.resolve(y).then(function(w){c({value:w,done:m})},f)}},eu=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};tu=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Jn(i,n,o);return r(i,n),i},ru=function(n){return n&&n.__esModule?n:{default:n}},nu=function(n,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(n):a?a.value:i.get(n)},iu=function(n,i,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(n,o):s?s.value=o:i.set(n,o),o},ou=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},t("__extends",js),t("__assign",qs),t("__rest",Ns),t("__decorate",Ms),t("__param",Ds),t("__esDecorate",Bs),t("__runInitializers",Hs),t("__propKey",Us),t("__setFunctionName",Ws),t("__metadata",Vs),t("__awaiter",$s),t("__generator",zs),t("__exportStar",Ks),t("__createBinding",Jn),t("__values",Gn),t("__read",So),t("__spread",Gs),t("__spreadArrays",Js),t("__spreadArray",Qs),t("__await",ir),t("__asyncGenerator",Xs),t("__asyncDelegator",Ys),t("__asyncValues",Zs),t("__makeTemplateObject",eu),t("__importStar",tu),t("__importDefault",ru),t("__classPrivateFieldGet",nu),t("__classPrivateFieldSet",iu),t("__classPrivateFieldIn",ou)})});var su,Be,V,uu,zw,Kw,Gw,Jw,Qw,Xw,Yw,G,K,Zw,e_,t_,r_,n_,be,i_,o_,a_,s_,u_,c_,l_,f_,d_,h_,p_,de=Y(()=>{su=Le(au(),1),{__extends:Be,__assign:V,__rest:uu,__decorate:zw,__param:Kw,__esDecorate:Gw,__runInitializers:Jw,__propKey:Qw,__setFunctionName:Xw,__metadata:Yw,__awaiter:G,__generator:K,__exportStar:Zw,__createBinding:e_,__values:t_,__read:r_,__spread:n_,__spreadArrays:be,__spreadArray:i_,__await:o_,__asyncGenerator:a_,__asyncDelegator:s_,__asyncValues:u_,__makeTemplateObject:c_,__importStar:l_,__importDefault:f_,__classPrivateFieldGet:d_,__classPrivateFieldSet:h_,__classPrivateFieldIn:p_}=su.default});function cu(){return typeof process=="undefined"||!process.env?{}:process.env}var lu=Y(()=>{});function or(){var t=0,e,r="";if(!Xn||Mt+16>256){for(Xn=Array(t=256);t--;)Xn[t]=256*Math.random()|0;t=Mt=0}for(;t<16;t++)e=Xn[Mt+t],t==6?r+=Yn[e&15|64]:t==8?r+=Yn[e&63|128]:r+=Yn[e],t&1&&t>1&&t<11&&(r+="-");return Mt++,r}var Mt,Yn,Xn,Zn=Y(()=>{Mt=256,Yn=[];for(;Mt--;)Yn[Mt]=(Mt+256).toString(16).substring(1)});function Jr(t,e,r){e.split&&(e=e.split("."));for(var n=0,i=e.length,o=t,a,s;n<i&&(s=e[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)o=o[s]=n===i?r:typeof(a=o[s])==typeof e?a:e[n]*0!==0||!!~(""+e[n]).indexOf(".")?{}:[]}var Eo=Y(()=>{});var ev,fu,du=Y(()=>{de();ev=function(){function t(){var e=this;this._logs=[],this.log=function(r,n,i){var o=new Date;e._logs.push({level:r,message:n,time:o,extras:i})}}return Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(r,n){var i,o,a,s=V(V({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete s.time;var c=(a=(o=n.time)===null||o===void 0?void 0:o.toISOString())!==null&&a!==void 0?a:"";return r[c]&&(c=c+"-"+Math.random()),V(V({},r),(i={},i[c]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(r){var n=r.level,i=r.message,o=r.extras;n==="info"||n==="debug"?console.log(i,o!=null?o:""):console[n](i,o!=null?o:"")});this._logs=[]},t}(),fu=ev});var tv,rv,hu,pu=Y(()=>{de();tv=function(t){var e={gauge:"g",counter:"c"};return e[t]},rv=function(){function t(e){this.metrics=[],this.remoteMetrics=e}return t.prototype.increment=function(e,r,n){var i;r===void 0&&(r=1),this.metrics.push({metric:e,value:r,tags:n!=null?n:[],type:"counter",timestamp:Date.now()}),(i=this.remoteMetrics)===null||i===void 0||i.increment(e,n!=null?n:[])},t.prototype.gauge=function(e,r,n){this.metrics.push({metric:e,value:r,tags:n!=null?n:[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(r){return V(V({},r),{tags:r.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:tv(e.type),e:e.timestamp}})},t}(),hu=rv});function At(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return a},get:function(m){return s[m.toLowerCase()]},has:function(m){return m.toLowerCase()in s}}}};for(var f in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(m,y,w){o.push(y=y.toLowerCase()),a.push([y,w]),s[y]=s[y]?s[y]+","+w:w}),r(c())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(f,e.headers[f]);i.send(e.body||null)})}var ei=Y(()=>{});var et,Qr=Y(()=>{et="1.36.5"});function nv(t){var e=t.hostname,r=e.split("."),n=r[r.length-1],i=[];if(r.length===4&&parseInt(n,10)>0||r.length<=1)return i;for(var o=r.length-2;o>=0;--o)i.push(r.slice(o).join("."));return i}function ri(t){for(var e=nv(t),r=0;r<e.length;++r){var n="__tld__",i=e[r],o={domain:"."+i};if(ti.default.set(n,"1",o),ti.default.get(n))return ti.default.remove(n,o),i}}var ti,Ao=Y(()=>{ti=Le(nr())});function Oo(){return iv}function ov(){var t=(0,Xr.get)("_ga");if(t&&t.startsWith("amp"))return t}function av(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,r){var n=r.split("="),i=n[0],o=n[1],a=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var s=i.substr(4);s==="campaign"&&(s="name"),e[s]=decodeURIComponent(a.replace(/\+/g," "))}return e},{})}function sv(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var r=t.split("&"),n=0,i=r;n<i.length;n++){var o=i[n],a=o.split("="),s=a[0],c=a[1];if(e[s])return{id:c,type:e[s]}}}function uv(t,e){var r=(0,Xr.get)("s:context.referrer"),n=sv(t);r=r?JSON.parse(r):void 0,n=n!=null?n:r,n&&(e&&(e.referrer=V(V({},e.referrer),n)),(0,Xr.set)("s:context.referrer",JSON.stringify(n),mu))}function vu(t,e,r,n){var i,o,a,s=t.user(),c=window.location.search;e.context=(o=(i=e.context)!==null&&i!==void 0?i:e.options)!==null&&o!==void 0?o:{};var f=e.context,m=e.anonymousId;delete e.options,e.writeKey=r==null?void 0:r.apiKey,f.userAgent=window.navigator.userAgent;var y=navigator.userLanguage||navigator.language;if(typeof f.locale=="undefined"&&typeof y!="undefined"&&(f.locale=y),!f.library){var w=Oo();w==="web"?f.library={name:"analytics.js",version:"next-"+et}:f.library={name:"analytics.js",version:"npm:next-"+et}}c&&!f.campaign&&(f.campaign=av(c)),uv(c,f),e.userId=e.userId||s.id(),e.anonymousId=s.anonymousId(m),e.sentAt=new Date,e.timestamp=new Date;var P=t.queue.failedInitializations||[];P.length>0&&(e._metadata={failedInitializations:P});var D=[],U=[];for(var $ in n){var x=n[$];$==="Segment.io"&&D.push($),x.bundlingStatus==="bundled"&&D.push($),x.bundlingStatus==="unbundled"&&U.push($)}for(var S=0,h=(r==null?void 0:r.unbundledIntegrations)||[];S<h.length;S++){var p=h[S];U.includes(p)||U.push(p)}var A=(a=r==null?void 0:r.maybeBundledConfigIds)!==null&&a!==void 0?a:{},_=[];D.sort().forEach(function(Ee){var Ae;((Ae=A[Ee])!==null&&Ae!==void 0?Ae:[]).forEach(function(Me){_.push(Me)})}),(r==null?void 0:r.addBundledMetadata)!==!1&&(e._metadata=V(V({},e._metadata),{bundled:D.sort(),unbundled:U.sort(),bundledIds:_}));var ae=ov();return ae&&(f.amp={id:ae}),e}var Xr,ni,mu,iv,Po=Y(()=>{de();Xr=Le(nr());Ao();Qr();ni=void 0;try{ni=ri(new URL(window.location.href))}catch(t){ni=void 0}mu={expires:31536e6,secure:!1,path:"/"};ni&&(mu.domain=ni);iv="npm"});var gu,yu=Y(()=>{de();ei();Qr();Po();gu=function(){function t(e){var r=this,n,i,o,a;if(this.host=(n=e==null?void 0:e.host)!==null&&n!==void 0?n:"api.june.so/sdk",this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e==null?void 0:e.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(a=e==null?void 0:e.maxQueueSize)!==null&&a!==void 0?a:20,this.queue=[],this.sampleRate>0){var s=!1,c=function(){s||(s=!0,r.flush().catch(function(f){console.error(f)}),s=!1,setTimeout(c,r.flushTimer))};c()}}return t.prototype.increment=function(e,r){if(!!e.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=r.reduce(function(o,a){var s=a.split(":"),c=s[0],f=s[1];return o[c]=f,o},{});n.library="analytics.js";var i=Oo();i==="web"?n.library_version="next-"+et:n.library_version="npm:next-"+et,this.queue.push({type:"Counter",metric:e,value:1,tags:n}),e.includes("error")&&this.flush().catch(function(o){return console.error(o)})}},t.prototype.flush=function(){return G(this,void 0,void 0,function(){var e=this;return K(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){console.error(n),e.sampleRate=0})];case 1:return r.sent(),[2]}})})},t.prototype.send=function(){return G(this,void 0,void 0,function(){var e,r,n;return K(this,function(i){return e={series:this.queue},this.queue=[],r={"Content-Type":"application/json"},n="https://"+this.host+"/m",[2,At(n,{headers:r,body:JSON.stringify(e),method:"POST"})]})})},t}()});var Ve,bu,Re,tt=Y(()=>{Zn();Eo();du();pu();yu();Ve=function(){function t(e){var r,n,i;this.retry=(r=e.retry)!==null&&r!==void 0?r:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),Re=function(){function t(e,r){this.logger=new fu,this.cancel=function(n){throw n||new Ve({reason:"Context Cancel"})},this._attempts=0,this._event=e,this._id=r!=null?r:or(),this.stats=new hu(bu)}return t.initMetrics=function(e){bu=new gu(e)},t.system=function(){return new t({type:"track",event:"system"})},t.prototype.isSame=function(e){return e._id===this._id},t.prototype.log=function(e,r,n){this.logger.log(e,r,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this._event},set:function(e){this._event=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attempts",{get:function(){return this._attempts},set:function(e){this._attempts=e},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,r){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this._event.integrations)===null||n===void 0?void 0:n[i])===!1)return this._event}return Jr(this._event,e,r),this._event},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this._event,logs:this.logger.logs,metrics:this.stats.metrics}},t}()});function ii(t,e){var r,n=Object.entries((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,o){var a,s,c=o[0],f=o[1];return typeof f=="object"?V(V({},i),(a={},a[c]=f,a)):V(V({},i),(s={},s[c]={},s))},{});return Object.entries(t.integrations).reduce(function(i,o){var a,s=o[0],c=o[1];return V(V({},i),(a={},a[s]=V(V({},c),n[s]),a))},{})}var xo=Y(()=>{de()});function wu(){var t=document.getElementsByTagName("link"),e="";return Array.prototype.slice.call(t).forEach(function(r){r.getAttribute("rel")==="canonical"&&(e=r.getAttribute("href"))}),e}function cv(){var t=wu();if(!t)return window.location.pathname;var e=document.createElement("a");e.href=t;var r=e.pathname.startsWith("/")?e.pathname:"/"+e.pathname;return r}function lv(t){t===void 0&&(t="");var e=wu();if(e)return e.includes("?")?e:""+e+t;var r=window.location.href,n=r.indexOf("#");return n===-1?r:r.slice(0,n)}function _u(){return{path:cv(),referrer:document.referrer,search:location.search,title:document.title,url:lv(location.search)}}function Yr(t){var e,r=t.event;r.context=r.context||{};var n=_u(),i=(e=r.properties)!==null&&e!==void 0?e:{};return Object.keys(n).forEach(function(o){i[o]&&(n[o]=i[o])}),r.context.page&&(n=Object.assign({},n,r.context.page)),r.context=Object.assign({},r.context,{page:n}),t.event=r,t}var Su,Eu=Y(()=>{Su={name:"Page Enrichment",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:function(t){return t.event.properties=Object.assign({},_u(),t.event.properties),t.event.name&&(t.event.properties.name=t.event.name),Yr(t)},alias:Yr,track:Yr,identify:Yr,group:Yr}});function dt(t){return Promise.resolve(t)}var Zr=Y(()=>{});function Au(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(r){return r.src===t})}function Dt(t,e){var r=Au(t);if(r!==void 0){var n=r==null?void 0:r.getAttribute("status");if(n==="loaded")return Promise.resolve(r);if(n==="loading")return new Promise(function(i,o){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(a){return o(a)})})}return new Promise(function(i,o){var a,s=window.window.document.createElement("script");s.type="text/javascript",s.src=t,s.async=!0,s.setAttribute("status","loading");for(var c=0,f=Object.entries(e!=null?e:{});c<f.length;c++){var m=f[c],y=m[0],w=m[1];s.setAttribute(y,w)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),o(new Error("Failed to load "+t))};var P=window.window.document.getElementsByTagName("script")[0];(a=P.parentElement)===null||a===void 0||a.insertBefore(s,P)})}function Ou(t){var e=Au(t);return e!==void 0&&e.remove(),Promise.resolve()}var oi=Y(()=>{});function ar(){var t=void 0,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(r){var n,i=(n=r.getAttribute("src"))!==null&&n!==void 0?n:"",o=fv.exec(i);o&&o[1]&&(t=o[1])}),t||"https://cdn.segment.com"}var fv,ai=Y(()=>{fv=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/});function dv(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(r){e.forEach(function(n){var i;if(r[n]===void 0)throw new Error("Plugin: "+((i=r.name)!==null&&i!==void 0?i:"unknown")+" missing required function "+n)})}),!0}function Pu(t){var e,r,n;return G(this,void 0,void 0,function(){var i,o,a,s=this;return K(this,function(c){switch(c.label){case 0:return i=[],o=(r=(e=window.analytics)===null||e===void 0?void 0:e._cdn)!==null&&r!==void 0?r:ar(),a=((n=t.remotePlugins)!==null&&n!==void 0?n:[]).map(function(f){return G(s,void 0,void 0,function(){var m,y,w,P,D;return K(this,function(U){switch(U.label){case 0:return U.trys.push([0,4,,5]),[4,Dt(f.url.replace("https://cdn.segment.com",o))];case 1:return U.sent(),m=f.libraryName,typeof window[m]!="function"?[3,3]:(y=window[m],[4,dt(y(f.settings))]);case 2:w=U.sent(),P=Array.isArray(w)?w:[w],dv(P),i.push.apply(i,P),U.label=3;case 3:return[3,5];case 4:return D=U.sent(),console.warn("Failed to load Remote Plugin",D),[3,5];case 5:return[2]}})})}),[4,Promise.all(a)];case 1:return c.sent(),[2,i.filter(Boolean)]}})})}var xu=Y(()=>{de();Zr();oi();ai()});function en(){return typeof window!="undefined"}function si(){return!en()}var tn=Y(()=>{});function rn(){return en()?window.navigator.onLine:!0}function rt(){return!rn()}var sr=Y(()=>{tn()});function Tu(t){var e=Math.random()+1,r=t.minTimeout,n=r===void 0?500:r,i=t.factor,o=i===void 0?2:i,a=t.attempt,s=t.maxTimeout,c=s===void 0?1/0:s;return Math.min(e*n*Math.pow(o,a),c)}var Cu=Y(()=>{});var ui,To=Y(()=>{Cu();ui=function(){function t(e,r,n){this.future=[],this.maxAttempts=e,this.queue=r,this.seen=n!=null?n:{}}return t.prototype.push=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r.map(function(o){var a=e.updateAttempts(o);return a>e.maxAttempts||e.includes(o)?!1:(e.queue.push(o),!0)});return this.queue=this.queue.sort(function(o,a){return e.getAttempts(o)-e.getAttempts(a)}),i},t.prototype.pushWithBackoff=function(e){var r=this;if(this.getAttempts(e)===0)return this.push(e)[0];var n=this.updateAttempts(e);if(n>this.maxAttempts||this.includes(e))return!1;var i=Tu({attempt:n-1});return setTimeout(function(){r.queue.push(e),r.future=r.future.filter(function(o){return o.id!==e.id})},i),this.future.push(e),!0},t.prototype.getAttempts=function(e){var r;return(r=this.seen[e.id])!==null&&r!==void 0?r:0},t.prototype.updateAttempts=function(e){return this.seen[e.id]=this.getAttempts(e)+1,this.getAttempts(e)},t.prototype.includes=function(e){return this.queue.includes(e)||this.future.includes(e)||Boolean(this.queue.find(function(r){return r.id===e.id}))||Boolean(this.future.find(function(r){return r.id===e.id}))},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}()});function Iu(t){var e=nt.getItem(t);return(e?JSON.parse(e):[]).map(function(r){return new Re(r.event,r.id)})}function hv(t,e){var r=Iu(t),n=be(e,r),i=n.reduce(function(o,a){var s;return V(V({},o),(s={},s[a.id]=a,s))},{});nt.setItem(t,JSON.stringify(Object.values(i)))}function Lu(t){var e=nt.getItem(t);return e?JSON.parse(e):{}}function pv(t,e){var r=Lu(t);nt.setItem(t,JSON.stringify(V(V({},r),e)))}function ku(t){nt.removeItem(t)}function Co(t,e,r){r===void 0&&(r=0);var n=50,i="persisted-queue:v1:"+t+":lock",o=function(f){return new Date().getTime()>f},a=nt.getItem(i),s=a?JSON.parse(a):null,c=s===null||o(s);if(c){nt.setItem(i,JSON.stringify(mv()+n)),e(),nt.removeItem(i);return}if(!c&&r<3)setTimeout(function(){Co(t,e,r+1)},n);else throw new Error("Unable to retrieve lock")}var nt,mv,Ot,nn=Y(()=>{de();To();tt();tn();nt={getItem:function(){},setItem:function(){},removeItem:function(){}};try{nt=en()&&window.localStorage?window.localStorage:nt}catch(t){console.warn("Unable to access localStorage",t)}mv=function(){return new Date().getTime()};Ot=function(t){Be(e,t);function e(r,n){var i=t.call(this,r,[])||this,o="persisted-queue:v1:"+n+":items",a="persisted-queue:v1:"+n+":seen",s=[],c={};return Co(n,function(){try{s=Iu(o),c=Lu(a),ku(o),ku(a),i.queue=be(s,i.queue),i.seen=V(V({},c),i.seen)}catch(f){console.error(f)}}),window.addEventListener("beforeunload",function(){if(i.todo>0){var f=be(i.queue,i.future);try{Co(n,function(){hv(o,f),pv(a,i.seen)})}catch(m){console.error(m)}}}),i}return e}(ui)});var on=I((cS,ur)=>{ur.exports=ko(vv);ur.exports.find=ur.exports;ur.exports.replace=function(t,e,r,n){return ko(yv).call(this,t,e,r,n),t};ur.exports.del=function(t,e,r){return ko(gv).call(this,t,e,null,r),t};function ko(t){return function(e,r,n,i){var o=i&&wv(i.normalizer)?i.normalizer:bv;r=o(r);for(var a,s=!1;!s;)c();function c(){for(a in e){var f=o(a);if(r.indexOf(f)===0){var m=r.substr(f.length);if(m.charAt(0)==="."||m.length===0){r=m.substr(1);var y=e[a];if(y==null){s=!0;return}if(!r.length){s=!0;return}e=y;return}}}a=void 0,s=!0}if(!!a)return e==null?e:t(e,a,n)}}function vv(t,e){if(t.hasOwnProperty(e))return t[e]}function gv(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function yv(t,e,r){return t.hasOwnProperty(e)&&(t[e]=r),t}function bv(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function wv(t){return typeof t=="function"}});var Fu=I(an=>{"use strict";var _v=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(an,"__esModule",{value:!0});var Pt=_v(on());function cr(t,e){return function(){var r=this.traits(),n=this.properties?this.properties():{};return Pt.default(r,"address."+t)||Pt.default(r,t)||(e?Pt.default(r,"address."+e):null)||(e?Pt.default(r,e):null)||Pt.default(n,"address."+t)||Pt.default(n,t)||(e?Pt.default(n,"address."+e):null)||(e?Pt.default(n,e):null)}}function Sv(t){t.zip=cr("postalCode","zip"),t.country=cr("country"),t.street=cr("street"),t.state=cr("state"),t.city=cr("city"),t.region=cr("region")}an.default=Sv});var ju=I(Ru=>{function sn(t){if(typeof t!="object")return t;var e,r,n=Object.prototype.toString.call(t);if(n==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){r=new t.constructor;for(e in t)t.hasOwnProperty(e)&&r[e]!==t[e]&&(r[e]=sn(t[e]))}else{r={};for(e in t)e==="__proto__"?Object.defineProperty(r,e,{value:sn(t[e]),configurable:!0,enumerable:!0,writable:!0}):r[e]=sn(t[e])}return r}if(n==="[object Array]"){for(e=t.length,r=Array(e);e--;)r[e]=sn(t[e]);return r}return n==="[object Date]"?new Date(+t):n==="[object RegExp]"?(r=new RegExp(t.source,t.flags),r.lastIndex=t.lastIndex,r):t}Ru.klona=sn});var qu=I(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var Ev={Salesforce:!0};function Av(t){return!Ev[t]}Io.default=Av});var Fo=I(Lo=>{"use strict";var Nu=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;Lo.parse=function(t){var e=[1,5,6,7,11,12],r=Nu.exec(t),n=0;if(!r)return new Date(t);for(var i=0,o;o=e[i];i++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?n=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(n=r[11]*60+r[12],r[10]==="+"&&(n=0-n));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(a)};Lo.is=function(t,e){return typeof t!="string"||e&&/^\d{4}-\d{2}-\d{2}/.test(t)===!1?!1:Nu.test(t)}});var Mu=I(Ro=>{"use strict";var Ov=/\d{13}/;Ro.is=function(t){return Ov.test(t)};Ro.parse=function(t){return t=parseInt(t,10),new Date(t)}});var Du=I(jo=>{"use strict";var Pv=/\d{10}/;jo.is=function(t){return Pv.test(t)};jo.parse=function(t){var e=parseInt(t,10)*1e3;return new Date(e)}});var ci=I((vS,Vu)=>{"use strict";var Bu=Fo(),Hu=Mu(),Uu=Du(),xv=Object.prototype,Wu=xv.toString;function Tv(t){return Wu.call(t)==="[object Date]"}function Cv(t){return Wu.call(t)==="[object Number]"}Vu.exports=function(e){return Tv(e)?e:Cv(e)?new Date(kv(e)):Bu.is(e)?Bu.parse(e):Hu.is(e)?Hu.parse(e):Uu.is(e)?Uu.parse(e):new Date(e)};function kv(t){return t<315576e5?t*1e3:t}});var Ku=I((gS,zu)=>{"use strict";var $u=Fo();zu.exports=qo;function qo(t,e){return e===void 0&&(e=!0),t&&typeof t=="object"?Iv(t,e):Array.isArray(t)?Lv(t,e):$u.is(t,e)?$u.parse(t):t}function Iv(t,e){return Object.keys(t).forEach(function(r){t[r]=qo(t[r],e)}),t}function Lv(t,e){return t.forEach(function(r,n){t[n]=qo(r,e)}),t}});var xt=I(fr=>{"use strict";var un=fr&&fr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});fr.Facade=void 0;var Fv=un(Fu()),lr=ju(),Rv=un(qu()),jv=un(ci()),No=un(on()),qv=un(Ku());function He(t,e){e=e||{},this.raw=lr.klona(t),"clone"in e||(e.clone=!0),e.clone&&(t=lr.klona(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=jv.default(t.timestamp):t.timestamp=new Date,e.traverse&&qv.default(t),this.opts=e,this.obj=t}fr.Facade=He;var me=He.prototype;me.proxy=function(t){var e=t.split(".");t=e.shift();var r=this[t]||this.field(t);return r&&(typeof r=="function"&&(r=r.call(this)||{}),e.length===0?this.opts.clone?Mo(r):r:(r=No.default(r,e.join(".")),this.opts.clone?Mo(r):r))};me.field=function(t){var e=this.obj[t];return this.opts.clone?Mo(e):e};He.proxy=function(t){return function(){return this.proxy(t)}};He.field=function(t){return function(){return this.field(t)}};He.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var r=this.proxy(t);return r&&(r=[this.opts.clone?lr.klona(r):r]),r||[]}};He.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var r=this.proxy(t+"s");if(Array.isArray(r))return r[0]}};me.json=function(){var t=this.opts.clone?lr.klona(this.obj):this.obj;return this.type&&(t.type=this.type()),t};me.rawEvent=function(){return this.raw};me.options=function(t){var e=this.obj.options||this.obj.context||{},r=this.opts.clone?lr.klona(e):e;if(!t)return r;if(!!this.enabled(t)){var n=this.integrations(),i=n[t]||No.default(n,t);return typeof i!="object"&&(i=No.default(this.options(),t)),typeof i=="object"?i:{}}};me.context=me.options;me.enabled=function(t){var e=this.proxy("options.providers.all");typeof e!="boolean"&&(e=this.proxy("options.all")),typeof e!="boolean"&&(e=this.proxy("integrations.all")),typeof e!="boolean"&&(e=!0);var r=e&&Rv.default(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(r=n.providers[t]),n.hasOwnProperty(t)){var i=n[t];typeof i=="boolean"?r=i:r=!0}return!!r};me.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};me.active=function(){var t=this.proxy("options.active");return t==null&&(t=!0),t};me.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};me.sessionId=me.anonymousId;me.groupId=He.proxy("options.groupId");me.traits=function(t){var e=this.proxy("options.traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t){var i=this[n]==null?this.proxy("options.traits."+n):this[n]();i!=null&&(e[t[n]]=i,delete e[n])}return e};me.library=function(){var t=this.proxy("options.library");return t?typeof t=="string"?{name:t,version:null}:t:{name:"unknown",version:null}};me.device=function(){var t=this.proxy("context.device");(typeof t!="object"||t===null)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t};me.userAgent=He.proxy("context.userAgent");me.timezone=He.proxy("context.timezone");me.timestamp=He.field("timestamp");me.channel=He.field("channel");me.ip=He.proxy("context.ip");me.userId=He.field("userId");Fv.default(me);function Mo(t){return lr.klona(t)}});var Tt=I((bS,Do)=>{typeof Object.create=="function"?Do.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Do.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Ju=I(dr=>{"use strict";var Nv=dr&&dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dr,"__esModule",{value:!0});dr.Alias=void 0;var Mv=Nv(Tt()),Gu=xt();function Ye(t,e){Gu.Facade.call(this,t,e)}dr.Alias=Ye;Mv.default(Ye,Gu.Facade);Ye.prototype.action=function(){return"alias"};Ye.prototype.type=Ye.prototype.action;Ye.prototype.previousId=function(){return this.field("previousId")||this.field("from")};Ye.prototype.from=Ye.prototype.previousId;Ye.prototype.userId=function(){return this.field("userId")||this.field("to")};Ye.prototype.to=Ye.prototype.userId});var cn=I(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var Dv=/.+\@.+\..+/;function Bv(t){return Dv.test(t)}Bo.default=Bv});var Qu=I(hr=>{"use strict";var Ho=hr&&hr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hr,"__esModule",{value:!0});hr.Group=void 0;var Hv=Ho(Tt()),Uv=Ho(cn()),Wv=Ho(ci()),pr=xt();function Uo(t,e){pr.Facade.call(this,t,e)}hr.Group=Uo;Hv.default(Uo,pr.Facade);var Ze=Uo.prototype;Ze.action=function(){return"group"};Ze.type=Ze.action;Ze.groupId=pr.Facade.field("groupId");Ze.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return Wv.default(t)};Ze.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(Uv.default(e))return e};Ze.traits=function(t){var e=this.properties(),r=this.groupId();t=t||{},r&&(e.id=r);for(var n in t){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(e[t[n]]=i,delete e[n])}return e};Ze.name=pr.Facade.proxy("traits.name");Ze.industry=pr.Facade.proxy("traits.industry");Ze.employees=pr.Facade.proxy("traits.employees");Ze.properties=function(){return this.field("traits")||this.field("properties")||{}}});var Vo=I(vr=>{"use strict";var li=vr&&vr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vr,"__esModule",{value:!0});vr.Identify=void 0;var it=xt(),mr=li(on()),Vv=li(Tt()),$v=li(cn()),Xu=li(ci()),Bt=function(t){return t.trim()};function Wo(t,e){it.Facade.call(this,t,e)}vr.Identify=Wo;Vv.default(Wo,it.Facade);var ve=Wo.prototype;ve.action=function(){return"identify"};ve.type=ve.action;ve.traits=function(t){var e=this.field("traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(e[t[n]]=i,n!==t[n]&&delete e[n])}return e};ve.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if($v.default(e))return e};ve.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return Xu.default(t)};ve.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return Xu.default(t)};ve.companyName=function(){return this.proxy("traits.company.name")};ve.name=function(){var t=this.proxy("traits.name");if(typeof t=="string")return Bt(t);var e=this.firstName(),r=this.lastName();if(e&&r)return Bt(e+" "+r)};ve.firstName=function(){var t=this.proxy("traits.firstName");if(typeof t=="string")return Bt(t);var e=this.proxy("traits.name");if(typeof e=="string")return Bt(e).split(" ")[0]};ve.lastName=function(){var t=this.proxy("traits.lastName");if(typeof t=="string")return Bt(t);var e=this.proxy("traits.name");if(typeof e=="string"){var r=Bt(e).indexOf(" ");if(r!==-1)return Bt(e.substr(r+1))}};ve.uid=function(){return this.userId()||this.username()||this.email()};ve.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};ve.age=function(){var t=this.birthday(),e=mr.default(this.traits(),"age");if(e!=null)return e;if(t instanceof Date){var r=new Date;return r.getFullYear()-t.getFullYear()}};ve.avatar=function(){var t=this.traits();return mr.default(t,"avatar")||mr.default(t,"photoUrl")||mr.default(t,"avatarUrl")};ve.position=function(){var t=this.traits();return mr.default(t,"position")||mr.default(t,"jobTitle")};ve.username=it.Facade.proxy("traits.username");ve.website=it.Facade.one("traits.website");ve.websites=it.Facade.multi("traits.website");ve.phone=it.Facade.one("traits.phone");ve.phones=it.Facade.multi("traits.phone");ve.address=it.Facade.proxy("traits.address");ve.gender=it.Facade.proxy("traits.gender");ve.birthday=it.Facade.proxy("traits.birthday")});var fi=I(gr=>{"use strict";var $o=gr&&gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});gr.Track=void 0;var zv=$o(Tt()),Pe=xt(),Kv=Vo(),Gv=$o(cn()),Yu=$o(on());function zo(t,e){Pe.Facade.call(this,t,e)}gr.Track=zo;zv.default(zo,Pe.Facade);var oe=zo.prototype;oe.action=function(){return"track"};oe.type=oe.action;oe.event=Pe.Facade.field("event");oe.value=Pe.Facade.proxy("properties.value");oe.category=Pe.Facade.proxy("properties.category");oe.id=Pe.Facade.proxy("properties.id");oe.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};oe.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};oe.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};oe.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};oe.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};oe.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};oe.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};oe.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};oe.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};oe.sku=Pe.Facade.proxy("properties.sku");oe.tax=Pe.Facade.proxy("properties.tax");oe.name=Pe.Facade.proxy("properties.name");oe.price=Pe.Facade.proxy("properties.price");oe.total=Pe.Facade.proxy("properties.total");oe.repeat=Pe.Facade.proxy("properties.repeat");oe.coupon=Pe.Facade.proxy("properties.coupon");oe.shipping=Pe.Facade.proxy("properties.shipping");oe.discount=Pe.Facade.proxy("properties.discount");oe.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};oe.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};oe.description=Pe.Facade.proxy("properties.description");oe.plan=Pe.Facade.proxy("properties.plan");oe.subtotal=function(){var t=Yu.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var r=this.tax();r&&(e-=r),r=this.shipping(),r&&(e-=r),r=this.discount(),r&&(e+=r)}return e};oe.products=function(){var t=this.properties(),e=Yu.default(t,"products");return Array.isArray(e)?e.filter(function(r){return r!==null}):[]};oe.quantity=function(){var t=this.obj.properties||{};return t.quantity||1};oe.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"};oe.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};oe.query=Pe.Facade.proxy("options.query");oe.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var r in t){var n=this[r]==null?this.proxy("properties."+r):this[r]();n!=null&&(e[t[r]]=n,delete e[r])}return e};oe.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};oe.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(Gv.default(e))return e};oe.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(r)&&(t=this.proxy("properties.total")),Jv(t)};oe.cents=function(){var t=this.revenue();return typeof t!="number"?this.value()||0:t*100};oe.identify=function(){var t=this.json();return t.traits=this.traits(),new Kv.Identify(t,this.opts)};function Jv(t){if(!!t){if(typeof t=="number")return t;if(typeof t=="string"&&(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t)))return t}}});var Go=I(yr=>{"use strict";var Zu=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yr,"__esModule",{value:!0});yr.Page=void 0;var Qv=Zu(Tt()),Ht=xt(),Xv=fi(),Yv=Zu(cn());function Ko(t,e){Ht.Facade.call(this,t,e)}yr.Page=Ko;Qv.default(Ko,Ht.Facade);var je=Ko.prototype;je.action=function(){return"page"};je.type=je.action;je.category=Ht.Facade.field("category");je.name=Ht.Facade.field("name");je.title=Ht.Facade.proxy("properties.title");je.path=Ht.Facade.proxy("properties.path");je.url=Ht.Facade.proxy("properties.url");je.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};je.properties=function(t){var e=this.field("properties")||{},r=this.category(),n=this.name();t=t||{},r&&(e.category=r),n&&(e.name=n);for(var i in t){var o=this[i]==null?this.proxy("properties."+i):this[i]();o!=null&&(e[t[i]]=o,i!==t[i]&&delete e[i])}return e};je.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(Yv.default(e))return e};je.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e};je.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"};je.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new Xv.Track(e,this.opts)}});var tc=I(br=>{"use strict";var Zv=br&&br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(br,"__esModule",{value:!0});br.Screen=void 0;var eg=Zv(Tt()),ec=Go(),tg=fi();function Ut(t,e){ec.Page.call(this,t,e)}br.Screen=Ut;eg.default(Ut,ec.Page);Ut.prototype.action=function(){return"screen"};Ut.prototype.type=Ut.prototype.action;Ut.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"};Ut.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new tg.Track(e,this.opts)}});var nc=I(wr=>{"use strict";var rg=wr&&wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wr,"__esModule",{value:!0});wr.Delete=void 0;var ng=rg(Tt()),rc=xt();function Jo(t,e){rc.Facade.call(this,t,e)}wr.Delete=Jo;ng.default(Jo,rc.Facade);Jo.prototype.type=function(){return"delete"}});var Qo=I(we=>{"use strict";var di=we&&we.__assign||function(){return di=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},di.apply(this,arguments)};Object.defineProperty(we,"__esModule",{value:!0});we.Delete=we.Screen=we.Page=we.Track=we.Identify=we.Group=we.Alias=we.Facade=void 0;var ic=xt();Object.defineProperty(we,"Facade",{enumerable:!0,get:function(){return ic.Facade}});var oc=Ju();Object.defineProperty(we,"Alias",{enumerable:!0,get:function(){return oc.Alias}});var ac=Qu();Object.defineProperty(we,"Group",{enumerable:!0,get:function(){return ac.Group}});var sc=Vo();Object.defineProperty(we,"Identify",{enumerable:!0,get:function(){return sc.Identify}});var uc=fi();Object.defineProperty(we,"Track",{enumerable:!0,get:function(){return uc.Track}});var cc=Go();Object.defineProperty(we,"Page",{enumerable:!0,get:function(){return cc.Page}});var lc=tc();Object.defineProperty(we,"Screen",{enumerable:!0,get:function(){return lc.Screen}});var fc=nc();Object.defineProperty(we,"Delete",{enumerable:!0,get:function(){return fc.Delete}});we.default=di(di({},ic.Facade),{Alias:oc.Alias,Group:ac.Group,Identify:sc.Identify,Track:uc.Track,Page:cc.Page,Screen:lc.Screen,Delete:fc.Delete})});function ln(t,e){var r=new qe.Facade(t,e);return t.type==="track"&&(r=new qe.Track(t,e)),t.type==="identify"&&(r=new qe.Identify(t,e)),t.type==="page"&&(r=new qe.Page(t,e)),t.type==="alias"&&(r=new qe.Alias(t,e)),t.type==="group"&&(r=new qe.Group(t,e)),t.type==="screen"&&(r=new qe.Screen(t,e)),Object.defineProperty(r,"obj",{value:t,writable:!0}),r}var qe,Xo=Y(()=>{qe=Le(Qo())});function dc(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function og(t){return dc(t)>=ig-50}function ag(t){var e=[],r=0;return t.forEach(function(n){var i=dc(e[r]);i>=64&&r++,e[r]?e[r].push(n):e[r]=[n]}),e}function Zo(t,e){var r=this,n,i,o=[],a=!1,s=(n=e==null?void 0:e.size)!==null&&n!==void 0?n:10,c=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:5e3;function f(){var P;if(!a){a=!0;var D=o.map(function($){var x=$[0],S=$[1];return S});o=[],a=!1;var U=(P=D[0])===null||P===void 0?void 0:P.writeKey;return Yo("https://"+t+"/b",{headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify({batch:D,writeKey:U})})}}var m=y();function y(){return setTimeout(function(){m=void 0,o.length&&!a&&f()},c)}window.addEventListener("beforeunload",function(){if(o.length!==0){var P=o.map(function($){var x=$[0],S=$[1];return S}),D=ag(P),U=D.map(function($){return G(r,void 0,void 0,function(){var x,S,h;return K(this,function(p){return $.length===0?[2]:(x="https://"+t+"/b",S=(h=$[0])===null||h===void 0?void 0:h.writeKey,[2,Yo(x,{keepalive:!0,headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify({batch:$,writeKey:S})})])})})});Promise.all(U).catch(console.error)}});function w(P,D){return G(this,void 0,void 0,function(){var U;return K(this,function($){return o.push([P,D]),U=o.length>=s||og(o),U&&!a?f():m||(m=y()),[2,!0]})})}return{dispatch:w}}var Yo,ig,hc=Y(()=>{de();ei();Yo=At;typeof window!="undefined"&&(Yo=window.fetch||At);ig=500});function mc(){function t(e,r){return pc(e,{headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify(r)})}return{dispatch:t}}var pc,vc=Y(()=>{ei();pc=At;typeof window!="undefined"&&(pc=window.fetch||At)});function sg(t){return G(this,void 0,void 0,function(){var e;return K(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return[2,r.sent()];case 2:return e=r.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function ht(t,e){t.log("debug","plugin",{plugin:e.name});var r=new Date().getTime(),n=e[t.event.type];if(n===void 0)return Promise.resolve(t);var i=sg(function(){return n.apply(e,[t])}).then(function(o){var a=new Date().getTime()-r;return o.stats.gauge("plugin_time",a,["plugin:"+e.name]),o}).catch(function(o){if(o instanceof Ve&&o.type==="middleware_cancellation")throw o;if(o instanceof Ve){t.log("warn",o.type,{plugin:e.name,error:o});return}return t.log("error","plugin Error",{plugin:e.name,error:o}),t.stats.increment("plugin_error",1,["plugin:"+e.name]),o});return i}function gc(t,e){return ht(t,e).then(function(r){if(r===void 0||r instanceof Error){t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(r);return}return r})}var hi=Y(()=>{de();tt()});var pi,ea=Y(()=>{de();pi=function(t,e){return G(void 0,void 0,void 0,function(){var r;return K(this,function(n){return r=function(i){return G(void 0,void 0,void 0,function(){var o;return K(this,function(a){switch(a.label){case 0:return t(i)?(o=r,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[a.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})}});function ug(t,e){return G(this,void 0,void 0,function(){var r,n=this;return K(this,function(i){switch(i.label){case 0:return r=[],rt()?[2,e]:[4,pi(function(){return e.length>0&&!rt()},function(){return G(n,void 0,void 0,function(){var o,a,s;return K(this,function(c){switch(c.label){case 0:return o=e.pop(),o?[4,ht(o,t)]:[2];case 1:return a=c.sent(),s=a instanceof Re,s||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function fn(t,e,r,n){var i=this;t||setTimeout(function(){return G(i,void 0,void 0,function(){var o,a;return K(this,function(s){switch(s.label){case 0:return o=!0,[4,ug(r,e)];case 1:return a=s.sent(),o=!1,e.todo>0&&n(o,a,r,n),[2]}})})},Math.random()*5e3)}var yc=Y(()=>{de();sr();tt();hi();ea()});function cg(t,e){var r,n,i,o,a=t.user();return e.previousId=(i=(n=(r=e.previousId)!==null&&r!==void 0?r:e.from)!==null&&n!==void 0?n:a.id())!==null&&i!==void 0?i:a.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}function bc(t,e,r){var n,i,o,a=new Ot(t.queue.queue.maxAttempts,"dest-Segment.io"),s=!1,c=(n=e==null?void 0:e.apiHost)!==null&&n!==void 0?n:"api.june.so/sdk",f=c.includes("localhost")?"http://"+c:"https://"+c,m=((i=e==null?void 0:e.deliveryStrategy)===null||i===void 0?void 0:i.strategy)==="batching"?Zo(c,(o=e==null?void 0:e.deliveryStrategy)===null||o===void 0?void 0:o.config):mc();function y(P){return G(this,void 0,void 0,function(){var D,U;return K(this,function($){return rt()?(a.push(P),fn(s,a,w,fn),[2,P]):(D=P.event.type,U=ln(P.event).json(),P.event.type==="track"&&delete U.traits,P.event.type==="alias"&&(U=cg(t,U)),[2,m.dispatch(f+"/"+D,vu(t,U,e,r)).then(function(){return P}).catch(function(x){return(x.type==="error"||x.message==="Failed to fetch")&&(a.push(P),fn(s,a,w,fn)),P})])})})}var w={name:"Segment.io",type:"after",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:y,identify:y,page:y,alias:y,group:y};return w}var wc=Y(()=>{de();sr();nn();Xo();hc();vc();Po();yc()});function Ct(t){return typeof t=="string"}function mi(t){return typeof t=="number"}function Wt(t){return typeof t=="function"}function $e(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}function lg(t){var e,r,n,i=(n=(r=(e=t.userId)!==null&&e!==void 0?e:t.anonymousId)!==null&&r!==void 0?r:t.groupId)!==null&&n!==void 0?n:t.previousId;return Ct(i)}function _r(t){var e,r=t&&t.event&&t.event.type,n=t.event;if(n===void 0)throw new dn("event","Event is missing");if(!Ct(r))throw new dn("event","Event is not a string");if(r==="track"&&!Ct(n.event))throw new dn("event","Event is not a string");var i=(e=n.properties)!==null&&e!==void 0?e:n.traits;if(r!=="alias"&&!$e(i))throw new dn("properties","properties is not an object");if(!lg(n))throw new dn("userId","Missing userId or anonymousId");return t}var dn,vi,gi=Y(()=>{de();dn=function(t){Be(e,t);function e(r,n){var i=t.call(this,n)||this;return i.field=r,i}return e}(Error);vi={name:"Event Validation",type:"before",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:_r,identify:_r,page:_r,alias:_r,group:_r,screen:_r}});var _c={};jt(_c,{applyDestinationMiddleware:()=>ta,sourceMiddlewarePlugin:()=>fg});function ta(t,e,r){return G(this,void 0,void 0,function(){function n(c,f){return G(this,void 0,void 0,function(){var m,y,w;return K(this,function(P){switch(P.label){case 0:return m=!1,y=null,[4,dt(f({payload:ln(c,{clone:!0,traverse:!1}),integration:t,next:function(D){m=!0,D===null&&(y=null),D&&(y=D.obj)}}))];case 1:return P.sent(),!m&&y!==null&&(y=y,y.integrations=V(V({},c.integrations),(w={},w[t]=!1,w))),[2,y]}})})}var i,o,a,s;return K(this,function(c){switch(c.label){case 0:i=0,o=r,c.label=1;case 1:return i<o.length?(a=o[i],[4,n(e,a)]):[3,4];case 2:if(s=c.sent(),s===null)return[2,null];e=s,c.label=3;case 3:return i++,[3,1];case 4:return[2,e]}})})}function fg(t,e){function r(n){return G(this,void 0,void 0,function(){var i;return K(this,function(o){switch(o.label){case 0:return i=!1,[4,dt(t({payload:ln(n.event,{clone:!0,traverse:!1}),integrations:e!=null?e:{},next:function(a){i=!0,a&&(n.event=a.obj)}}))];case 1:if(o.sent(),!i)throw new Ve({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware "+t.name,type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:r,page:r,identify:r,alias:r,group:r}}var ra=Y(()=>{de();tt();Zr();Xo()});var Ec=I((sE,Sc)=>{for(na=[],kt=0;kt<64;)na[kt]=0|4294967296*Math.sin(++kt%Math.PI);var na,kt;Sc.exports=function(t){var e,r,n,i=[e=1732584193,r=4023233417,~e,~r],o=[],a=unescape(encodeURI(t))+"\x80",s=a.length;for(t=--s/4+2|15,o[--t]=8*s;~s;)o[s>>2]|=a.charCodeAt(s)<<8*s--;for(kt=a=0;kt<t;kt+=16){for(s=i;a<64;s=[n=s[3],e+((n=s[0]+[e&r|~e&n,n&e|~n&r,e^r^n,r^(e|~n)][s=a>>4]+na[a]+~~o[kt|15&[a,5*a+1,3*a+5,7*a][s]])<<(s=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*s+a++%4])|n>>>-s),e,r])e=0|s[1],r=s[2];for(a=4;a;)i[--a]+=s[a]}for(t="";a<32;)t+=(i[a>>3]>>4*(1^a++)&15).toString(16);return t}});var yi=I((ia,oa)=>{(function(t,e){typeof ia=="object"&&typeof oa!="undefined"?oa.exports=function(r,n,i,o,a){for(n=n.split?n.split("."):n,o=0;o<n.length;o++)r=r?r[n[o]]:a;return r===a?i:r}:typeof define=="function"&&define.amd?define(function(){return function(r,n,i,o,a){for(n=n.split?n.split("."):n,o=0;o<n.length;o++)r=r?r[n[o]]:a;return r===a?i:r}}):t.dlv=function(r,n,i,o,a){for(n=n.split?n.split("."):n,o=0;o<n.length;o++)r=r?r[n[o]]:a;return r===a?i:r}})(ia)});var aa=I((uE,Ac)=>{"use strict";var dg=Number.POSITIVE_INFINITY;Ac.exports=dg});var Pc=I((cE,Oc)=>{"use strict";Oc.exports=Number});var Tc=I((lE,xc)=>{"use strict";var hg=Pc();xc.exports=hg});var sa=I((fE,Cc)=>{"use strict";var pg=Tc(),mg=pg.NEGATIVE_INFINITY;Cc.exports=mg});var ua=I((dE,kc)=>{"use strict";var vg=1023;kc.exports=vg});var Lc=I((hE,Ic)=>{"use strict";var gg=1023;Ic.exports=gg});var Rc=I((pE,Fc)=>{"use strict";var yg=-1023;Fc.exports=yg});var qc=I((mE,jc)=>{"use strict";var bg=-1074;jc.exports=bg});var Mc=I((vE,Nc)=>{"use strict";function wg(t){return t!==t}Nc.exports=wg});var ca=I((gE,Dc)=>{"use strict";var _g=Mc();Dc.exports=_g});var Hc=I((yE,Bc)=>{"use strict";var Sg=aa(),Eg=sa();function Ag(t){return t===Sg||t===Eg}Bc.exports=Ag});var la=I((bE,Uc)=>{"use strict";var Og=Hc();Uc.exports=Og});var Vc=I((wE,Wc)=>{"use strict";var Pg=2147483648;Wc.exports=Pg});var zc=I((_E,$c)=>{"use strict";var xg=2147483647;$c.exports=xg});var Gc=I((SE,Kc)=>{"use strict";var Tg=typeof Object.defineProperty=="function"?Object.defineProperty:null;Kc.exports=Tg});var Qc=I((EE,Jc)=>{"use strict";var Cg=Gc();function kg(){try{return Cg({},"x",{}),!0}catch(t){return!1}}Jc.exports=kg});var Yc=I((AE,Xc)=>{"use strict";var Ig=Object.defineProperty;Xc.exports=Ig});var nl=I((OE,rl)=>{"use strict";var Sr=Object.prototype,Zc=Sr.toString,el=Sr.__defineGetter__,tl=Sr.__defineSetter__,Lg=Sr.__lookupGetter__,Fg=Sr.__lookupSetter__;function Rg(t,e,r){var n,i,o,a;if(typeof t!="object"||t===null||Zc.call(t)==="[object Array]")throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if(typeof r!="object"||r===null||Zc.call(r)==="[object Array]")throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if(i="value"in r,i&&(Lg.call(t,e)||Fg.call(t,e)?(n=t.__proto__,t.__proto__=Sr,delete t[e],t[e]=r.value,t.__proto__=n):t[e]=r.value),o="get"in r,a="set"in r,i&&(o||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&el&&el.call(t,e,r.get),a&&tl&&tl.call(t,e,r.set),t}rl.exports=Rg});var ol=I((PE,il)=>{"use strict";var jg=Qc(),qg=Yc(),Ng=nl(),fa;jg()?fa=qg:fa=Ng;il.exports=fa});var sl=I((xE,al)=>{"use strict";var Mg=ol();function Dg(t,e,r){Mg(t,e,{configurable:!1,enumerable:!1,writable:!1,value:r})}al.exports=Dg});var da=I((TE,ul)=>{"use strict";var Bg=sl();ul.exports=Bg});var ll=I((CE,cl)=>{"use strict";function Hg(){return typeof Symbol=="function"&&typeof Symbol("foo")=="symbol"}cl.exports=Hg});var dl=I((kE,fl)=>{"use strict";var Ug=ll();fl.exports=Ug});var pl=I((IE,hl)=>{"use strict";var Wg=dl(),Vg=Wg();function $g(){return Vg&&typeof Symbol.toStringTag=="symbol"}hl.exports=$g});var vl=I((LE,ml)=>{"use strict";var zg=pl();ml.exports=zg});var ha=I((FE,gl)=>{"use strict";var Kg=Object.prototype.toString;gl.exports=Kg});var bl=I((RE,yl)=>{"use strict";var Gg=ha();function Jg(t){return Gg.call(t)}yl.exports=Jg});var _l=I((jE,wl)=>{"use strict";var Qg=Object.prototype.hasOwnProperty;function Xg(t,e){return t==null?!1:Qg.call(t,e)}wl.exports=Xg});var El=I((qE,Sl)=>{"use strict";var Yg=_l();Sl.exports=Yg});var Ol=I((NE,Al)=>{"use strict";var Zg=typeof Symbol=="function"?Symbol.toStringTag:"";Al.exports=Zg});var xl=I((ME,Pl)=>{"use strict";var ey=El(),hn=Ol(),pa=ha();function ty(t){var e,r,n;if(t==null)return pa.call(t);r=t[hn],e=ey(t,hn);try{t[hn]=void 0}catch(i){return pa.call(t)}return n=pa.call(t),e?t[hn]=r:delete t[hn],n}Pl.exports=ty});var pn=I((DE,Tl)=>{"use strict";var ry=vl(),ny=bl(),iy=xl(),ma;ry()?ma=iy:ma=ny;Tl.exports=ma});var kl=I((BE,Cl)=>{"use strict";var oy=pn(),ay=typeof Uint32Array=="function";function sy(t){return ay&&t instanceof Uint32Array||oy(t)==="[object Uint32Array]"}Cl.exports=sy});var Ll=I((HE,Il)=>{"use strict";var uy=kl();Il.exports=uy});var Rl=I((UE,Fl)=>{"use strict";var cy=4294967295;Fl.exports=cy});var ql=I((WE,jl)=>{"use strict";var ly=typeof Uint32Array=="function"?Uint32Array:null;jl.exports=ly});var Dl=I((VE,Ml)=>{"use strict";var fy=Ll(),va=Rl(),Nl=ql();function dy(){var t,e;if(typeof Nl!="function")return!1;try{e=[1,3.14,-3.14,va+1,va+2],e=new Nl(e),t=fy(e)&&e[0]===1&&e[1]===3&&e[2]===va-2&&e[3]===0&&e[4]===1}catch(r){t=!1}return t}Ml.exports=dy});var Hl=I(($E,Bl)=>{"use strict";var hy=Dl();Bl.exports=hy});var Wl=I((zE,Ul)=>{"use strict";var py=typeof Uint32Array=="function"?Uint32Array:void 0;Ul.exports=py});var $l=I((KE,Vl)=>{"use strict";function my(){throw new Error("not implemented")}Vl.exports=my});var bi=I((GE,zl)=>{"use strict";var vy=Hl(),gy=Wl(),yy=$l(),ga;vy()?ga=gy:ga=yy;zl.exports=ga});var Gl=I((JE,Kl)=>{"use strict";var by=pn(),wy=typeof Float64Array=="function";function _y(t){return wy&&t instanceof Float64Array||by(t)==="[object Float64Array]"}Kl.exports=_y});var Ql=I((QE,Jl)=>{"use strict";var Sy=Gl();Jl.exports=Sy});var Yl=I((XE,Xl)=>{"use strict";var Ey=typeof Float64Array=="function"?Float64Array:null;Xl.exports=Ey});var tf=I((YE,ef)=>{"use strict";var Ay=Ql(),Zl=Yl();function Oy(){var t,e;if(typeof Zl!="function")return!1;try{e=new Zl([1,3.14,-3.14,NaN]),t=Ay(e)&&e[0]===1&&e[1]===3.14&&e[2]===-3.14&&e[3]!==e[3]}catch(r){t=!1}return t}ef.exports=Oy});var nf=I((ZE,rf)=>{"use strict";var Py=tf();rf.exports=Py});var af=I((e1,of)=>{"use strict";var xy=typeof Float64Array=="function"?Float64Array:void 0;of.exports=xy});var uf=I((t1,sf)=>{"use strict";function Ty(){throw new Error("not implemented")}sf.exports=Ty});var wi=I((r1,cf)=>{"use strict";var Cy=nf(),ky=af(),Iy=uf(),ya;Cy()?ya=ky:ya=Iy;cf.exports=ya});var ff=I((n1,lf)=>{"use strict";var Ly=pn(),Fy=typeof Uint8Array=="function";function Ry(t){return Fy&&t instanceof Uint8Array||Ly(t)==="[object Uint8Array]"}lf.exports=Ry});var hf=I((i1,df)=>{"use strict";var jy=ff();df.exports=jy});var mf=I((o1,pf)=>{"use strict";var qy=255;pf.exports=qy});var gf=I((a1,vf)=>{"use strict";var Ny=typeof Uint8Array=="function"?Uint8Array:null;vf.exports=Ny});var wf=I((s1,bf)=>{"use strict";var My=hf(),ba=mf(),yf=gf();function Dy(){var t,e;if(typeof yf!="function")return!1;try{e=[1,3.14,-3.14,ba+1,ba+2],e=new yf(e),t=My(e)&&e[0]===1&&e[1]===3&&e[2]===ba-2&&e[3]===0&&e[4]===1}catch(r){t=!1}return t}bf.exports=Dy});var Sf=I((u1,_f)=>{"use strict";var By=wf();_f.exports=By});var Af=I((c1,Ef)=>{"use strict";var Hy=typeof Uint8Array=="function"?Uint8Array:void 0;Ef.exports=Hy});var Pf=I((l1,Of)=>{"use strict";function Uy(){throw new Error("not implemented")}Of.exports=Uy});var Tf=I((f1,xf)=>{"use strict";var Wy=Sf(),Vy=Af(),$y=Pf(),wa;Wy()?wa=Vy:wa=$y;xf.exports=wa});var kf=I((d1,Cf)=>{"use strict";var zy=pn(),Ky=typeof Uint16Array=="function";function Gy(t){return Ky&&t instanceof Uint16Array||zy(t)==="[object Uint16Array]"}Cf.exports=Gy});var Lf=I((h1,If)=>{"use strict";var Jy=kf();If.exports=Jy});var Rf=I((p1,Ff)=>{"use strict";var Qy=65535;Ff.exports=Qy});var qf=I((m1,jf)=>{"use strict";var Xy=typeof Uint16Array=="function"?Uint16Array:null;jf.exports=Xy});var Df=I((v1,Mf)=>{"use strict";var Yy=Lf(),_a=Rf(),Nf=qf();function Zy(){var t,e;if(typeof Nf!="function")return!1;try{e=[1,3.14,-3.14,_a+1,_a+2],e=new Nf(e),t=Yy(e)&&e[0]===1&&e[1]===3&&e[2]===_a-2&&e[3]===0&&e[4]===1}catch(r){t=!1}return t}Mf.exports=Zy});var Hf=I((g1,Bf)=>{"use strict";var eb=Df();Bf.exports=eb});var Wf=I((y1,Uf)=>{"use strict";var tb=typeof Uint16Array=="function"?Uint16Array:void 0;Uf.exports=tb});var $f=I((b1,Vf)=>{"use strict";function rb(){throw new Error("not implemented")}Vf.exports=rb});var Kf=I((w1,zf)=>{"use strict";var nb=Hf(),ib=Wf(),ob=$f(),Sa;nb()?Sa=ib:Sa=ob;zf.exports=Sa});var Jf=I((_1,Gf)=>{"use strict";var ab=Tf(),sb=Kf(),ub={uint16:sb,uint8:ab};Gf.exports=ub});var Zf=I((S1,Yf)=>{"use strict";var Qf=Jf(),Xf;function cb(){var t,e;return t=new Qf.uint16(1),t[0]=4660,e=new Qf.uint8(t.buffer),e[0]===52}Xf=cb();Yf.exports=Xf});var _i=I((E1,ed)=>{"use strict";var lb=Zf();ed.exports=lb});var nd=I((A1,rd)=>{"use strict";var fb=_i(),td,Ea,Aa;fb===!0?(Ea=1,Aa=0):(Ea=0,Aa=1);td={HIGH:Ea,LOW:Aa};rd.exports=td});var Oa=I((O1,sd)=>{"use strict";var db=bi(),hb=wi(),od=nd(),ad=new hb(1),id=new db(ad.buffer),pb=od.HIGH,mb=od.LOW;function vb(t,e,r,n){return ad[0]=t,e[n]=id[pb],e[n+r]=id[mb],e}sd.exports=vb});var cd=I((P1,ud)=>{"use strict";var gb=Oa();function yb(t){return gb(t,[0>>>0,0>>>0],1,0)}ud.exports=yb});var Pa=I((x1,fd)=>{"use strict";var bb=da(),ld=cd(),wb=Oa();bb(ld,"assign",wb);fd.exports=ld});var hd=I((T1,dd)=>{"use strict";var _b=_i(),xa;_b===!0?xa=1:xa=0;dd.exports=xa});var vd=I((C1,md)=>{"use strict";var Sb=bi(),Eb=wi(),Ab=hd(),pd=new Eb(1),Ob=new Sb(pd.buffer);function Pb(t){return pd[0]=t,Ob[Ab]}md.exports=Pb});var Ta=I((k1,gd)=>{"use strict";var xb=vd();gd.exports=xb});var wd=I((I1,bd)=>{"use strict";var Tb=_i(),yd,Ca,ka;Tb===!0?(Ca=1,ka=0):(Ca=0,ka=1);yd={HIGH:Ca,LOW:ka};bd.exports=yd});var Od=I((L1,Ad)=>{"use strict";var Cb=bi(),kb=wi(),Sd=wd(),Ed=new kb(1),_d=new Cb(Ed.buffer),Ib=Sd.HIGH,Lb=Sd.LOW;function Fb(t,e){return _d[Ib]=t,_d[Lb]=e,Ed[0]}Ad.exports=Fb});var Ia=I((F1,Pd)=>{"use strict";var Rb=Od();Pd.exports=Rb});var Td=I((R1,xd)=>{"use strict";var jb=Vc(),qb=zc(),Nb=Pa(),Mb=Ta(),Db=Ia(),La=[0,0];function Bb(t,e){var r,n;return Nb.assign(t,La,1,0),r=La[0],r&=qb,n=Mb(e),n&=jb,r|=n,Db(r,La[1])}xd.exports=Bb});var kd=I((j1,Cd)=>{"use strict";var Hb=Td();Cd.exports=Hb});var Ld=I((q1,Id)=>{"use strict";var Ub=22250738585072014e-324;Id.exports=Ub});var Rd=I((N1,Fd)=>{"use strict";function Wb(t){return Math.abs(t)}Fd.exports=Wb});var qd=I((M1,jd)=>{"use strict";var Vb=Rd();jd.exports=Vb});var Fa=I((D1,Nd)=>{"use strict";var $b=Ld(),zb=la(),Kb=ca(),Gb=qd(),Jb=4503599627370496;function Qb(t,e,r,n){return Kb(t)||zb(t)?(e[n]=t,e[n+r]=0,e):t!==0&&Gb(t)<$b?(e[n]=t*Jb,e[n+r]=-52,e):(e[n]=t,e[n+r]=0,e)}Nd.exports=Qb});var Dd=I((B1,Md)=>{"use strict";var Xb=Fa();function Yb(t){return Xb(t,[0,0],1,0)}Md.exports=Yb});var Ud=I((H1,Hd)=>{"use strict";var Zb=da(),Bd=Dd(),e0=Fa();Zb(Bd,"assign",e0);Hd.exports=Bd});var Vd=I((U1,Wd)=>{"use strict";var t0=2146435072;Wd.exports=t0});var zd=I((W1,$d)=>{"use strict";var r0=Ta(),n0=Vd(),i0=ua();function o0(t){var e=r0(t);return e=(e&n0)>>>20,e-i0|0}$d.exports=o0});var Gd=I((V1,Kd)=>{"use strict";var a0=zd();Kd.exports=a0});var Qd=I(($1,Jd)=>{"use strict";var s0=aa(),u0=sa(),c0=ua(),l0=Lc(),f0=Rc(),d0=qc(),h0=ca(),p0=la(),m0=kd(),v0=Ud(),g0=Gd(),y0=Pa(),b0=Ia(),w0=2220446049250313e-31,_0=2148532223>>>0,Ra=[0,0],ja=[0,0];function S0(t,e){var r,n;return t===0||h0(t)||p0(t)?t:(v0(Ra,t),t=Ra[0],e+=Ra[1],e+=g0(t),e<d0?m0(0,t):e>l0?t<0?u0:s0:(e<=f0?(e+=52,n=w0):n=1,y0(ja,t),r=ja[0],r&=_0,r|=e+c0<<20,n*b0(r,ja[1])))}Jd.exports=S0});var Yd=I((z1,Xd)=>{"use strict";var E0=Qd();Xd.exports=E0});var eh=I(Zd=>{function A0(t,e,r){e.split&&(e=e.split("."));for(var n=0,i=e.length,o=t,a,s;n<i&&(s=e[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)o=o[s]=n===i?r:typeof(a=o[s])==typeof e?a:e[n]*0!==0||!!~(""+e[n]).indexOf(".")?{}:[]}Zd.dset=A0});var th=I(Er=>{"use strict";var O0=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.unset=void 0;var P0=O0(yi());function x0(t,e){if((0,P0.default)(t,e)){for(var r=e.split("."),n=r.pop();r.length&&r[r.length-1].slice(-1)==="\\";)n=r.pop().slice(0,-1)+"."+n;for(;r.length;)t=t[e=r.shift()];return delete t[n]}return!0}Er.unset=x0});var nh=I(vn=>{"use strict";var qa=vn&&vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vn,"__esModule",{value:!0});var T0=qa(Ec()),Vt=qa(yi()),C0=qa(Yd()),mn=eh(),k0=th();function I0(t,e){for(var r=t,n=0,i=e;n<i.length;n++){var o=i[n];switch(o.type){case"drop":return null;case"drop_properties":L0(r,o.config);break;case"allow_properties":F0(r,o.config);break;case"sample_event":if(j0(r,o.config))break;return null;case"map_properties":R0(r,o.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(o.type,'" is unsupported.'))}}return r}vn.default=I0;function L0(t,e){for(var r in e.drop)if(!!e.drop.hasOwnProperty(r)){var n=r===""?t:(0,Vt.default)(t,r);if(!(typeof n!="object"||n===null))for(var i=0,o=e.drop[r];i<o.length;i++){var a=o[i];delete n[a]}}}function F0(t,e){for(var r in e.allow)if(!!e.allow.hasOwnProperty(r)){var n=r===""?t:(0,Vt.default)(t,r);if(!(typeof n!="object"||n===null))for(var i in n)!n.hasOwnProperty(i)||e.allow[r].indexOf(i)===-1&&delete n[i]}}function R0(t,e){var r=JSON.parse(JSON.stringify(t));for(var n in e.map)if(!!e.map.hasOwnProperty(n)){var i=e.map[n],o=n.split("."),a=void 0;if(o.length>1?(o.pop(),a=(0,Vt.default)(r,o.join("."))):a=t,typeof a=="object"){if(i.copy){var s=(0,Vt.default)(r,i.copy);s!==void 0&&(0,mn.dset)(t,n,s)}else if(i.move){var c=(0,Vt.default)(r,i.move);c!==void 0&&(0,mn.dset)(t,n,c),(0,k0.unset)(t,i.move)}else i.hasOwnProperty("set")&&(0,mn.dset)(t,n,i.set);if(i.to_string){var f=(0,Vt.default)(t,n);if(typeof f=="string"||typeof f=="object"&&f!==null)continue;f!==void 0?(0,mn.dset)(t,n,JSON.stringify(f)):(0,mn.dset)(t,n,"undefined")}}}}function j0(t,e){return e.sample.percent<=0?!1:e.sample.percent>=1?!0:e.sample.path?N0(t,e):q0(e.sample.percent)}function q0(t){return Math.random()<=t}function N0(t,e){var r=(0,Vt.default)(t,e.sample.path),n=(0,T0.default)(JSON.stringify(r)),i=-64,o=[];rh(n.slice(0,8),o);for(var a=0,s=0;s<64&&o[s]!==1;s++)a++;if(a!==0){var c=[];rh(n.slice(9,16),c),i-=a,o.splice(0,a),c.splice(64-a),o=o.concat(c)}return o[63]=o[63]===0?1:0,(0,C0.default)(parseInt(o.join(""),2),i)<e.sample.percent}function rh(t,e){for(var r=0;r<8;r++)for(var n=t[r],i=128;i>=1;i/=2)n-i>=0?(n-=i,e.push(1)):e.push(0)}});var ah=I(gn=>{"use strict";var M0=gn&&gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gn,"__esModule",{value:!0});var D0=M0(yi());function B0(t,e){if(!e)throw new Error("No matcher supplied!");switch(e.type){case"all":return H0();case"fql":return U0(e.ir,t);default:throw new Error("Matcher of type ".concat(e.type," unsupported."))}}gn.default=B0;function H0(){return!0}function U0(t,e){if(!t)return!1;try{t=JSON.parse(t)}catch(n){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(t,'": ').concat(n))}var r=It(t,e);return typeof r!="boolean"?!1:r}function It(t,e){if(!Array.isArray(t))return ze(t,e)===!0;var r=t[0];switch(r){case"!":return!It(t[1],e);case"or":for(var n=1;n<t.length;n++)if(It(t[n],e))return!0;return!1;case"and":for(var n=1;n<t.length;n++)if(!It(t[n],e))return!1;return!0;case"=":case"!=":return V0(ze(t[1],e),ze(t[2],e),r,e);case"<=":case"<":case">":case">=":return W0(ze(t[1],e),ze(t[2],e),r,e);case"contains":return $0(ze(t[1],e),ze(t[2],e));case"match":return z0(ze(t[1],e),ze(t[2],e));case"lowercase":var i=ze(t[1],e);return typeof i!="string"?null:i.toLowerCase();case"typeof":return typeof ze(t[1],e);case"length":return K0(ze(t[1],e));default:throw new Error("FQL IR could not evaluate for token: ".concat(r))}}function ze(t,e){return Array.isArray(t)?t:typeof t=="object"?t.value:(0,D0.default)(e,t)}function W0(t,e,r,n){if(Si(t)&&(t=It(t,n)),Si(e)&&(e=It(e,n)),typeof t!="number"||typeof e!="number")return!1;switch(r){case"<=":return t<=e;case">=":return t>=e;case"<":return t<e;case">":return t>e;default:throw new Error("Invalid operator in compareNumbers: ".concat(r))}}function V0(t,e,r,n){switch(Si(t)&&(t=It(t,n)),Si(e)&&(e=It(e,n)),typeof t=="object"&&typeof e=="object"&&(t=JSON.stringify(t),e=JSON.stringify(e)),r){case"=":return t===e;case"!=":return t!==e;default:throw new Error("Invalid operator in compareItems: ".concat(r))}}function $0(t,e){return typeof t!="string"||typeof e!="string"?!1:t.indexOf(e)!==-1}function z0(t,e){return typeof t!="string"||typeof e!="string"?!1:G0(e,t)}function K0(t){return t===null?0:!Array.isArray(t)&&typeof t!="string"?NaN:t.length}function Si(t){return Array.isArray(t)?(t[0]==="lowercase"||t[0]==="length"||t[0]==="typeof")&&t.length===2||(t[0]==="contains"||t[0]==="match")&&t.length===3:!1}function G0(t,e){var r,n;e:for(;t.length>0;){var i=void 0,o=void 0;if(r=J0(t),i=r.star,o=r.chunk,t=r.pattern,i&&o==="")return!0;var a=ih(o,e),s=a.t,c=a.ok,f=a.err;if(f)return!1;if(c&&(s.length===0||t.length>0)){e=s;continue}if(i)for(var m=0;m<e.length;m++){if(n=ih(o,e.slice(m+1)),s=n.t,c=n.ok,f=n.err,c){if(t.length===0&&s.length>0)continue;e=s;continue e}if(f)return!1}return!1}return e.length===0}function J0(t){for(var e={star:!1,chunk:"",pattern:""};t.length>0&&t[0]==="*";)t=t.slice(1),e.star=!0;var r=!1,n;e:for(n=0;n<t.length;n++)switch(t[n]){case"\\":n+1<t.length&&n++;break;case"[":r=!0;break;case"]":r=!1;break;case"*":if(!r)break e}return e.chunk=t.slice(0,n),e.pattern=t.slice(n),e}function ih(t,e){for(var r,n,i={t:"",ok:!1,err:!1};t.length>0;){if(e.length===0)return i;switch(t[0]){case"[":var o=e[0];e=e.slice(1),t=t.slice(1);var a=!0;t.length>0&&t[0]==="^"&&(a=!1,t=t.slice(1));for(var s=!1,c=0;;){if(t.length>0&&t[0]==="]"&&c>0){t=t.slice(1);break}var f="",m="",y=void 0;if(r=oh(t),f=r.char,t=r.newChunk,y=r.err,y||(m=f,t[0]==="-"&&(n=oh(t.slice(1)),m=n.char,t=n.newChunk,y=n.err,y)))return i;f<=o&&o<=m&&(s=!0),c++}if(s!==a)return i;break;case"?":e=e.slice(1),t=t.slice(1);break;case"\\":if(t=t.slice(1),t.length===0)return i.err=!0,i;default:if(t[0]!==e[0])return i;e=e.slice(1),t=t.slice(1)}}return i.t=e,i.ok=!0,i.err=!1,i}function oh(t){var e={char:"",newChunk:"",err:!1};return t.length===0||t[0]==="-"||t[0]==="]"||t[0]==="\\"&&(t=t.slice(1),t.length===0)?(e.err=!0,e):(e.char=t[0],e.newChunk=t.slice(1),e.newChunk.length===0&&(e.err=!0),e)}});var sh=I(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var Q0=function(){function t(e){this.rules=[],this.rules=e||[]}return t.prototype.getRulesByDestinationName=function(e){for(var r=[],n=0,i=this.rules;n<i.length;n++){var o=i[n];(o.destinationName===e||o.destinationName===void 0)&&r.push(o)}return r},t}();Na.default=Q0});var uh=I(ot=>{"use strict";var Ma=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ot,"__esModule",{value:!0});ot.Store=ot.matches=ot.transform=void 0;var X0=nh();Object.defineProperty(ot,"transform",{enumerable:!0,get:function(){return Ma(X0).default}});var Y0=ah();Object.defineProperty(ot,"matches",{enumerable:!0,get:function(){return Ma(Y0).default}});var Z0=sh();Object.defineProperty(ot,"Store",{enumerable:!0,get:function(){return Ma(Z0).default}})});var Ar,ch,lh=Y(()=>{Ar=Le(uh()),ch=function(t){return function(e){var r=e.payload,n=e.integration,i=e.next,o=new Ar.Store(t),a=o.getRulesByDestinationName(n);a.forEach(function(s){for(var c=s.matchers,f=s.transformers,m=0;m<c.length;m++)if(Ar.matches(r.obj,c[m])&&(r.obj=Ar.transform(r.obj,f[m]),r.obj===null))return i(null)}),i(r)}}});function fh(t){return t.toLowerCase().replace(".","").replace(/\s+/g,"-")}function tw(t,e,r){var n,i,o;try{var a=((o=(i=(n=window.window)===null||n===void 0?void 0:n.performance)===null||i===void 0?void 0:i.getEntriesByName(t,"resource"))!==null&&o!==void 0?o:[])[0];a&&e.stats.gauge("legacy_destination_time",Math.round(a.duration),be([r],a.duration<100?["cached"]:[]))}catch(s){}}function dh(t,e,r,n,i){return G(this,void 0,void 0,function(){var o,a,s,c,f,m,y;return K(this,function(w){switch(w.label){case 0:o=fh(r),a=Ha+"/integrations/"+o+"/"+n+"/"+o+".dynamic.js.gz",w.label=1;case 1:return w.trys.push([1,3,,4]),[4,Dt(a)];case 2:return w.sent(),tw(a,t,r),[3,4];case 3:throw s=w.sent(),t.stats.gauge("legacy_destination_time",-1,["plugin:"+r,"failed"]),s;case 4:return c=window[o+"Deps"],[4,Promise.all(c.map(function(P){return Dt(Ha+P+".gz")}))];case 5:return w.sent(),window[o+"Loader"](),f=window[o+"Integration"],f.Integration&&(m={user:function(){return e.user()},addIntegration:function(){}},f(m),f=f.Integration),y=new f(i),y.analytics=e,[2,y]}})})}function hh(t,e){return G(this,void 0,void 0,function(){var r;return K(this,function(n){return r=fh(t),[2,Ou(Ha+"/integrations/"+r+"/"+e+"/"+r+".dynamic.js.gz")]})})}function ph(t){var e,r,n,i;return(i=(r=(e=t.versionSettings)===null||e===void 0?void 0:e.override)!==null&&r!==void 0?r:(n=t.versionSettings)===null||n===void 0?void 0:n.version)!==null&&i!==void 0?i:"latest"}var Da,Ba,ew,Ha,mh=Y(()=>{de();ai();oi();ew=(Ba=(Da=window.analytics)===null||Da===void 0?void 0:Da._cdn)!==null&&Ba!==void 0?Ba:ar(),Ha=ew+"/next-integrations"});var gh={};jt(gh,{LegacyDestination:()=>vh,ajsDestinations:()=>iw});function nw(t,e){return G(this,void 0,void 0,function(){var r,n=this;return K(this,function(i){switch(i.label){case 0:return r=[],rt()?[2,e]:[4,pi(function(){return e.length>0&&rn()},function(){return G(n,void 0,void 0,function(){var o,a,s;return K(this,function(c){switch(c.label){case 0:return o=e.pop(),o?[4,ht(o,t)]:[2];case 1:return a=c.sent(),s=a instanceof Re,s||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function iw(t,e,r){var n,i;return e===void 0&&(e={}),G(this,void 0,void 0,function(){var o,a,s;return K(this,function(c){return si()?[2,[]]:(t.plan&&(r=r!=null?r:{},r.plan=t.plan),o=(i=(n=t.middlewareSettings)===null||n===void 0?void 0:n.routingRules)!==null&&i!==void 0?i:[],a=ch(o),s=ii(t,r!=null?r:{}),[2,Object.entries(t.integrations).map(function(f){var m,y=f[0],w=f[1];if(!y.startsWith("Segment")){var P=e.All===!1&&e[y]===void 0;if(!(e[y]===!1||P)){var D=w.type,U=w.bundlingStatus,$=w.versionSettings,x=U!=="unbundled"&&(D==="browser"||((m=$==null?void 0:$.componentTypes)===null||m===void 0?void 0:m.includes("browser")));if(!(!x&&y!=="Segment.io"||y==="Iterable")){var S=ph(w),h=new vh(y,S,s[y],r),p=o.filter(function(A){return A.destinationName===y});return p.length>0&&h.addMiddleware(a),h}}}}).filter(function(f){return f!==void 0})])})})}var at,rw,vh,yh=Y(()=>{de();at=Le(Qo());sr();tt();tn();hi();Zr();xo();ea();nn();ra();lh();mh();rw=function(t){return JSON.parse(JSON.stringify(t))};vh=function(){function t(e,r,n,i){n===void 0&&(n={}),this.options={},this.type="destination",this.middleware=[],this._ready=!1,this._initialized=!1,this.flushing=!1,this.name=e,this.version=r,this.settings=V({},n),this.settings.type&&this.settings.type==="browser"&&delete this.settings.type,this.options=i,this.buffer=new Ot(4,"dest-"+e),this.scheduleFlush()}return t.prototype.isLoaded=function(){return this._ready},t.prototype.ready=function(){var e;return(e=this.onReady)!==null&&e!==void 0?e:Promise.resolve()},t.prototype.load=function(e,r){return G(this,void 0,void 0,function(){var n,i=this;return K(this,function(o){switch(o.label){case 0:return this._ready||this.onReady!==void 0?[2]:(n=this,[4,dh(e,r,this.name,this.version,this.settings)]);case 1:n.integration=o.sent(),this.onReady=new Promise(function(a){var s=function(){i._ready=!0,a(!0)};i.integration.once("ready",s)}),this.onInitialize=new Promise(function(a){var s=function(){i._initialized=!0,a(!0)};i.integration.on("initialize",s)});try{e.stats.increment("analytics_js.integration.invoke",1,["method:initialize","integration_name:"+this.name]),this.integration.initialize()}catch(a){throw e.stats.increment("analytics_js.integration.invoke.error",1,["method:initialize","integration_name:"+this.name]),a}return[2]}})})},t.prototype.unload=function(e,r){return hh(this.name,this.version)},t.prototype.addMiddleware=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.middleware=(e=this.middleware).concat.apply(e,r)},t.prototype.shouldBuffer=function(e){return e.event.type!=="page"&&(rt()||this._ready===!1||this._initialized===!1)},t.prototype.send=function(e,r,n){var i,o;return G(this,void 0,void 0,function(){var a,s,c,f,m,y;return K(this,function(w){switch(w.label){case 0:if(this.shouldBuffer(e))return this.buffer.push(e),this.scheduleFlush(),[2,e];if(a=(o=(i=this.options)===null||i===void 0?void 0:i.plan)===null||o===void 0?void 0:o.track,s=e.event.event,a&&s&&this.name!=="Segment.io"){if(c=a[s],(c==null?void 0:c.enabled)===!1)return e.updateEvent("integrations",V(V({},e.event.integrations),{All:!1,"Segment.io":!0})),e.cancel(new Ve({retry:!1,reason:"Event "+s+" disabled for integration "+this.name+" in tracking plan",type:"Dropped by plan"})),[2,e];if(e.updateEvent("integrations",V(V({},e.event.integrations),c==null?void 0:c.integrations)),(c==null?void 0:c.enabled)&&(c==null?void 0:c.integrations[this.name])===!1)return e.cancel(new Ve({retry:!1,reason:"Event "+s+" disabled for integration "+this.name+" in tracking plan",type:"Dropped by plan"})),[2,e]}return[4,ta(this.name,rw(e.event),this.middleware)];case 1:if(f=w.sent(),f===null)return[2,e];m=new r(f,{}),e.stats.increment("analytics_js.integration.invoke",1,["method:"+n,"integration_name:"+this.name]),w.label=2;case 2:return w.trys.push([2,5,,6]),this.integration?[4,dt(this.integration.invoke.call(this.integration,n,m))]:[3,4];case 3:w.sent(),w.label=4;case 4:return[3,6];case 5:throw y=w.sent(),e.stats.increment("analytics_js.integration.invoke.error",1,["method:"+n,"integration_name:"+this.name]),y;case 6:return[2,e]}})})},t.prototype.track=function(e){return G(this,void 0,void 0,function(){return K(this,function(r){return[2,this.send(e,at.Track,"track")]})})},t.prototype.page=function(e){var r;return G(this,void 0,void 0,function(){var n=this;return K(this,function(i){return((r=this.integration)===null||r===void 0?void 0:r._assumesPageview)&&!this._initialized&&this.integration.initialize(),[2,this.onInitialize.then(function(){return n.send(e,at.Page,"page")})]})})},t.prototype.identify=function(e){return G(this,void 0,void 0,function(){return K(this,function(r){return[2,this.send(e,at.Identify,"identify")]})})},t.prototype.alias=function(e){return G(this,void 0,void 0,function(){return K(this,function(r){return[2,this.send(e,at.Alias,"alias")]})})},t.prototype.group=function(e){return G(this,void 0,void 0,function(){return K(this,function(r){return[2,this.send(e,at.Group,"group")]})})},t.prototype.scheduleFlush=function(){var e=this;this.flushing||setTimeout(function(){return G(e,void 0,void 0,function(){var r;return K(this,function(n){switch(n.label){case 0:return this.flushing=!0,r=this,[4,nw(this,this.buffer)];case 1:return r.buffer=n.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}})})},Math.random()*5e3)},t}()});var bh=I((Ei,Ua)=>{(function(t,e){typeof Ei=="object"&&typeof Ua=="object"?Ua.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ei=="object"?Ei.analyticsVideoPlugins=e():t.analyticsVideoPlugins=e()})(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(n,i,o){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var a in n)r.d(o,a,function(s){return n[s]}.bind(null,a));return o},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=2)}([function(t,e,r){"use strict";r.r(e);var n=typeof fetch=="function"?fetch.bind():function(i,o){return o=o||{},new Promise(function(a,s){var c=new XMLHttpRequest;for(var f in c.open(o.method||"get",i,!0),o.headers)c.setRequestHeader(f,o.headers[f]);function m(){var y,w=[],P=[],D={};return c.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(U,$,x){w.push($=$.toLowerCase()),P.push([$,x]),y=D[$],D[$]=y?y+","+x:x}),{ok:(c.status/100|0)==2,status:c.status,statusText:c.statusText,url:c.responseURL,clone:m,text:function(){return Promise.resolve(c.responseText)},json:function(){return Promise.resolve(c.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([c.response]))},headers:{keys:function(){return w},entries:function(){return P},get:function(U){return D[U.toLowerCase()]},has:function(U){return U.toLowerCase()in D}}}}c.withCredentials=o.credentials=="include",c.onload=function(){a(m())},c.onerror=s,c.send(o.body)})};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(a,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,s,c){return s&&o(a.prototype,s),c&&o(a,c),a}}(),i=function(){function o(a,s){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,o),this.pluginName=a}return n(o,[{key:"track",value:function(a,s){window.analytics.track(a,s,{integration:{name:this.pluginName}})}}]),o}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.YouTubeAnalytics=e.VimeoAnalytics=void 0;var n=o(r(3)),i=o(r(4));function o(a){return a&&a.__esModule?a:{default:a}}e.VimeoAnalytics=n.default,e.YouTubeAnalytics=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function s(c,f){for(var m=0;m<f.length;m++){var y=f[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}return function(c,f,m){return f&&s(c.prototype,f),m&&s(c,m),c}}(),i=o(r(0));function o(s){return s&&s.__esModule?s:{default:s}}var a=function(s){function c(f,m){(function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")})(this,c);var y=function(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?w:P}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,"VimeoAnalytics"));return y.authToken=m,y.player=f,y.metadata={content:{},playback:{videoPlayer:"Vimeo"}},y.mostRecentHeartbeat=0,y.isPaused=!1,y}return function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(c,s),n(c,[{key:"initialize",value:function(){var f=this,m={loaded:this.retrieveMetadata,play:this.trackPlay,pause:this.trackPause,ended:this.trackEnded,timeupdate:this.trackHeartbeat};for(var y in m)this.registerHandler(y,m[y]);this.player.getVideoId().then(function(w){f.retrieveMetadata({id:w})}).catch(console.error)}},{key:"registerHandler",value:function(f,m){var y=this;this.player.on(f,function(w){y.updateMetadata(w),m.call(y,w)})}},{key:"trackPlay",value:function(){this.isPaused?(this.track("Video Playback Resumed",this.metadata.playback),this.isPaused=!1):(this.track("Video Playback Started",this.metadata.playback),this.track("Video Content Started",this.metadata.content))}},{key:"trackEnded",value:function(){this.track("Video Playback Completed",this.metadata.playback),this.track("Video Content Completed",this.metadata.content)}},{key:"trackHeartbeat",value:function(){var f=this.mostRecentHeartbeat,m=this.metadata.playback.position;m!==f&&m-f>=10&&(this.track("Video Content Playing",this.metadata.content),this.mostRecentHeartbeat=Math.floor(m))}},{key:"trackPause",value:function(){this.isPaused=!0,this.track("Video Playback Paused",this.metadata.playback)}},{key:"retrieveMetadata",value:function(f){var m=this;return new Promise(function(y,w){var P=f.id;(0,i.default)("https://api.vimeo.com/videos/"+P,{headers:{Authorization:"Bearer "+m.authToken}}).then(function(D){return D.ok?D.json():w(D)}).then(function(D){m.metadata.content.title=D.name,m.metadata.content.description=D.description,m.metadata.content.publisher=D.user.name,m.metadata.playback.position=0,m.metadata.playback.totalLength=D.duration}).catch(function(D){return console.error("Request to Vimeo API Failed with: ",D),w(D)})})}},{key:"updateMetadata",value:function(f){var m=this;return new Promise(function(y,w){m.player.getVolume().then(function(P){P&&(m.metadata.playback.sound=100*P),m.metadata.playback.position=f.seconds,y()}).catch(w)})}}]),c}(o(r(1)).default);e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function f(m,y){for(var w=0;w<y.length;w++){var P=y[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,y,w){return y&&f(m.prototype,y),w&&f(m,w),m}}(),i=a(r(0)),o=a(r(1));function a(f){return f&&f.__esModule?f:{default:f}}var s=function(f){function m(y,w){(function(D,U){if(!(D instanceof U))throw new TypeError("Cannot call a class as a function")})(this,m);var P=function(D,U){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||typeof U!="object"&&typeof U!="function"?D:U}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,"YoutubeAnalytics"));return P.player=y,P.apiKey=w,P.playerLoaded=!1,P.playbackStarted=!1,P.contentStarted=!1,P.isPaused=!1,P.isBuffering=!1,P.isSeeking=!1,P.lastRecordedTime={timeReported:Date.now(),timeElapsed:0},P.metadata=[{playback:{video_player:"youtube"},content:{}}],P.playlistIndex=0,P}return function(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}(m,f),n(m,[{key:"initialize",value:function(){window.segmentYoutubeOnStateChange=this.onPlayerStateChange.bind(this),window.segmentYoutubeOnReady=this.onPlayerReady.bind(this),this.player.addEventListener("onReady","segmentYoutubeOnReady"),this.player.addEventListener("onStateChange","segmentYoutubeOnStateChange")}},{key:"onPlayerReady",value:function(y){this.retrieveMetadata()}},{key:"onPlayerStateChange",value:function(y){var w=this.player.getCurrentTime();switch(this.metadata[this.playlistIndex]&&(this.metadata[this.playlistIndex].playback.position=this.metadata[this.playlistIndex].content.position=w,this.metadata[this.playlistIndex].playback.quality=this.player.getPlaybackQuality(),this.metadata[this.playlistIndex].playback.sound=this.player.isMuted()?0:this.player.getVolume()),y.data){case-1:if(this.playerLoaded)break;this.retrieveMetadata(),this.playerLoaded=!0;break;case YT.PlayerState.BUFFERING:this.handleBuffer();break;case YT.PlayerState.PLAYING:this.handlePlay();break;case YT.PlayerState.PAUSED:this.handlePause();break;case YT.PlayerState.ENDED:this.handleEnd()}this.lastRecordedTime={timeReported:Date.now(),timeElapsed:1e3*this.player.getCurrentTime()}}},{key:"retrieveMetadata",value:function(){var y=this;return new Promise(function(w,P){var D=y.player.getVideoData(),U=y.player.getPlaylist()||[D.video_id],$=U.join();(0,i.default)("https://www.googleapis.com/youtube/v3/videos?id="+$+"&part=snippet,contentDetails&key="+y.apiKey).then(function(x){if(!x.ok){var S=new Error("Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)");throw S.response=x,S}return x.json()}).then(function(x){y.metadata=[];for(var S=0,h=0;h<U.length;h++){var p=x.items[h];y.metadata.push({content:{title:p.snippet.title,description:p.snippet.description,keywords:p.snippet.tags,channel:p.snippet.channelTitle,airdate:p.snippet.publishedAt}}),S+=c(p.contentDetails.duration)}for(h=0;h<U.length;h++)y.metadata[h].playback={total_length:S,video_player:"youtube"};w()}).catch(function(x){y.metadata=U.map(function(S){return{playback:{video_player:"youtube"},content:{}}}),P(x)})})}},{key:"handleBuffer",value:function(){var y=this.determineSeek();this.playbackStarted||(this.playbackStarted=!0,this.track("Video Playback Started",this.metadata[this.playlistIndex].playback)),y&&!this.isSeeking&&(this.isSeeking=!0,this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback)),this.isSeeking&&(this.track("Video Playback Seek Completed",this.metadata[this.playlistIndex].playback),this.isSeeking=!1);var w=this.player.getPlaylist();w&&this.player.getCurrentTime()===0&&this.player.getPlaylistIndex()!==this.playlistIndex&&(this.contentStarted=!1,this.playlistIndex===w.length-1&&this.player.getPlaylistIndex()===0&&(this.track("Video Playback Completed",this.metadata[this.player.getPlaylistIndex()].playback),this.track("Video Playback Started",this.metadata[this.player.getPlaylistIndex()].playback))),this.track("Video Playback Buffer Started",this.metadata[this.playlistIndex].playback),this.isBuffering=!0}},{key:"handlePlay",value:function(){this.contentStarted||(this.playlistIndex=this.player.getPlaylistIndex(),this.playlistIndex===-1&&(this.playlistIndex=0),this.track("Video Content Started",this.metadata[this.playlistIndex].content),this.contentStarted=!0),this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused&&(this.track("Video Playback Resumed",this.metadata[this.playlistIndex].playback),this.isPaused=!1)}},{key:"handlePause",value:function(){var y=this.determineSeek();this.isBuffering&&(this.track("Video Playback Buffer Completed",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused||(y?(this.track("Video Playback Seek Started",this.metadata[this.playlistIndex].playback),this.isSeeking=!0):(this.track("Video Playback Paused",this.metadata[this.playlistIndex].playback),this.isPaused=!0))}},{key:"handleEnd",value:function(){this.track("Video Content Completed",this.metadata[this.playlistIndex].content),this.contentStarted=!1;var y=this.player.getPlaylistIndex(),w=this.player.getPlaylist();(w&&y===w.length-1||y===-1)&&(this.track("Video Playback Completed",this.metadata[this.playlistIndex].playback),this.playbackStarted=!1)}},{key:"determineSeek",value:function(){var y=this.isPaused||this.isBuffering?0:Date.now()-this.lastRecordedTime.timeReported,w=1e3*this.player.getCurrentTime()-this.lastRecordedTime.timeElapsed;return Math.abs(y-w)>2e3}}]),m}(o.default);function c(f){var m=f.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return m=m.slice(1).map(function(y){if(y!=null)return y.replace(/\D/,"")}),3600*(parseInt(m[0])||0)+60*(parseInt(m[1])||0)+(parseInt(m[2])||0)}e.default=s}])})});var wh={};jt(wh,{loadLegacyVideoPlugins:()=>ow});function ow(t){return G(this,void 0,void 0,function(){var e;return K(this,function(r){switch(r.label){case 0:return[4,Promise.resolve().then(()=>Le(bh()))];case 1:return e=r.sent(),t._plugins=e,[2]}})})}var _h=Y(()=>{de()});var Sh={};jt(Sh,{schemaFilter:()=>sw});function aw(t,e){var r,n;if(!t||!Object.keys(t))return{};var i=Object.keys(t.integrations).filter(function(a){return t.integrations[a]===!1}),o=[];return((r=e.remotePlugins)!==null&&r!==void 0?r:[]).forEach(function(a){i.forEach(function(s){(a.name.includes(s)||s.includes(a.name))&&o.push(a.name)})}),((n=e.remotePlugins)!==null&&n!==void 0?n:[]).reduce(function(a,s){return s.settings.subscriptions&&o.includes(s.name)&&s.settings.subscriptions.forEach(function(c){return a[s.name+" "+c.partnerAction]=!1}),a},{})}function sw(t,e){function r(n){var i=t,o=n.event.event;if(i&&o){var a=i[o];if((a==null?void 0:a.enabled)===!1)return n.updateEvent("integrations",V(V({},n.event.integrations),{All:!1,"Segment.io":!0})),n;var s=aw(a,e);n.updateEvent("integrations",V(V(V({},n.event.integrations),a==null?void 0:a.integrations),s))}return n}return{name:"Schema Filter",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:r,alias:r,track:r,identify:r,group:r}}var Eh=Y(()=>{de()});var Ah={};jt(Ah,{remoteMiddlewares:()=>lw});function lw(t,e){var r;return G(this,void 0,void 0,function(){var n,i,o,a,s=this;return K(this,function(c){switch(c.label){case 0:return si()?[2,[]]:(n=(r=e.enabledMiddleware)!==null&&r!==void 0?r:{},i=Object.keys(n),o=i.map(function(f){return G(s,void 0,void 0,function(){var m,y,w;return K(this,function(P){switch(P.label){case 0:m=f.replace("@segment/",""),y=cw+"/middleware/"+m+"/latest/"+m+".js.gz",P.label=1;case 1:return P.trys.push([1,3,,4]),[4,Dt(y)];case 2:return P.sent(),[2,window[m+"Middleware"]];case 3:return w=P.sent(),t.log("error",w),t.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}),[4,Promise.all(o)]);case 1:return a=c.sent(),a=a.filter(Boolean),[2,a]}})})}var Wa,Va,uw,cw,Oh=Y(()=>{de();tn();oi();ai();uw=(Va=(Wa=window.analytics)===null||Wa===void 0?void 0:Wa._cdn)!==null&&Va!==void 0?Va:ar(),cw=uw+"/next-integrations"});function fw(t,e){var r;return{integrations:{"Segment.io":{apiKey:t,addBundledMetadata:!0,apiHost:(r=e.apiHost)!==null&&r!==void 0?r:"api.june.so/sdk",versionSettings:{version:"4.4.7",componentTypes:["browser"]}}},plan:{track:{__default:{enabled:!0,integrations:{}}},identify:{__default:{enabled:!0}},group:{__default:{enabled:!0}}},edgeFunction:{},analyticsNextEnabled:!0,middlewareSettings:{},enabledMiddleware:{},metrics:{sampleRate:.1},legacyVideoPluginsEnabled:!1,remotePlugins:[]}}function dw(t){return cu().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function hw(t){return G(this,void 0,void 0,function(){var e,r,n,i,o,a,s,c;return K(this,function(f){switch(f.label){case 0:e=window.analytics,r=e&&e[0]?be(e):[],n=function(m,y){var w;return K(this,function(P){switch(P.label){case 0:return t[m]&&typeof t[m]=="function"?m!=="addSourceMiddleware"?[3,2]:[4,(w=t[m]).call.apply(w,be([t],y))]:[3,3];case 1:return P.sent(),[3,3];case 2:setTimeout(function(){var D;(D=t[m]).call.apply(D,be([t],y))},0),P.label=3;case 3:return[2]}})},i=0,o=r,f.label=1;case 1:return i<o.length?(a=o[i],s=a[0],c=a.slice(1),[5,n(s,c)]):[3,4];case 2:f.sent(),f.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function pw(t){var e=window.analytics,r=e&&e[0]?be(e):[],n=r.find(function(o){var a=o[0];return a==="setAnonymousId"});if(n){var i=n[1];t.setAnonymousId(i)}}function mw(t,e,r,n,i){var o,a,s;return G(this,void 0,void 0,function(){var c,f,m,y,w,P,D,U,$,x=this;return K(this,function(S){switch(S.label){case 0:return dw(t)?[4,Promise.resolve().then(()=>(yh(),gh)).then(function(h){return h.ajsDestinations(t,e.integrations,r)})]:[3,2];case 1:return f=S.sent(),[3,3];case 2:f=[],S.label=3;case 3:return c=f,t.legacyVideoPluginsEnabled?[4,Promise.resolve().then(()=>(_h(),wh)).then(function(h){return h.loadLegacyVideoPlugins(e)})]:[3,5];case 4:S.sent(),S.label=5;case 5:return!((o=r.plan)===null||o===void 0)&&o.track?[4,Promise.resolve().then(()=>(Eh(),Sh)).then(function(h){var p;return h.schemaFilter((p=r.plan)===null||p===void 0?void 0:p.track,t)})]:[3,7];case 6:return y=S.sent(),[3,8];case 7:y=void 0,S.label=8;case 8:return m=y,w=ii(t,n),[4,Pu(t).catch(function(){return[]})];case 9:return P=S.sent(),D=be([vi,Su],i,c,P),m&&D.push(m),U=((a=r.integrations)===null||a===void 0?void 0:a.All)===!1&&!r.integrations["Segment.io"]||r.integrations&&r.integrations["Segment.io"]===!1,U||D.push(bc(e,w["Segment.io"],t.integrations)),[4,e.register.apply(e,D)];case 10:return $=S.sent(),Object.keys((s=t.enabledMiddleware)!==null&&s!==void 0?s:{}).length>0?[4,Promise.resolve().then(()=>(Oh(),Ah)).then(function(h){var p=h.remoteMiddlewares;return G(x,void 0,void 0,function(){var A,_;return K(this,function(ae){switch(ae.label){case 0:return[4,p($,t)];case 1:return A=ae.sent(),_=A.map(function(Ee){return e.addSourceMiddleware(Ee)}),[2,Promise.all(_)]}})})})]:[3,12];case 11:S.sent(),S.label=12;case 12:return[2,$]}})})}var Ai,$a=Y(()=>{de();lu();Pi();tt();xo();Eu();xu();wc();gi();Ai=function(){function t(){}return t.load=function(e,r){var n,i,o,a,s;return r===void 0&&(r={}),G(this,void 0,void 0,function(){var c,f,m,y,w,P,D,U,$;return K(this,function(x){switch(x.label){case 0:return[4,fw(e.writeKey,e)];case 1:return c=x.sent(),f=(i=(n=c.integrations["Segment.io"])===null||n===void 0?void 0:n.retryQueue)!==null&&i!==void 0?i:!0,m=V({retryQueue:f},r),y=new Oi(e,m),w=(o=e.plugins)!==null&&o!==void 0?o:[],Re.initMetrics(c.metrics),pw(y),[4,mw(c,y,m,r,w)];case 2:return P=x.sent(),y.initialized=!0,y.emit("initialize",e,r),r.initialPageview&&y.page().catch(console.error),D=(a=window.location.search)!==null&&a!==void 0?a:"",U=(s=window.location.hash)!==null&&s!==void 0?s:"",$=D.length?D:U.replace(/(?=#).*(?=\?)/,""),$.includes("ajs_")&&y.queryString($).catch(console.error),[4,hw(y)];case 3:return x.sent(),[2,[y,P]]}})})},t.standalone=function(e,r){return t.load({writeKey:e},r).then(function(n){return n[0]})},t}()});function Ph(t,e,r,n){var i,o=[t,e,r,n],a=$e(t)?t.event:t;if(!a||!Ct(a))throw new Error("Event missing");var s=$e(t)?(i=t.properties)!==null&&i!==void 0?i:{}:$e(e)?e:{},c={};$e(e)&&!Wt(r)&&(c=r!=null?r:{}),$e(t)&&!Wt(e)&&(c=e!=null?e:{});var f=o.find(Wt);return[a,s,c,f]}function za(t,e,r,n,i){var o,a,s=null,c=null,f=[t,e,r,n,i],m=f.filter(Ct);m[0]!==void 0&&m[1]!==void 0&&(s=m[0],c=m[1]),m.length===1&&(s=null,c=m[0]);var y=f.find(Wt),w=f.filter(function(U){return c===null?$e(U):$e(U)||U===null}),P=(o=w[0])!==null&&o!==void 0?o:{},D=(a=w[1])!==null&&a!==void 0?a:{};return[s,c,P,D,y]}function xh(t,e,r,n){mi(t)&&(t=t.toString()),mi(e)&&(e=e.toString());var i=[t,e,r,n],o=i.filter(Ct),a=o[0],s=a===void 0?t:a,c=o[1],f=c===void 0?null:c,m=i.filter($e)[0],y=m===void 0?{}:m,w=i.find(Wt);return[s,f,y,w]}var Ka,Th=Y(()=>{gi();Ka=function(t){return function(){for(var e,r,n,i,o,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=null;c=(n=(e=a.find(Ct))!==null&&e!==void 0?e:(r=a.find(mi))===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:t.id();var f=a.filter(function(P){return c===null?$e(P):$e(P)||P===null}),m=(i=f[0])!==null&&i!==void 0?i:{},y=(o=f[1])!==null&&o!==void 0?o:{},w=a.find(Wt);return[c,m,y,w]}}});function xi(t,e){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);t.then(function(o){return clearTimeout(i),r(o)}).catch(n)})}function Ch(t,e,r){if(!e)return Promise.resolve(t);var n=function(){try{return dt(e(t))}catch(i){return Promise.reject(i)}};return xi(n(),r!=null?r:1e3).catch(function(i){t==null||t.log("warn","Callback Error",{error:i}),t==null||t.stats.increment("callback_error")}).then(function(){return t})}var Ga=Y(()=>{Zr()});var Ti,Ja=Y(()=>{de();Ti=function(){function t(){this.callbacks={}}return t.prototype.on=function(e,r){var n;return this.callbacks[e]=be((n=this.callbacks[e])!==null&&n!==void 0?n:[],[r]),this},t.prototype.once=function(e,r){var n=this,i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n.off(e,i),r.apply(n,o)};return this.on(e,i),this},t.prototype.off=function(e,r){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],o=i.filter(function(a){return a!==r});return this.callbacks[e]=o,this},t.prototype.emit=function(e){for(var r=this,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return a.forEach(function(s){s.apply(r,i)}),this},t}()});var Lh=I((kh,Ih)=>{(function(t){if(typeof kh=="object")Ih.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=window}catch(r){e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=function(x,S){return x+S&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(x,S,h,p,A,_){return S=e(e(S,x),e(p,_)),e(S<<A|S>>>32-A,h)}function i(x,S){var h=x[0],p=x[1],A=x[2],_=x[3];h+=(p&A|~p&_)+S[0]-680876936|0,h=(h<<7|h>>>25)+p|0,_+=(h&p|~h&A)+S[1]-389564586|0,_=(_<<12|_>>>20)+h|0,A+=(_&h|~_&p)+S[2]+606105819|0,A=(A<<17|A>>>15)+_|0,p+=(A&_|~A&h)+S[3]-1044525330|0,p=(p<<22|p>>>10)+A|0,h+=(p&A|~p&_)+S[4]-176418897|0,h=(h<<7|h>>>25)+p|0,_+=(h&p|~h&A)+S[5]+1200080426|0,_=(_<<12|_>>>20)+h|0,A+=(_&h|~_&p)+S[6]-1473231341|0,A=(A<<17|A>>>15)+_|0,p+=(A&_|~A&h)+S[7]-45705983|0,p=(p<<22|p>>>10)+A|0,h+=(p&A|~p&_)+S[8]+1770035416|0,h=(h<<7|h>>>25)+p|0,_+=(h&p|~h&A)+S[9]-1958414417|0,_=(_<<12|_>>>20)+h|0,A+=(_&h|~_&p)+S[10]-42063|0,A=(A<<17|A>>>15)+_|0,p+=(A&_|~A&h)+S[11]-1990404162|0,p=(p<<22|p>>>10)+A|0,h+=(p&A|~p&_)+S[12]+1804603682|0,h=(h<<7|h>>>25)+p|0,_+=(h&p|~h&A)+S[13]-40341101|0,_=(_<<12|_>>>20)+h|0,A+=(_&h|~_&p)+S[14]-1502002290|0,A=(A<<17|A>>>15)+_|0,p+=(A&_|~A&h)+S[15]+1236535329|0,p=(p<<22|p>>>10)+A|0,h+=(p&_|A&~_)+S[1]-165796510|0,h=(h<<5|h>>>27)+p|0,_+=(h&A|p&~A)+S[6]-1069501632|0,_=(_<<9|_>>>23)+h|0,A+=(_&p|h&~p)+S[11]+643717713|0,A=(A<<14|A>>>18)+_|0,p+=(A&h|_&~h)+S[0]-373897302|0,p=(p<<20|p>>>12)+A|0,h+=(p&_|A&~_)+S[5]-701558691|0,h=(h<<5|h>>>27)+p|0,_+=(h&A|p&~A)+S[10]+38016083|0,_=(_<<9|_>>>23)+h|0,A+=(_&p|h&~p)+S[15]-660478335|0,A=(A<<14|A>>>18)+_|0,p+=(A&h|_&~h)+S[4]-405537848|0,p=(p<<20|p>>>12)+A|0,h+=(p&_|A&~_)+S[9]+568446438|0,h=(h<<5|h>>>27)+p|0,_+=(h&A|p&~A)+S[14]-1019803690|0,_=(_<<9|_>>>23)+h|0,A+=(_&p|h&~p)+S[3]-187363961|0,A=(A<<14|A>>>18)+_|0,p+=(A&h|_&~h)+S[8]+1163531501|0,p=(p<<20|p>>>12)+A|0,h+=(p&_|A&~_)+S[13]-1444681467|0,h=(h<<5|h>>>27)+p|0,_+=(h&A|p&~A)+S[2]-51403784|0,_=(_<<9|_>>>23)+h|0,A+=(_&p|h&~p)+S[7]+1735328473|0,A=(A<<14|A>>>18)+_|0,p+=(A&h|_&~h)+S[12]-1926607734|0,p=(p<<20|p>>>12)+A|0,h+=(p^A^_)+S[5]-378558|0,h=(h<<4|h>>>28)+p|0,_+=(h^p^A)+S[8]-2022574463|0,_=(_<<11|_>>>21)+h|0,A+=(_^h^p)+S[11]+1839030562|0,A=(A<<16|A>>>16)+_|0,p+=(A^_^h)+S[14]-35309556|0,p=(p<<23|p>>>9)+A|0,h+=(p^A^_)+S[1]-1530992060|0,h=(h<<4|h>>>28)+p|0,_+=(h^p^A)+S[4]+1272893353|0,_=(_<<11|_>>>21)+h|0,A+=(_^h^p)+S[7]-155497632|0,A=(A<<16|A>>>16)+_|0,p+=(A^_^h)+S[10]-1094730640|0,p=(p<<23|p>>>9)+A|0,h+=(p^A^_)+S[13]+681279174|0,h=(h<<4|h>>>28)+p|0,_+=(h^p^A)+S[0]-358537222|0,_=(_<<11|_>>>21)+h|0,A+=(_^h^p)+S[3]-722521979|0,A=(A<<16|A>>>16)+_|0,p+=(A^_^h)+S[6]+76029189|0,p=(p<<23|p>>>9)+A|0,h+=(p^A^_)+S[9]-640364487|0,h=(h<<4|h>>>28)+p|0,_+=(h^p^A)+S[12]-421815835|0,_=(_<<11|_>>>21)+h|0,A+=(_^h^p)+S[15]+530742520|0,A=(A<<16|A>>>16)+_|0,p+=(A^_^h)+S[2]-995338651|0,p=(p<<23|p>>>9)+A|0,h+=(A^(p|~_))+S[0]-198630844|0,h=(h<<6|h>>>26)+p|0,_+=(p^(h|~A))+S[7]+1126891415|0,_=(_<<10|_>>>22)+h|0,A+=(h^(_|~p))+S[14]-1416354905|0,A=(A<<15|A>>>17)+_|0,p+=(_^(A|~h))+S[5]-57434055|0,p=(p<<21|p>>>11)+A|0,h+=(A^(p|~_))+S[12]+1700485571|0,h=(h<<6|h>>>26)+p|0,_+=(p^(h|~A))+S[3]-1894986606|0,_=(_<<10|_>>>22)+h|0,A+=(h^(_|~p))+S[10]-1051523|0,A=(A<<15|A>>>17)+_|0,p+=(_^(A|~h))+S[1]-2054922799|0,p=(p<<21|p>>>11)+A|0,h+=(A^(p|~_))+S[8]+1873313359|0,h=(h<<6|h>>>26)+p|0,_+=(p^(h|~A))+S[15]-30611744|0,_=(_<<10|_>>>22)+h|0,A+=(h^(_|~p))+S[6]-1560198380|0,A=(A<<15|A>>>17)+_|0,p+=(_^(A|~h))+S[13]+1309151649|0,p=(p<<21|p>>>11)+A|0,h+=(A^(p|~_))+S[4]-145523070|0,h=(h<<6|h>>>26)+p|0,_+=(p^(h|~A))+S[11]-1120210379|0,_=(_<<10|_>>>22)+h|0,A+=(h^(_|~p))+S[2]+718787259|0,A=(A<<15|A>>>17)+_|0,p+=(_^(A|~h))+S[9]-343485551|0,p=(p<<21|p>>>11)+A|0,x[0]=h+x[0]|0,x[1]=p+x[1]|0,x[2]=A+x[2]|0,x[3]=_+x[3]|0}function o(x){var S=[],h;for(h=0;h<64;h+=4)S[h>>2]=x.charCodeAt(h)+(x.charCodeAt(h+1)<<8)+(x.charCodeAt(h+2)<<16)+(x.charCodeAt(h+3)<<24);return S}function a(x){var S=[],h;for(h=0;h<64;h+=4)S[h>>2]=x[h]+(x[h+1]<<8)+(x[h+2]<<16)+(x[h+3]<<24);return S}function s(x){var S=x.length,h=[1732584193,-271733879,-1732584194,271733878],p,A,_,ae,Ee,Ae;for(p=64;p<=S;p+=64)i(h,o(x.substring(p-64,p)));for(x=x.substring(p-64),A=x.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=0;p<A;p+=1)_[p>>2]|=x.charCodeAt(p)<<(p%4<<3);if(_[p>>2]|=128<<(p%4<<3),p>55)for(i(h,_),p=0;p<16;p+=1)_[p]=0;return ae=S*8,ae=ae.toString(16).match(/(.*?)(.{0,8})$/),Ee=parseInt(ae[2],16),Ae=parseInt(ae[1],16)||0,_[14]=Ee,_[15]=Ae,i(h,_),h}function c(x){var S=x.length,h=[1732584193,-271733879,-1732584194,271733878],p,A,_,ae,Ee,Ae;for(p=64;p<=S;p+=64)i(h,a(x.subarray(p-64,p)));for(x=p-64<S?x.subarray(p-64):new Uint8Array(0),A=x.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=0;p<A;p+=1)_[p>>2]|=x[p]<<(p%4<<3);if(_[p>>2]|=128<<(p%4<<3),p>55)for(i(h,_),p=0;p<16;p+=1)_[p]=0;return ae=S*8,ae=ae.toString(16).match(/(.*?)(.{0,8})$/),Ee=parseInt(ae[2],16),Ae=parseInt(ae[1],16)||0,_[14]=Ee,_[15]=Ae,i(h,_),h}function f(x){var S="",h;for(h=0;h<4;h+=1)S+=r[x>>h*8+4&15]+r[x>>h*8&15];return S}function m(x){var S;for(S=0;S<x.length;S+=1)x[S]=f(x[S]);return x.join("")}m(s("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(x,S){var h=(x&65535)+(S&65535),p=(x>>16)+(S>>16)+(h>>16);return p<<16|h&65535}),typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function x(S,h){return S=S|0||0,S<0?Math.max(S+h,0):Math.min(S,h)}ArrayBuffer.prototype.slice=function(S,h){var p=this.byteLength,A=x(S,p),_=p,ae,Ee,Ae,Me;return h!==t&&(_=x(h,p)),A>_?new ArrayBuffer(0):(ae=_-A,Ee=new ArrayBuffer(ae),Ae=new Uint8Array(Ee),Me=new Uint8Array(this,A,ae),Ae.set(Me),Ee)}}();function y(x){return/[\u0080-\uFFFF]/.test(x)&&(x=unescape(encodeURIComponent(x))),x}function w(x,S){var h=x.length,p=new ArrayBuffer(h),A=new Uint8Array(p),_;for(_=0;_<h;_+=1)A[_]=x.charCodeAt(_);return S?A:p}function P(x){return String.fromCharCode.apply(null,new Uint8Array(x))}function D(x,S,h){var p=new Uint8Array(x.byteLength+S.byteLength);return p.set(new Uint8Array(x)),p.set(new Uint8Array(S),x.byteLength),h?p:p.buffer}function U(x){var S=[],h=x.length,p;for(p=0;p<h-1;p+=2)S.push(parseInt(x.substr(p,2),16));return String.fromCharCode.apply(String,S)}function $(){this.reset()}return $.prototype.append=function(x){return this.appendBinary(y(x)),this},$.prototype.appendBinary=function(x){this._buff+=x,this._length+=x.length;var S=this._buff.length,h;for(h=64;h<=S;h+=64)i(this._hash,o(this._buff.substring(h-64,h)));return this._buff=this._buff.substring(h-64),this},$.prototype.end=function(x){var S=this._buff,h=S.length,p,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_;for(p=0;p<h;p+=1)A[p>>2]|=S.charCodeAt(p)<<(p%4<<3);return this._finish(A,h),_=m(this._hash),x&&(_=U(_)),this.reset(),_},$.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},$.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},$.prototype.setState=function(x){return this._buff=x.buff,this._length=x.length,this._hash=x.hash,this},$.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},$.prototype._finish=function(x,S){var h=S,p,A,_;if(x[h>>2]|=128<<(h%4<<3),h>55)for(i(this._hash,x),h=0;h<16;h+=1)x[h]=0;p=this._length*8,p=p.toString(16).match(/(.*?)(.{0,8})$/),A=parseInt(p[2],16),_=parseInt(p[1],16)||0,x[14]=A,x[15]=_,i(this._hash,x)},$.hash=function(x,S){return $.hashBinary(y(x),S)},$.hashBinary=function(x,S){var h=s(x),p=m(h);return S?U(p):p},$.ArrayBuffer=function(){this.reset()},$.ArrayBuffer.prototype.append=function(x){var S=D(this._buff.buffer,x,!0),h=S.length,p;for(this._length+=x.byteLength,p=64;p<=h;p+=64)i(this._hash,a(S.subarray(p-64,p)));return this._buff=p-64<h?new Uint8Array(S.buffer.slice(p-64)):new Uint8Array(0),this},$.ArrayBuffer.prototype.end=function(x){var S=this._buff,h=S.length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A,_;for(A=0;A<h;A+=1)p[A>>2]|=S[A]<<(A%4<<3);return this._finish(p,h),_=m(this._hash),x&&(_=U(_)),this.reset(),_},$.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},$.ArrayBuffer.prototype.getState=function(){var x=$.prototype.getState.call(this);return x.buff=P(x.buff),x},$.ArrayBuffer.prototype.setState=function(x){return x.buff=w(x.buff,!0),$.prototype.setState.call(this,x)},$.ArrayBuffer.prototype.destroy=$.prototype.destroy,$.ArrayBuffer.prototype._finish=$.prototype._finish,$.ArrayBuffer.hash=function(x,S){var h=c(new Uint8Array(x)),p=m(h);return S?U(p):p},$})});var Fh=Y(()=>{});var Rh,jh,Qa=Y(()=>{de();Zn();Eo();Rh=Le(Lh());Fh();jh=function(){function t(e){this.user=e}return t.prototype.track=function(e,r,n,i){return this.normalize(V(V({},this.baseEvent()),{event:e,type:"track",properties:r,options:V({},n),integrations:V({},i)}))},t.prototype.page=function(e,r,n,i,o){var a,s={type:"page",properties:V({},n),options:V({},i),integrations:V({},o)};return e!==null&&(s.category=e,s.properties=(a=s.properties)!==null&&a!==void 0?a:{},s.properties.category=e),r!==null&&(s.name=r),this.normalize(V(V({},this.baseEvent()),s))},t.prototype.screen=function(e,r,n,i,o){var a={type:"screen",properties:V({},n),options:V({},i),integrations:V({},o)};return e!==null&&(a.category=e),r!==null&&(a.name=r),this.normalize(V(V({},this.baseEvent()),a))},t.prototype.identify=function(e,r,n,i){return this.normalize(V(V({},this.baseEvent()),{type:"identify",userId:e,traits:r,options:V({},n),integrations:V({},i)}))},t.prototype.group=function(e,r,n,i){return this.normalize(V(V({},this.baseEvent()),{type:"group",traits:r,options:V({},n),integrations:V({},i),groupId:e}))},t.prototype.alias=function(e,r,n,i){var o={userId:e,type:"alias",options:V({},n),integrations:V({},i)};return r!==null&&(o.previousId=r),e===void 0?this.normalize(V(V({},o),this.baseEvent())):this.normalize(V(V({},this.baseEvent()),o))},t.prototype.baseEvent=function(){var e={integrations:{},options:{}};return this.user.id()&&(e.userId=this.user.id()),e.anonymousId=this.user.anonymousId(),e},t.prototype.context=function(e){var r,n,i,o=["integrations","anonymousId","timestamp","userId"],a=(r=e.options)!==null&&r!==void 0?r:{};delete a.integrations;var s=Object.keys(a),c=(i=(n=e.options)===null||n===void 0?void 0:n.context)!==null&&i!==void 0?i:{},f={};return s.forEach(function(m){m!=="context"&&(o.includes(m)?Jr(f,m,a[m]):Jr(c,m,a[m]))}),[c,f]},t.prototype.normalize=function(e){var r,n,i=Object.keys((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(D,U){var $,x;return V(V({},D),($={},$[U]=Boolean((x=e.integrations)===null||x===void 0?void 0:x[U]),$))},{}),o=V(V({},i),(n=e.options)===null||n===void 0?void 0:n.integrations),a=this.context(e),s=a[0],c=a[1],f=e.options,m=uu(e,["options"]),y=V(V(V({},m),{context:s,integrations:o}),c),w="ajs-next-"+Rh.default.hash(JSON.stringify(y)+or()),P=V(V({},y),{messageId:w});return P},t}()});function qh(t,e){var r={};return t.forEach(function(n){var i,o=void 0;if(typeof e=="string"){var a=n[e];o=typeof a!="string"?JSON.stringify(a):a}else e instanceof Function&&(o=e(n));o!==void 0&&(r[o]=be((i=r[o])!==null&&i!==void 0?i:[],[n]))}),r}var Nh=Y(()=>{de()});var Ci,Xa=Y(()=>{de();Nh();nn();sr();tt();Ja();hi();Ci=function(t){Be(e,t);function e(r){var n=t.call(this)||this;return n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=r!=null?r:new Ot(4,"event-queue"),n.scheduleFlush(),n}return e.prototype.register=function(r,n,i){return G(this,void 0,void 0,function(){var o=this;return K(this,function(a){switch(a.label){case 0:return[4,Promise.resolve(n.load(r,i)).then(function(){o.plugins.push(n)}).catch(function(s){if(n.type==="destination"){o.failedInitializations.push(n.name),console.warn(n.name,s),r.log("warn","Failed to load destination",{plugin:n.name,error:s});return}throw s})];case 1:return a.sent(),[2]}})})},e.prototype.deregister=function(r,n,i){return G(this,void 0,void 0,function(){var o;return K(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(r,i))]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==n.name}),[3,4];case 3:return o=a.sent(),r.log("warn","Failed to unload destination",{plugin:n.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(r){return G(this,void 0,void 0,function(){var n;return K(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),n=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(r){return G(this,void 0,void 0,function(){var n=this;return K(this,function(i){return[2,new Promise(function(o,a){var s=function(c,f){c.isSame(r)&&(n.off("flush",s),f?o(c):a(c))};n.on("flush",s)})]})})},e.prototype.dispatchSingle=function(r){return G(this,void 0,void 0,function(){var n=this;return K(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(o){if(o instanceof Ve&&o.retry===!1)return r;var a=n.enqueuRetry(o,r);if(!a)throw o;return n.subscribeToDelivery(r)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(r){var n=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length?n.scheduleFlush(0):n.scheduleFlush(500)},0)})},r))},e.prototype.deliver=function(r){return G(this,void 0,void 0,function(){var n,i,o;return K(this,function(a){switch(a.label){case 0:n=Date.now(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.flushOne(r)];case 2:return r=a.sent(),i=Date.now()-n,r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 3:throw o=a.sent(),r.log("error","Failed to deliver",o),r.stats.increment("delivery_failed"),o;case 4:return[2]}})})},e.prototype.enqueuRetry=function(r,n){var i=r instanceof Ve&&r.retry===!1,o=!i;if(o){var a=this.queue.pushWithBackoff(n);return a}return!1},e.prototype.flush=function(){return G(this,void 0,void 0,function(){var r,n,i;return K(this,function(o){switch(o.label){case 0:if(this.queue.length===0||!rn())return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=o.sent(),this.emit("flush",r,!0),[3,4];case 3:return n=o.sent(),i=this.enqueuRetry(n,r),i||this.emit("flush",r,!1),[2,[]];case 4:return[2,[r]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(r){var n=r.All===!1?this.plugins.filter(function(P){return r[P.name]!==void 0||P.type!=="destination"}):this.plugins.filter(function(P){return r[P.name]!==!1}),i=qh(n,"type"),o=i.before,a=o===void 0?[]:o,s=i.enrichment,c=s===void 0?[]:s,f=i.destination,m=f===void 0?[]:f,y=i.after,w=y===void 0?[]:y;return{before:a,enrichment:c,destinations:m,after:w}},e.prototype.flushOne=function(r){var n,i;return G(this,void 0,void 0,function(){var o,a,s,c,f,m,D,y,w,P,D,U,$,x,S;return K(this,function(h){switch(h.label){case 0:if(!this.isReady())throw new Error("Not ready");o=this.availableExtensions((n=r.event.integrations)!==null&&n!==void 0?n:{}),a=o.before,s=o.enrichment,c=0,f=a,h.label=1;case 1:return c<f.length?(m=f[c],[4,gc(r,m)]):[3,4];case 2:D=h.sent(),D!==void 0&&(r=D),h.label=3;case 3:return c++,[3,1];case 4:y=0,w=s,h.label=5;case 5:return y<w.length?(P=w[y],[4,ht(r,P)]):[3,8];case 6:D=h.sent(),D instanceof Re&&(r=D),h.label=7;case 7:return y++,[3,5];case 8:return U=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),$=U.destinations,x=U.after,[4,new Promise(function(p,A){setTimeout(function(){var _=$.map(function(ae){return ht(r,ae)});Promise.all(_).then(p).catch(A)},0)})];case 9:return h.sent(),r.stats.increment("message_delivered"),S=x.map(function(p){return ht(r,p)}),[4,Promise.all(S)];case 10:return h.sent(),[2,r]}})})},e}(Ti)});function Or(t){for(var e=t.constructor.prototype,r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++){var i=n[r];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);!!o&&typeof o.value=="function"&&(t[i]=t[i].bind(t))}}return t}var Ya=Y(()=>{});var Lt,Pr,ki,Za,vw,Mh,Dh,Bh,es,gw,Hh,ts=Y(()=>{de();Zn();Lt=Le(nr());Ao();Ya();Pr={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},ki=function(){function t(){this.cache={}}return t.prototype.get=function(e){return this.cache[e]},t.prototype.set=function(e,r){return this.cache[e]=r,r},t.prototype.remove=function(e){delete this.cache[e]},t}(),Za=void 0;try{Za=ri(new URL(window.location.href))}catch(t){Za=void 0}vw=365,Mh=function(t){Be(e,t);function e(r){r===void 0&&(r=e.defaults);var n=t.call(this)||this;return n.options=V(V({},e.defaults),r),n}return e.available=function(){var r=window.navigator.cookieEnabled;return r||(Lt.default.set("ajs:cookies","test"),r=document.cookie.includes("ajs:cookies"),Lt.default.remove("ajs:cookies")),r},e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path}},e.prototype.get=function(r){return Lt.default.getJSON(r)},e.prototype.set=function(r,n){return typeof n=="string"?Lt.default.set(r,n,this.opts()):n===null?Lt.default.remove(r,this.opts()):Lt.default.set(r,JSON.stringify(n),this.opts()),n},e.prototype.remove=function(r){return Lt.default.remove(r,this.opts())},e.defaults={maxage:vw,domain:Za,path:"/",sameSite:"Lax"},e}(ki),Dh=function(t){Be(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.get=function(n){return null},r.set=function(n,i){return null},r.remove=function(n){},r}return e}(ki),Bh=function(t){Be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.available=function(){var r="test";try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(n){return!1}},e.prototype.get=function(r){var n=localStorage.getItem(r);if(n)try{return JSON.parse(n)}catch(i){return JSON.parse(JSON.stringify(n))}return null},e.prototype.set=function(r,n){try{localStorage.setItem(r,JSON.stringify(n))}catch(i){console.warn("Unable to set "+r+" in localStorage, storage may be full.")}return n},e.prototype.remove=function(r){return localStorage.removeItem(r)},e}(ki),es=function(){function t(e,r){var n=this;e===void 0&&(e=Pr);var i,o,a,s;this.mem=new ki,this.options={},this.id=function(m){var y,w,P=n.chainGet(n.idKey);if(m!==void 0){n.trySet(n.idKey,m);var D=m!==P&&P!==null&&m!==null;D&&n.anonymousId(null)}return(w=(y=n.chainGet(n.idKey))!==null&&y!==void 0?y:n.cookies.get(Pr.cookie.oldKey))!==null&&w!==void 0?w:null},this.anonymousId=function(m){var y,w;if(m===void 0){var P=(y=n.chainGet(n.anonKey))!==null&&y!==void 0?y:(w=n.legacySIO())===null||w===void 0?void 0:w[0];if(P)return P}return m===null?(n.trySet(n.anonKey,null),n.chainGet(n.anonKey)):(n.trySet(n.anonKey,m!=null?m:or()),n.chainGet(n.anonKey))},this.traits=function(m){var y,w;return m===null&&(m={}),m&&(n.mem.set(n.traitsKey,m!=null?m:{}),n.localStorage.set(n.traitsKey,m!=null?m:{})),(w=(y=n.localStorage.get(n.traitsKey))!==null&&y!==void 0?y:n.mem.get(n.traitsKey))!==null&&w!==void 0?w:{}},this.options=e,this.cookieOptions=r,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:Pr.cookie.key,this.traitsKey=(s=(a=e.localStorage)===null||a===void 0?void 0:a.key)!==null&&s!==void 0?s:Pr.localStorage.key,this.anonKey="ajs_anonymous_id";var c=e.persist!==!1;this.localStorage=e.localStorageFallbackDisabled||!c||!Bh.available()?new Dh:new Bh,this.cookies=c&&Mh.available()?new Mh(r):new Dh;var f=this.cookies.get(Pr.cookie.oldKey);f&&(f.id&&this.id(f.id),f.traits&&this.traits(f.traits)),Or(this)}return t.prototype.chainGet=function(e){var r,n,i,o=(i=(n=(r=this.localStorage.get(e))!==null&&r!==void 0?r:this.cookies.get(e))!==null&&n!==void 0?n:this.mem.get(e))!==null&&i!==void 0?i:null;return this.trySet(e,typeof o=="number"?o.toString():o)},t.prototype.trySet=function(e,r){return this.localStorage.set(e,r),this.cookies.set(e,r),this.mem.set(e,r),r},t.prototype.chainClear=function(e){this.localStorage.remove(e),this.cookies.remove(e),this.mem.remove(e)},t.prototype.legacySIO=function(){var e=this.cookies.get("_sio");if(!e)return null;var r=e.split("----"),n=r[0],i=r[1];return[n,i]},t.prototype.identify=function(e,r){r=r!=null?r:{};var n=this.id();(n===null||n===e)&&(r=V(V({},this.traits()),r)),e&&this.id(e),this.traits(r)},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.chainClear(this.idKey),this.chainClear(this.anonKey),this.chainClear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.defaults=Pr,t}(),gw={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Hh=function(t){Be(e,t);function e(r,n){r===void 0&&(r=gw);var i=t.call(this,r,n)||this;return i.anonymousId=function(o){},Or(i),i}return e}(es)});var yn={};jt(yn,{form:()=>_w,link:()=>ww});function yw(t){var e=t;return!!(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&e.button==1)}function bw(t,e){return!!(t.target==="_blank"&&e)}function ww(t,e,r){var n=this,i=[];return t?(t instanceof Element?i=[t]:"toArray"in t?i=t.toArray():i=t,i.forEach(function(o){o.addEventListener("click",function(a){var s,c,f=e instanceof Function?e(o):e,m=r instanceof Function?r(o):r,y=o.getAttribute("href")||o.getAttributeNS("http://www.w3.org/1999/xlink","href")||o.getAttribute("xlink:href")||((s=o.getElementsByTagName("a")[0])===null||s===void 0?void 0:s.getAttribute("href")),w=xi(n.track(f,m),(c=n.settings.timeout)!==null&&c!==void 0?c:500);!bw(o,y)&&!yw(a)&&y&&(a.preventDefault?a.preventDefault():a.returnValue=!1,w.catch(console.error).then(function(){window.location.href=y}).catch(console.error))},!1)}),this):this}function _w(t,e,r){var n=this;if(!t)return this;t instanceof HTMLFormElement&&(t=[t]);var i=t;return i.forEach(function(o){if(!(o instanceof Element))throw new TypeError("Must pass HTMLElement to trackForm/trackSubmit.");var a=function(c){var f;c.preventDefault?c.preventDefault():c.returnValue=!1;var m=e instanceof Function?e(o):e,y=r instanceof Function?r(o):r,w=xi(n.track(m,y),(f=n.settings.timeout)!==null&&f!==void 0?f:500);w.catch(console.error).then(function(){o.submit()}).catch(console.error)},s=window.jQuery||window.Zepto;s?s(o).submit(a):o.addEventListener("submit",a,!1)}),this}var bn=Y(()=>{Ga()});function rs(t,e){return Object.keys(e).reduce(function(r,n){if(n.startsWith(t)){var i=n.substr(t.length);r[i]=e[n]}return r},{})}var Uh=Y(()=>{});var Wh={};jt(Wh,{queryString:()=>Sw});function Sw(t,e){var r=document.createElement("a");r.href=e;var n=r.search.slice(1),i=n.split("&").reduce(function(D,U){var $=U.split("="),x=$[0],S=$[1];return D[x]=decodeURI(S).replace("+"," "),D},{}),o=[],a=i.ajs_uid,s=i.ajs_event,c=i.ajs_aid;if(a){var f=Array.isArray(i.ajs_uid)?i.ajs_uid[0]:i.ajs_uid,m=rs("ajs_trait_",i);o.push(t.identify(f,m))}if(s){var y=Array.isArray(i.ajs_event)?i.ajs_event[0]:i.ajs_event,w=rs("ajs_prop_",i);o.push(t.track(y,w))}if(c){var P=Array.isArray(i.ajs_aid)?i.ajs_aid[0]:i.ajs_aid;t.setAnonymousId(P)}return Promise.all(o)}var Vh=Y(()=>{Uh()});var Te,Ew,ns,Oi,Pi=Y(()=>{de();$a();Th();Ga();sr();tt();Ja();Qa();Xa();ts();Ya();nn();Qr();Te="This is being deprecated and will be not be available in future releases of Analytics JS",Ew=window,ns=Ew.analytics,Oi=function(t){Be(e,t);function e(r,n,i,o,a){var s,c,f=t.call(this)||this;f._debug=!1,f.initialized=!1,f.user=function(){return f._user},f.init=f.initialize.bind(f);var m=n==null?void 0:n.cookie;return f.settings=r,f.settings.timeout=(s=f.settings.timeout)!==null&&s!==void 0?s:300,f.queue=i!=null?i:new Ci(new Ot(n!=null&&n.retryQueue?4:1,"event-queue")),f._user=o!=null?o:new es(n==null?void 0:n.user,m).load(),f._group=a!=null?a:new Hh(n==null?void 0:n.group,m).load(),f.eventFactory=new jh(f._user),f.integrations=(c=n==null?void 0:n.integrations)!==null&&c!==void 0?c:{},f.options=n!=null?n:{},Or(f),f}return e.prototype.track=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o,a,s,c,f,m=this;return K(this,function(y){return i=Ph.apply(void 0,r),o=i[0],a=i[1],s=i[2],c=i[3],f=this.eventFactory.track(o,a,s,this.integrations),[2,this.dispatch(f,c).then(function(w){return m.emit("track",o,w.event.properties,w.event.options),w})]})})},e.prototype.page=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o,a,s,c,f,m,y=this;return K(this,function(w){return i=za.apply(void 0,r),o=i[0],a=i[1],s=i[2],c=i[3],f=i[4],m=this.eventFactory.page(o,a,s,c,this.integrations),[2,this.dispatch(m,f).then(function(P){return y.emit("page",o,a,P.event.properties,P.event.options),P})]})})},e.prototype.identify=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o,a,s,c,f,m=this;return K(this,function(y){return i=Ka(this._user).apply(void 0,r),o=i[0],a=i[1],s=i[2],c=i[3],this._user.identify(o,a),f=this.eventFactory.identify(this._user.id(),this._user.traits(),s,this.integrations),[2,this.dispatch(f,c).then(function(w){return m.emit("identify",w.event.userId,w.event.traits,w.event.options),w})]})})},e.prototype.group=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(n.length===0)return this._group;var o=Ka(this._group).apply(void 0,n),a=o[0],s=o[1],c=o[2],f=o[3];this._group.identify(a,s);var m=this._group.id(),y=this._group.traits(),w=this.eventFactory.group(m,y,c,this.integrations);return this.dispatch(w,f).then(function(P){return r.emit("group",P.event.groupId,P.event.traits,P.event.options),P})},e.prototype.alias=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o,a,s,c,f,m=this;return K(this,function(y){return i=xh.apply(void 0,r),o=i[0],a=i[1],s=i[2],c=i[3],f=this.eventFactory.alias(o,a,s,this.integrations),[2,this.dispatch(f,c).then(function(w){return m.emit("alias",o,a,w.event.options),w})]})})},e.prototype.screen=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o,a,s,c,f,m,y=this;return K(this,function(w){return i=za.apply(void 0,r),o=i[0],a=i[1],s=i[2],c=i[3],f=i[4],m=this.eventFactory.screen(o,a,s,c,this.integrations),[2,this.dispatch(m,f).then(function(P){return y.emit("screen",o,a,P.event.properties,P.event.options),P})]})})},e.prototype.trackClick=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o;return K(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(bn(),yn))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,be([this],r))]}})})},e.prototype.trackLink=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o;return K(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(bn(),yn))];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,be([this],r))]}})})},e.prototype.trackSubmit=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o;return K(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(bn(),yn))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,be([this],r))]}})})},e.prototype.trackForm=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o;return K(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(bn(),yn))];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,be([this],r))]}})})},e.prototype.register=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o,a=this;return K(this,function(s){switch(s.label){case 0:return i=Re.system(),o=r.map(function(c){return a.queue.register(i,c,a)}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return G(this,void 0,void 0,function(){var i,o,a=this;return K(this,function(s){switch(s.label){case 0:return i=Re.system(),o=r.map(function(c){return G(a,void 0,void 0,function(){var f;return K(this,function(m){return f=this.queue.plugins.find(function(y){return y.name===c}),f?[2,this.queue.deregister(i,f,this)]:(i.log("warn","plugin "+c+" not found"),[2])})})}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},e.prototype.reset=function(){this._user.reset()},e.prototype.timeout=function(r){this.settings.timeout=r},e.prototype.dispatch=function(r,n){return G(this,void 0,void 0,function(){var i,o;return K(this,function(a){switch(a.label){case 0:return i=new Re(r),rt()&&!this.options.retryQueue?[2,i]:this.queue.isEmpty()?[4,this.queue.dispatchSingle(i)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,this.queue.dispatch(i)];case 3:o=a.sent(),a.label=4;case 4:return n?[4,Ch(o,n,this.settings.timeout)]:[3,6];case 5:o=a.sent(),a.label=6;case 6:return this._debug&&o.flush(),[2,o]}})})},e.prototype.addSourceMiddleware=function(r){return G(this,void 0,void 0,function(){var n,i,o;return K(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(()=>(ra(),_c))];case 1:return n=a.sent().sourceMiddlewarePlugin,i={},this.queue.plugins.forEach(function(s){if(s.type==="destination")return i[s.name]=!0}),o=n(r,i),[4,this.register(o)];case 2:return a.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return G(this,void 0,void 0,function(){var o;return K(this,function(a){return o=this.queue.plugins.filter(function(s){return s.name.toLowerCase()===r.toLowerCase()}),o.forEach(function(s){s.addMiddleware.apply(s,n)}),[2,this]})})},e.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},e.prototype.queryString=function(r){return G(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return[4,Promise.resolve().then(()=>(Vh(),Wh))];case 1:return n=i.sent().queryString,[2,n(this,r)]}})})},e.prototype.use=function(r){return r(this),this},e.prototype.ready=function(r){return r===void 0&&(r=function(n){return n}),G(this,void 0,void 0,function(){return K(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Te),window.analytics=ns!=null?ns:this,this},e.prototype.normalize=function(r){return console.warn(Te),this.eventFactory.normalize(r)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Te),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return et},enumerable:!1,configurable:!0}),e.prototype.initialize=function(r,n){return G(this,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return console.warn(Te),r?[4,Ai.load(r,n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.options=n||{},[2,this]}})})},e.prototype.pageview=function(r){return G(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:return console.warn(Te),[4,this.page({path:r})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var r;return console.warn(Te),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Te);var r=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var o=i.name.toLowerCase().replace(".","").split(" ").join("-")+"Integration",a=window[o];if(!a)return n;var s=a.Integration;return s?(n[i.name]=s,n):(n[i.name]=a,n)},{});return r},enumerable:!1,configurable:!0}),e.prototype.log=function(){console.warn(Te)},e.prototype.addIntegrationMiddleware=function(){console.warn(Te)},e.prototype.listeners=function(){console.warn(Te)},e.prototype.addEventListener=function(){console.warn(Te)},e.prototype.removeAllListeners=function(){console.warn(Te)},e.prototype.removeListener=function(){console.warn(Te)},e.prototype.removeEventListener=function(){console.warn(Te)},e.prototype.hasListeners=function(){console.warn(Te)},e.prototype.addIntegration=function(){console.warn(Te)},e.prototype.add=function(){console.warn(Te)},e.prototype.push=function(r){var n=this,i=r.shift();i&&!n[i]||n[i].apply(this,r)},e}(Ti)});var zh=I((xr,$h)=>{"use strict";var Aw=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof pt!="undefined")return pt;throw new Error("unable to locate global object")},pt=Aw();$h.exports=xr=pt.fetch;pt.fetch&&(xr.default=pt.fetch.bind(pt));xr.Headers=pt.Headers;xr.Request=pt.Request;xr.Response=pt.Response});function Ow(t,e){return G(this,void 0,void 0,function(){var r;return K(this,function(n){switch(n.label){case 0:return[4,(0,Kh.default)("https://api.june.so/sdk/"+t.type,{method:"POST",body:JSON.stringify(V(V({},t),{writeKey:e})),headers:{"Content-Type":"application/json"}})];case 1:if(r=n.sent(),!r.ok)throw new Error("Message Rejected");return[2,t]}})})}function Gh(t){var e=this,r=function(i){return G(e,void 0,void 0,function(){return K(this,function(o){switch(o.label){case 0:return i.updateEvent("context.library.name","analytics-node-next"),i.updateEvent("context.library.version",et),i.updateEvent("_metadata.nodeVersion",process.versions.node),[4,Ow(i.event,t.writeKey)];case 1:return o.sent(),[2,i]}})})},n={name:t.name,type:t.type,version:t.version,load:function(i){return Promise.resolve(i)},isLoaded:function(){return!0},track:r,identify:r,page:r,alias:r,group:r,screen:r};return n}var Kh,Jh=Y(()=>{de();Kh=Le(zh());Qr()});var IO,Qh=Y(()=>{de();Pi();gi();Jh();Xa();To();IO=function(){function t(){}return t.load=function(e){var r,n;return G(this,void 0,void 0,function(){var i,o,a,s,c,f;return K(this,function(m){switch(m.label){case 0:return i={persist:!1},o=new Ci(new ui(3,[])),a={user:i,group:i},s=new Oi(e,a,o),c={writeKey:e.writeKey,apiHost:(r=e.apiHost)!==null&&r!==void 0?r:"api.june.so/sdk",httpScheme:(n=e.httpScheme)!==null&&n!==void 0?n:"https",name:"analytics-node-next",type:"after",version:"latest"},[4,s.register(vi,Gh(c))];case 1:return f=m.sent(),s.emit("initialize",e,i!=null?i:{}),[2,[s,f]]}})})},t}()});var Xh=Y(()=>{});var Yh=Y(()=>{Pi();$a();Qh();tt();Qa();Xh();ts()});function Zh(t,e){return ne(this,null,function*(){let r=t==="prod"?"tBxKuajz7577gVuV":"FzLWDOyu2uXfKHh1",[n]=yield Ai.load({writeKey:r});wn=n,wn.identify(e)})}function ep(){return ne(this,null,function*(){wn==null||wn.page()})}var wn,tp=Y(()=>{Yh()});var is,xw,np,Tw,ip,rp,op,_n,Cw,ap=Y(()=>{Ls();is=Le(nr());tp();xw=window.location.pathname==="/demo",Tw=((np=document.querySelector("meta[name='environment']"))==null?void 0:np.getAttribute("content"))||"prod",rp=(ip=document.querySelector("meta[name='aid']"))==null?void 0:ip.getAttribute("content");rp&&Zh(Tw,rp);op=()=>{var t;return((t=document.querySelector("meta[name='fathom-site-id']"))==null?void 0:t.getAttribute("content"))||"CAITVCNT"};document.addEventListener("turbo:load",()=>{_o(op()),xw||bo(),ep(),window.location.search.match(/stripe_status=success/)&&_n("EETM1QIM",0),Cw()});_n=wo,Cw=()=>{let t=is.default.get("just_signed_up_via");return t?(is.default.remove("just_signed_up_via"),_n(t==="overlay"?"KDIXOEPQ":"1MTCBVVT",0),!0):!1};Is(op(),{url:"https://satisfactory-ideal.savvycal.com/script.js",includedDomains:["savvycal.com"],auto:!1})});var sp=I((os,as)=>{(function(t,e){typeof os=="object"&&typeof as!="undefined"?as.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t.Honeybadger=e())})(os,function(){"use strict";var t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"||typeof window!="undefined"?window:typeof self!="undefined"?self:{};function e(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}function r(b){var g=b.default;if(typeof g=="function"){var L=function(){return g.apply(this,arguments)};L.prototype=g.prototype}else L={};return Object.defineProperty(L,"__esModule",{value:!0}),Object.keys(b).forEach(function(M){var C=Object.getOwnPropertyDescriptor(b,M);Object.defineProperty(L,M,C.get?C:{enumerable:!0,get:function(){return b[M]}})}),L}var n={},i={},o={},a={},s="<unknown>";function c(b){var g=b.split(`
`);return g.reduce(function(L,M){var C=y(M)||P(M)||$(M)||p(M)||S(M);return C&&L.push(C),L},[])}var f=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,m=/\((\S*)(?::(\d+))(?::(\d+))\)/;function y(b){var g=f.exec(b);if(!g)return null;var L=g[2]&&g[2].indexOf("native")===0,M=g[2]&&g[2].indexOf("eval")===0,C=m.exec(g[2]);return M&&C!=null&&(g[2]=C[1],g[3]=C[2],g[4]=C[3]),{file:L?null:g[2],methodName:g[1]||s,arguments:L?[g[2]]:[],lineNumber:g[3]?+g[3]:null,column:g[4]?+g[4]:null}}var w=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function P(b){var g=w.exec(b);return g?{file:g[2],methodName:g[1]||s,arguments:[],lineNumber:+g[3],column:g[4]?+g[4]:null}:null}var D=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,U=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function $(b){var g=D.exec(b);if(!g)return null;var L=g[3]&&g[3].indexOf(" > eval")>-1,M=U.exec(g[3]);return L&&M!=null&&(g[3]=M[1],g[4]=M[2],g[5]=null),{file:g[3],methodName:g[1]||s,arguments:g[2]?g[2].split(","):[],lineNumber:g[4]?+g[4]:null,column:g[5]?+g[5]:null}}var x=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function S(b){var g=x.exec(b);return g?{file:g[3],methodName:g[1]||s,arguments:[],lineNumber:+g[4],column:g[5]?+g[5]:null}:null}var h=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function p(b){var g=h.exec(b);return g?{file:g[2],methodName:g[1]||s,arguments:[],lineNumber:+g[3],column:g[4]?+g[4]:null}:null}var A=Object.freeze({__proto__:null,parse:c}),_=r(A);(function(b){var g=t&&t.__createBinding||(Object.create?function(q,B,N,J){J===void 0&&(J=N);var ee=Object.getOwnPropertyDescriptor(B,N);(!ee||("get"in ee?!B.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return B[N]}}),Object.defineProperty(q,J,ee)}:function(q,B,N,J){J===void 0&&(J=N),q[J]=B[N]}),L=t&&t.__setModuleDefault||(Object.create?function(q,B){Object.defineProperty(q,"default",{enumerable:!0,value:B})}:function(q,B){q.default=B}),M=t&&t.__importStar||function(q){if(q&&q.__esModule)return q;var B={};if(q!=null)for(var N in q)N!=="default"&&Object.prototype.hasOwnProperty.call(q,N)&&g(B,q,N);return L(B,q),B},C=t&&t.__awaiter||function(q,B,N,J){function ee(te){return te instanceof N?te:new N(function(he){he(te)})}return new(N||(N=Promise))(function(te,he){function ue(ke){try{se(J.next(ke))}catch(Yt){he(Yt)}}function ge(ke){try{se(J.throw(ke))}catch(Yt){he(Yt)}}function se(ke){ke.done?te(ke.value):ee(ke.value).then(ue,ge)}se((J=J.apply(q,B||[])).next())})},j=t&&t.__generator||function(q,B){var N={label:0,sent:function(){if(te[0]&1)throw te[1];return te[1]},trys:[],ops:[]},J,ee,te,he;return he={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function ue(se){return function(ke){return ge([se,ke])}}function ge(se){if(J)throw new TypeError("Generator is already executing.");for(;N;)try{if(J=1,ee&&(te=se[0]&2?ee.return:se[0]?ee.throw||((te=ee.return)&&te.call(ee),0):ee.next)&&!(te=te.call(ee,se[1])).done)return te;switch(ee=0,te&&(se=[se[0]&2,te.value]),se[0]){case 0:case 1:te=se;break;case 4:return N.label++,{value:se[1],done:!1};case 5:N.label++,ee=se[1],se=[0];continue;case 7:se=N.ops.pop(),N.trys.pop();continue;default:if(te=N.trys,!(te=te.length>0&&te[te.length-1])&&(se[0]===6||se[0]===2)){N=0;continue}if(se[0]===3&&(!te||se[1]>te[0]&&se[1]<te[3])){N.label=se[1];break}if(se[0]===6&&N.label<te[1]){N.label=te[1],te=se;break}if(te&&N.label<te[2]){N.label=te[2],N.ops.push(se);break}te[2]&&N.ops.pop(),N.trys.pop();continue}se=B.call(q,N)}catch(ke){se=[6,ke],ee=0}finally{J=te=0}if(se[0]&5)throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}};Object.defineProperty(b,"__esModule",{value:!0}),b.isBrowserConfig=b.clone=b.formatCGIData=b.filterUrl=b.filter=b.generateStackTrace=b.endpoint=b.instrument=b.isErrorObject=b.makeNotice=b.logger=b.sanitize=b.shallowClone=b.runAfterNotifyHandlers=b.runBeforeNotifyHandlers=b.getSourceForBacktrace=b.getCauses=b.calculateBacktraceShift=b.DEFAULT_BACKTRACE_SHIFT=b.makeBacktrace=b.objectIsExtensible=b.objectIsEmpty=b.mergeNotice=b.merge=void 0;var R=M(_);function X(q,B){var N={};for(var J in q)N[J]=q[J];for(var J in B)N[J]=B[J];return N}b.merge=X;function Z(q,B){var N=X(q,B);return q.context&&B.context&&(N.context=X(q.context,B.context)),N}b.mergeNotice=Z;function z(q){for(var B in q)if(Object.prototype.hasOwnProperty.call(q,B))return!1;return!0}b.objectIsEmpty=z;function ie(q){return typeof Object.isExtensible!="function"?!0:Object.isExtensible(q)}b.objectIsExtensible=ie;function pe(q,B,N){B===void 0&&(B=!1),N===void 0&&(N=console);try{var J=R.parse(q).map(function(ee){return{file:ee.file,method:ee.methodName,number:ee.lineNumber,column:ee.column}});return B&&J.splice(0,Oe(J)),J}catch(ee){return N.debug(ee),[]}}b.makeBacktrace=pe;function Se(q){var B=!1,N=!1;return q.file&&(B=q.file.toLowerCase().indexOf("@honeybadger-io")>-1),q.method&&(N=q.method.toLowerCase().indexOf("@honeybadger-io")>-1),B||N}b.DEFAULT_BACKTRACE_SHIFT=3;function Oe(q){for(var B=0,N=0;N<q.length;N++){var J=q[N];if(Se(J)){B++;continue}if(!J.file||J.file==="<anonymous>"){var ee=q[N+1];if(ee&&Se(ee)){B++;continue}}break}return B||b.DEFAULT_BACKTRACE_SHIFT}b.calculateBacktraceShift=Oe;function Ge(q,B){if(q.cause){for(var N=[],J=q;N.length<3&&(J=J.cause);)N.push({class:J.name,message:J.message,backtrace:typeof J.stack=="string"?pe(J.stack,!1,B):null});return N}return[]}b.getCauses=Ge;function d(q,B){return C(this,void 0,void 0,function(){var N,J,ee,te;return j(this,function(he){switch(he.label){case 0:if(N=[],!B||!q||!q.length)return[2,N];J=0,he.label=1;case 1:return q.length?(ee=q.splice(0)[J],[4,B(ee.file)]):[3,3];case 2:return te=he.sent(),N[J]=Mr(te,ee.number),J++,[3,1];case 3:return[2,N]}})})}b.getSourceForBacktrace=d;function u(q,B){for(var N=!0,J=0,ee=B.length;J<ee;J++){var te=B[J];te(q)===!1&&(N=!1)}return N}b.runBeforeNotifyHandlers=u;function l(q,B,N){q&&q.afterNotify&&q.afterNotify(N,q);for(var J=0,ee=B.length;J<ee;J++)B[J](N,q);return!0}b.runAfterNotifyHandlers=l;function v(q){if(typeof q!="object"||q===null)return{};var B={};for(var N in q)B[N]=q[N];return B}b.shallowClone=v;function E(q,B){B===void 0&&(B=8);var N=[];function J(ue){if(!ue||typeof ue!="object")return!1;for(var ge=0;ge<N.length;ge++){var se=N[ge];if(se===ue)return!0}return N.push(ue),!1}function ee(ue){var ge=typeof ue;return/function/.test(ge)?ue.name==="toJSON":!(/symbol/.test(ge)||ue===null||typeof ue=="object"&&typeof ue.hasOwnProperty=="undefined")}function te(ue,ge){if(ge===void 0&&(ge=0),ge>=B)return"[DEPTH]";if(!ee(ue))return Object.prototype.toString.call(ue);if(J(ue))return"[RECURSION]";if(Array.isArray(ue))return ue.map(function(Mp){return he(Mp,ge+1)});if(typeof ue=="object"){var se={};for(var ke in ue){var Yt=ue[ke];Object.prototype.hasOwnProperty.call(ue,ke)&&ke!=null&&Yt!=null&&(se[ke]=he(Yt,ge+1))}return se}return ue}function he(ue,ge){ge===void 0&&(ge=0);try{return te(ue,ge)}catch(se){return"[ERROR] ".concat(se)}}return he(q)}b.sanitize=E;function O(q){var B=function(N){return function(){for(var J,ee=[],te=0;te<arguments.length;te++)ee[te]=arguments[te];if(N==="debug"){if(!q.config.debug)return;N="log"}ee.unshift("[Honeybadger]"),(J=q.config.logger)[N].apply(J,ee)}};return{log:B("log"),info:B("info"),debug:B("debug"),warn:B("warn"),error:B("error")}}b.logger=O;function k(q){var B;if(!q)B={};else if(T(q)){var N=q;B=X(q,{name:N.name,message:N.message,stack:N.stack,cause:N.cause})}else if(typeof q=="object")B=v(q);else{var J=String(q);B={message:J}}return B}b.makeNotice=k;function T(q){return q instanceof Error||Object.prototype.toString.call(q)==="[object Error]"}b.isErrorObject=T;function F(q,B,N){if(!(!q||!B||!N||!(B in q)))try{for(var J=q[B];J&&J.__hb_original;)J=J.__hb_original;q[B]=N(J),q[B].__hb_original=J}catch(ee){}}b.instrument=F;function H(q,B){var N=q.trim().replace(/\/$/,"");return B=B.trim().replace(/(^\/|\/$)/g,""),"".concat(N,"/").concat(B)}b.endpoint=H;function W(){try{throw new Error("")}catch(J){if(J.stack)return J.stack}for(var q=10,B=[],N=arguments.callee;N&&B.length<q;){/function(?:\s+([\w$]+))+\s*\(/.test(N.toString())?B.push(RegExp.$1||"<anonymous>"):B.push("<anonymous>");try{N=N.caller}catch(J){break}}return B.join(`
`)}b.generateStackTrace=W;function Q(q,B){if(!Ce("Object",q))return;Ce("Array",B)||(B=[]);var N=[];function J(ee){var te,he;if(Ce("Object",ee)||Ce("Array",ee)){if(N.indexOf(ee)!==-1)return"[CIRCULAR DATA STRUCTURE]";N.push(ee)}if(Ce("Object",ee)){he={};for(te in ee)re(te,B)?he[te]="[FILTERED]":he[te]=J(ee[te]);return he}return Ce("Array",ee)?ee.map(function(ue){return J(ue)}):Ce("Function",ee)?"[FUNC]":ee}return J(q)}b.filter=Q;function re(q,B){for(var N=0;N<B.length;N++)if(q.toLowerCase().indexOf(B[N].toLowerCase())!==-1)return!0;return!1}function Ce(q,B){var N=Object.prototype.toString.call(B).slice(8,-1);return B!=null&&N===q}function Nr(q,B){if(!B||typeof q!="string")return q;var N=q.split(/\?/,2)[1];if(!N)return q;var J=q;return N.split(/[&]\s?/).forEach(function(ee){var te=ee.split("=",2),he=te[0],ue=te[1];re(he,B)&&(J=J.replace("".concat(he,"=").concat(ue),"".concat(he,"=[FILTERED]")))}),J}b.filterUrl=Nr;function ce(q,B){B===void 0&&(B="");var N={};return Object.keys(q).forEach(function(J){var ee=B+J.replace(/\W/g,"_").toUpperCase();N[ee]=q[J]}),N}b.formatCGIData=ce;function De(q){return JSON.parse(JSON.stringify(q))}b.clone=De;function Mr(q,B,N){if(N===void 0&&(N=2),!q)return null;var J=q.split(`
`);J.unshift("");for(var ee=B-N,te=B+N,he={},ue=ee;ue<=te;ue++){var ge=J[ue];typeof ge=="string"&&(he[ue]=ge)}return he}function Np(q){return q.async!==void 0}b.isBrowserConfig=Np})(a);var ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.GlobalStore=void 0;var Ee=a,Ae=function(){function b(g,L){this.contents=g,this.breadcrumbsLimit=L}return b.create=function(g,L){return new b(g,L)},b.prototype.available=function(){return!0},b.prototype.getContents=function(g){var L=g?this.contents[g]:this.contents;return JSON.parse(JSON.stringify(L))},b.prototype.setContext=function(g){this.contents.context=(0,Ee.merge)(this.contents.context,g||{})},b.prototype.addBreadcrumb=function(g){this.contents.breadcrumbs.length==this.breadcrumbsLimit&&this.contents.breadcrumbs.shift(),this.contents.breadcrumbs.push(g)},b.prototype.clear=function(){this.contents.context={},this.contents.breadcrumbs=[]},b.prototype.run=function(g){return g()},b}();ae.GlobalStore=Ae;var Me=t&&t.__assign||function(){return Me=Object.assign||function(b){for(var g,L=1,M=arguments.length;L<M;L++){g=arguments[L];for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&(b[C]=g[C])}return b},Me.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.Client=void 0;var le=a,Tr=ae,Sn={name:"honeybadger-js",url:"https://github.com/honeybadger-io/honeybadger-js",version:"4.9.2"},Ii=/,|\s+/,st=/\S/,En=function(){function b(g,L){g===void 0&&(g={}),this.__pluginsExecuted=!1,this.__store=null,this.__beforeNotifyHandlers=[],this.__afterNotifyHandlers=[],this.config=Me({apiKey:null,endpoint:"https://api.honeybadger.io",environment:null,hostname:null,projectRoot:null,component:null,action:null,revision:null,reportData:null,breadcrumbsEnabled:!0,maxBreadcrumbs:40,maxObjectDepth:8,logger:console,developmentEnvironments:["dev","development","test"],debug:!1,tags:null,enableUncaught:!0,enableUnhandledRejection:!0,afterUncaught:function(){return!0},filters:["creditcard","password"],__plugins:[]},g),this.__initStore(),this.__transport=L,this.logger=(0,le.logger)(this)}return b.prototype.getVersion=function(){return Sn.version},b.prototype.configure=function(g){var L=this;g===void 0&&(g={});for(var M in g)this.config[M]=g[M];return this.__pluginsExecuted||(this.__pluginsExecuted=!0,this.config.__plugins.forEach(function(C){return C.load(L)})),this},b.prototype.__initStore=function(){this.__store=new Tr.GlobalStore({context:{},breadcrumbs:[]},this.config.maxBreadcrumbs)},b.prototype.beforeNotify=function(g){return this.__beforeNotifyHandlers.push(g),this},b.prototype.afterNotify=function(g){return this.__afterNotifyHandlers.push(g),this},b.prototype.setContext=function(g){return typeof g=="object"&&g!=null&&this.__store.setContext(g),this},b.prototype.resetContext=function(g){return this.logger.warn("Deprecation warning: `Honeybadger.resetContext()` has been deprecated; please use `Honeybadger.clear()` instead."),this.__store.clear(),typeof g=="object"&&g!==null&&this.__store.setContext(g),this},b.prototype.clear=function(){return this.__store.clear(),this},b.prototype.notify=function(g,L,M){var C=this;L===void 0&&(L=void 0),M===void 0&&(M=void 0);var j=null,R=this.makeNotice(g,L,M);R||(this.logger.debug("failed to build error report"),j=new Error("failed to build error report")),!j&&this.config.reportData===!1&&(this.logger.debug("skipping error report: honeybadger.js is disabled",R),j=new Error("honeybadger.js is disabled")),!j&&this.__developmentMode()&&(this.logger.log("honeybadger.js is in development mode; the following error report will be sent in production.",R),j=new Error("honeybadger.js is in development mode")),!j&&!this.config.apiKey&&(this.logger.warn("could not send error report: no API key has been configured",R),j=new Error("missing API key"));var X=R&&R.backtrace?R.backtrace.map(function(ie){return(0,le.shallowClone)(ie)}):null,Z=(0,le.runBeforeNotifyHandlers)(R,this.__beforeNotifyHandlers);if(!j&&!Z&&(this.logger.debug("skipping error report: beforeNotify handlers returned false",R),j=new Error("beforeNotify handlers returned false")),j)return(0,le.runAfterNotifyHandlers)(R,this.__afterNotifyHandlers,j),!1;this.addBreadcrumb("Honeybadger Notice",{category:"notice",metadata:{message:R.message,name:R.name,stack:R.stack}});var z=this.__store.getContents("breadcrumbs");return R.__breadcrumbs=this.config.breadcrumbsEnabled?z:[],(0,le.getSourceForBacktrace)(X,this.__getSourceFileHandler).then(function(ie){ie.forEach(function(Se,Oe){R.backtrace[Oe].source=Se});var pe=C.__buildPayload(R);C.__transport.send({headers:{"X-API-Key":C.config.apiKey,"Content-Type":"application/json",Accept:"text/json, application/json"},method:"POST",endpoint:(0,le.endpoint)(C.config.endpoint,"/v1/notices/js"),maxObjectDepth:C.config.maxObjectDepth,logger:C.logger},pe).then(function(Se){if(Se.statusCode!==201){(0,le.runAfterNotifyHandlers)(R,C.__afterNotifyHandlers,new Error("Bad HTTP response: ".concat(Se.statusCode))),C.logger.warn("Error report failed: unknown response from server. code=".concat(Se.statusCode));return}var Oe=JSON.parse(Se.body).id;(0,le.runAfterNotifyHandlers)((0,le.merge)(R,{id:Oe}),C.__afterNotifyHandlers),C.logger.info("Error report sent \u26A1 https://app.honeybadger.io/notice/".concat(Oe))}).catch(function(Se){C.logger.error("Error report failed: an unknown error occurred.","message=".concat(Se.message)),(0,le.runAfterNotifyHandlers)(R,C.__afterNotifyHandlers,Se)})}),!0},b.prototype.notifyAsync=function(g,L,M){var C=this;return L===void 0&&(L=void 0),M===void 0&&(M=void 0),new Promise(function(j,R){var X=function(z){var ie=z.afterNotify;z.afterNotify=function(pe){if(ie==null||ie.call(C,pe),pe)return R(pe);j()}},Z;g.afterNotify?Z=g:L&&L.afterNotify?Z=L:M&&M.afterNotify?Z=M:L&&typeof L=="object"?Z=L:M?Z=M:Z=L={},X(Z),C.notify(g,L,M)})},b.prototype.makeNotice=function(g,L,M){L===void 0&&(L=void 0),M===void 0&&(M=void 0);var C=(0,le.makeNotice)(g);if(L&&typeof L!="object"){var j=String(L);L={name:j}}if(L&&(C=(0,le.mergeNotice)(C,L)),typeof M=="object"&&M!==null&&(C=(0,le.mergeNotice)(C,M)),(0,le.objectIsEmpty)(C))return null;var R=this.__store.getContents("context"),X=this.__constructTags(C.tags),Z=this.__constructTags(R.tags),z=this.__constructTags(this.config.tags),ie=X.concat(Z).concat(z),pe=ie.filter(function(Se,Oe){return ie.indexOf(Se)===Oe});return C=(0,le.merge)(C,{name:C.name||"Error",context:(0,le.merge)(R,C.context),projectRoot:C.projectRoot||this.config.projectRoot,environment:C.environment||this.config.environment,component:C.component||this.config.component,action:C.action||this.config.action,revision:C.revision||this.config.revision,tags:pe}),typeof C.stack!="string"||!C.stack.trim()?(C.stack=(0,le.generateStackTrace)(),C.backtrace=(0,le.makeBacktrace)(C.stack,!0,this.logger)):C.backtrace=(0,le.makeBacktrace)(C.stack,!1,this.logger),C},b.prototype.addBreadcrumb=function(g,L){if(!!this.config.breadcrumbsEnabled){L=L||{};var M=(0,le.shallowClone)(L.metadata),C=L.category||"custom",j=new Date().toISOString();return this.__store.addBreadcrumb({category:C,message:g,metadata:M,timestamp:j}),this}},b.prototype.__getBreadcrumbs=function(){return this.__store.getContents("breadcrumbs").slice()},b.prototype.__getContext=function(){return this.__store.getContents("context")},b.prototype.__developmentMode=function(){return this.config.reportData===!0?!1:this.config.environment&&this.config.developmentEnvironments.includes(this.config.environment)},b.prototype.__buildPayload=function(g){var L=(0,le.filter)(g.headers,this.config.filters)||{},M=(0,le.filter)(Me(Me({},g.cgiData),(0,le.formatCGIData)(L,"HTTP_")),this.config.filters);return{notifier:Sn,breadcrumbs:{enabled:!!this.config.breadcrumbsEnabled,trail:g.__breadcrumbs||[]},error:{class:g.name,message:g.message,backtrace:g.backtrace,fingerprint:g.fingerprint,tags:g.tags,causes:(0,le.getCauses)(g,this.logger)},request:{url:(0,le.filterUrl)(g.url,this.config.filters),component:g.component,action:g.action,context:g.context,cgi_data:M,params:(0,le.filter)(g.params,this.config.filters)||{},session:(0,le.filter)(g.session,this.config.filters)||{}},server:{project_root:g.projectRoot,environment_name:g.environment,revision:g.revision,hostname:this.config.hostname,time:new Date().toUTCString()},details:g.details||{}}},b.prototype.__constructTags=function(g){return g?g.toString().split(Ii).filter(function(L){return st.test(L)}):[]},b}();o.Client=En;var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),function(b){var g=t&&t.__createBinding||(Object.create?function(R,X,Z,z){z===void 0&&(z=Z);var ie=Object.getOwnPropertyDescriptor(X,Z);(!ie||("get"in ie?!X.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return X[Z]}}),Object.defineProperty(R,z,ie)}:function(R,X,Z,z){z===void 0&&(z=Z),R[z]=X[Z]}),L=t&&t.__setModuleDefault||(Object.create?function(R,X){Object.defineProperty(R,"default",{enumerable:!0,value:X})}:function(R,X){R.default=X}),M=t&&t.__exportStar||function(R,X){for(var Z in R)Z!=="default"&&!Object.prototype.hasOwnProperty.call(X,Z)&&g(X,R,Z)},C=t&&t.__importStar||function(R){if(R&&R.__esModule)return R;var X={};if(R!=null)for(var Z in R)Z!=="default"&&Object.prototype.hasOwnProperty.call(R,Z)&&g(X,R,Z);return L(X,R),X};Object.defineProperty(b,"__esModule",{value:!0}),b.Util=b.Types=b.Client=void 0;var j=o;Object.defineProperty(b,"Client",{enumerable:!0,get:function(){return j.Client}}),M(ae,b),b.Types=C(ut),b.Util=C(a)}(i);var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.globalThisOrWindow=fe.preferCatch=fe.encodeCookie=fe.decodeCookie=fe.localURLPathname=fe.parseURL=fe.nativeFetch=fe.stringTextOfElement=fe.stringSelectorOfElement=fe.stringNameOfElement=void 0;function An(b){if(!b||!b.tagName)return"";var g=b.tagName.toLowerCase();if(g==="html")return"";b.id&&(g+="#".concat(b.id));var L=b.getAttribute("class");L&&L.split(/\s+/).forEach(function(C){g+=".".concat(C)}),["alt","name","title","type"].forEach(function(C){var j=b.getAttribute(C);j&&(g+="[".concat(C,'="').concat(j,'"]'))});var M=Ri(b);return M.length>1&&(g+=":nth-child(".concat(Array.prototype.indexOf.call(M,b)+1,")")),g}fe.stringNameOfElement=An;function Cr(b){var g=An(b);if(b.parentNode&&b.parentNode.tagName){var L=Cr(b.parentNode);if(L.length>0)return"".concat(L," > ").concat(g)}return g}fe.stringSelectorOfElement=Cr;function On(b){var g=b.textContent||b.innerText||"";return!g&&(b.type==="submit"||b.type==="button")&&(g=b.value),ji(g.trim(),300)}fe.stringTextOfElement=On;function Ft(){var b=xn();if(!b.fetch)return!1;if(kr(b.fetch))return!0;try{var g=document.createElement("iframe");g.style.display="none",document.head.appendChild(g);var L=g.contentWindow.fetch&&kr(g.contentWindow.fetch);return document.head.removeChild(g),L}catch(M){console&&console.warn&&console.warn("failed to detect native fetch via iframe: "+M)}return!1}fe.nativeFetch=Ft;function kr(b){return b.toString().indexOf("native")!==-1}function Ir(b){var g=b.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/)||{};return{protocol:g[2],host:g[4],pathname:g[5]}}fe.parseURL=Ir;function Pn(b){var g=Ir(b),L=Ir(document.URL);return!g.host||!g.protocol||g.protocol===L.protocol&&g.host===L.host?g.pathname:"".concat(g.protocol,"://").concat(g.host).concat(g.pathname)}fe.localURLPathname=Pn;function Li(b){var g={};return b.split(/[;,]\s?/).forEach(function(L){var M=L.split("=",2),C=M[0],j=M[1];g[C]=j}),g}fe.decodeCookie=Li;function Fi(b){if(typeof b=="object"){var g=[];for(var L in b)g.push(L+"="+b[L]);return g.join(";")}}fe.encodeCookie=Fi;function Ri(b){try{var g=b.parentNode.childNodes,L=[];return Array.prototype.forEach.call(g,function(M){M.tagName&&M.tagName===b.tagName&&L.push(M)}),L}catch(M){return[]}}function ji(b,g){return b.length>g&&(b=b.substr(0,g)+"..."),b}fe.preferCatch=function(){var b=!0;if(typeof window=="undefined")return b;if(window.atob||(b=!1),window.ErrorEvent)try{new window.ErrorEvent("").colno===0&&(b=!1)}catch(g){}return b}();function xn(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:window}fe.globalThisOrWindow=xn;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.onError=vt.ignoreNextOnError=void 0;var Lr=i,Tn=fe,qi=Lr.Util.instrument,Ni=Lr.Util.makeNotice,$t=0,Cn;function Mi(){$t+=1,clearTimeout(Cn),Cn=setTimeout(function(){$t=0})}vt.ignoreNextOnError=Mi;function kn(b){return b===void 0&&(b=(0,Tn.globalThisOrWindow)()),{load:function(g){qi(b,"onerror",function(L){var M=function(C,j,R,X,Z){if(g.logger.debug("window.onerror callback invoked",arguments),$t>0){g.logger.debug("Ignoring window.onerror (error likely reported earlier)",arguments),$t-=1;return}if(R===0&&/Script error\.?/.test(C)){g.config.enableUncaught&&g.logger.warn("Ignoring cross-domain script error: enable CORS to track these types of errors",arguments);return}var z=Ni(Z);z.name||(z.name="window.onerror"),z.message||(z.message=C),z.stack||(z.stack=[z.message,`
    at ? (`,j||"unknown",":",R||0,":",X||0,")"].join("")),g.addBreadcrumb(z.name==="window.onerror"||!z.name?"window.onerror":"window.onerror: ".concat(z.name),{category:"error",metadata:{name:z.name,message:z.message,stack:z.stack}}),g.config.enableUncaught&&g.notify(z)};return function(C,j,R,X,Z){return M(C,j,R,X,Z),typeof L=="function"?L.apply(b,arguments):!1}})}}}vt.onError=kn;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});var Di=i,Bi=fe,In=Di.Util.instrument;function Hi(b){return b===void 0&&(b=(0,Bi.globalThisOrWindow)()),{load:function(g){!g.config.enableUnhandledRejection||In(b,"onunhandledrejection",function(L){function M(C){var j;if(g.logger.debug("window.onunhandledrejection callback invoked",arguments),!!g.config.enableUnhandledRejection){var R=C.reason;if(R instanceof Error){var X="unknown",Z=0,z="".concat(R.message,`
    at ? (`).concat(X,":").concat(Z,")"),ie=R.stack||z,pe={name:R.name,message:"UnhandledPromiseRejectionWarning: ".concat(R),stack:ie};g.addBreadcrumb("window.onunhandledrejection: ".concat(pe.name),{category:"error",metadata:pe}),g.notify(pe);return}var Se=typeof R=="string"?R:(j=JSON.stringify(R))!==null&&j!==void 0?j:"Unspecified reason";g.notify({name:"window.onunhandledrejection",message:"UnhandledPromiseRejectionWarning: ".concat(Se)})}}return function(C){M(C),typeof L=="function"&&L.apply(this,arguments)}})}}}zt.default=Hi;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});var Kt=i,Ke=fe,Rr=Kt.Util.sanitize,gt=Kt.Util.instrument;function ct(b){return b===void 0&&(b=(0,Ke.globalThisOrWindow)()),{load:function(g){function L(M){return g.config.breadcrumbsEnabled===!0?!0:M?g.config.breadcrumbsEnabled[M]===!0:g.config.breadcrumbsEnabled!==!1}(function(){if(!L("console"))return;function M(C){return Array.isArray(C)?C.map(function(j){try{return String(j)}catch(R){return"[unknown]"}}).join(" "):""}["debug","info","warn","error","log"].forEach(function(C){gt(b.console,C,function(j){return function(){var R=Array.prototype.slice.call(arguments),X=M(R),Z={category:"log",metadata:{level:C,arguments:Rr(R,3)}};g.addBreadcrumb(X,Z),typeof j=="function"&&Function.prototype.apply.call(j,b.console,arguments)}})})})(),function(){!L("dom")||b.addEventListener("click",function(M){var C,j,R;try{C=(0,Ke.stringNameOfElement)(M.target),j=(0,Ke.stringSelectorOfElement)(M.target),R=(0,Ke.stringTextOfElement)(M.target)}catch(X){C="UI Click",j="[unknown]",R="[unknown]"}C.length!==0&&g.addBreadcrumb(C,{category:"ui.click",metadata:{selector:j,text:R,event:M}})},!!b.location)}(),function(){!L("network")||typeof XMLHttpRequest!="undefined"&&(gt(XMLHttpRequest.prototype,"open",function(M){return function(){var C=this,j=arguments[1],R=typeof arguments[0]=="string"?arguments[0].toUpperCase():arguments[0],X="".concat(R," ").concat((0,Ke.localURLPathname)(j));this.__hb_xhr={type:"xhr",method:R,url:j,message:X},typeof M=="function"&&M.apply(C,arguments)}}),gt(XMLHttpRequest.prototype,"send",function(M){return function(){var C=this;function j(){if(C.readyState===4){var R=void 0;C.__hb_xhr&&(C.__hb_xhr.status_code=C.status,R=C.__hb_xhr.message,delete C.__hb_xhr.message),g.addBreadcrumb(R||"XMLHttpRequest",{category:"request",metadata:C.__hb_xhr})}}"onreadystatechange"in C&&typeof C.onreadystatechange=="function"?gt(C,"onreadystatechange",function(R){return function(){j(),typeof R=="function"&&R.apply(this,arguments)}}):C.onreadystatechange=j,typeof M=="function"&&M.apply(C,arguments)}}))}(),function(){!L("network")||!(0,Ke.nativeFetch)()||gt(b,"fetch",function(M){return function(){var C=arguments[0],j="GET",R;typeof C=="string"?R=C:"Request"in b&&C instanceof Request?(R=C.url,C.method&&(j=C.method)):R=String(C),arguments[1]&&arguments[1].method&&(j=arguments[1].method),typeof j=="string"&&(j=j.toUpperCase());var X="".concat(j," ").concat(typeof document=="undefined"?R:(0,Ke.localURLPathname)(R)),Z={type:"fetch",method:j,url:R};return M.apply(this,arguments).then(function(z){return Z.status_code=z.status,g.addBreadcrumb(X,{category:"request",metadata:Z}),z}).catch(function(z){throw g.addBreadcrumb("fetch error",{category:"error",metadata:Z}),z})}})}(),function(){if(!L("navigation")||b.location==null)return;var M=b.location.href;function C(R,X){M=X,g.addBreadcrumb("Page changed",{category:"navigation",metadata:{from:R,to:X}})}typeof addEventListener=="function"&&addEventListener("popstate",function(R){C(M,b.location.href)});function j(R){return function(){var X=arguments.length>2?arguments[2]:void 0;return X&&C(M,String(X)),R.apply(this,arguments)}}gt(b.history,"pushState",j),gt(b.history,"replaceState",j)}()}}}Fr.default=ct;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});var Fn=i,yt=fe,Gt=Fn.Util.instrument;function jr(b){return b===void 0&&(b=(0,yt.globalThisOrWindow)()),{load:function(g){(function(){function L(M){return function(C){return function(j,R){if(typeof j=="function"){var X=Array.prototype.slice.call(arguments,2);return j=g.__wrap(j,M),C(function(){j.apply(void 0,X)},R)}else return C(j,R)}}}Gt(b,"setTimeout",L({component:"setTimeout"})),Gt(b,"setInterval",L({component:"setInterval"}))})()}}}Ln.default=jr;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});var Rt=i,ls=fe,Qt=Rt.Util.instrument;function fs(b){return b===void 0&&(b=(0,ls.globalThisOrWindow)()),{load:function(g){var L=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];L.forEach(function(M){var C=b[M]&&b[M].prototype;C&&Object.prototype.hasOwnProperty.call(C,"addEventListener")&&(Qt(C,"addEventListener",function(j){var R={component:"".concat(M,".prototype.addEventListener")};return function(X,Z,z,ie){try{Z&&Z.handleEvent!=null&&(Z.handleEvent=g.__wrap(Z.handleEvent,R))}catch(pe){g.logger.error(pe)}return j.call(this,X,g.__wrap(Z,R),z,ie)}}),Qt(C,"removeEventListener",function(j){return function(R,X,Z,z){return j.call(this,R,X,Z,z),j.call(this,R,g.__wrap(X),Z,z)}}))})}}}Jt.default=fs;var Ue={},Xt=t&&t.__awaiter||function(b,g,L,M){function C(j){return j instanceof L?j:new L(function(R){R(j)})}return new(L||(L=Promise))(function(j,R){function X(ie){try{z(M.next(ie))}catch(pe){R(pe)}}function Z(ie){try{z(M.throw(ie))}catch(pe){R(pe)}}function z(ie){ie.done?j(ie.value):C(ie.value).then(X,Z)}z((M=M.apply(b,g||[])).next())})},Ui=t&&t.__generator||function(b,g){var L={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},M,C,j,R;return R={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function X(z){return function(ie){return Z([z,ie])}}function Z(z){if(M)throw new TypeError("Generator is already executing.");for(;L;)try{if(M=1,C&&(j=z[0]&2?C.return:z[0]?C.throw||((j=C.return)&&j.call(C),0):C.next)&&!(j=j.call(C,z[1])).done)return j;switch(C=0,j&&(z=[z[0]&2,j.value]),z[0]){case 0:case 1:j=z;break;case 4:return L.label++,{value:z[1],done:!1};case 5:L.label++,C=z[1],z=[0];continue;case 7:z=L.ops.pop(),L.trys.pop();continue;default:if(j=L.trys,!(j=j.length>0&&j[j.length-1])&&(z[0]===6||z[0]===2)){L=0;continue}if(z[0]===3&&(!j||z[1]>j[0]&&z[1]<j[3])){L.label=z[1];break}if(z[0]===6&&L.label<j[1]){L.label=j[1],j=z;break}if(j&&L.label<j[2]){L.label=j[2],L.ops.push(z);break}j[2]&&L.ops.pop(),L.trys.pop();continue}z=g.call(b,L)}catch(ie){z=[6,ie],C=0}finally{M=j=0}if(z[0]&5)throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.BrowserTransport=void 0;var Rn=i,jn=fe,bt=Rn.Util.sanitize;function qr(b){return Object.entries(b)}var Wi=function(){function b(){}return b.prototype.send=function(g,L){return Xt(this,void 0,void 0,function(){var M,C,j,R,X;return Ui(this,function(Z){switch(Z.label){case 0:return M=g.headers?qr(g.headers):[],C={},M.forEach(function(z){var ie=z[0],pe=z[1];ie!=null&&pe!=null&&(C[String(ie)]=String(pe))}),j={method:g.method,headers:C},g.method==="POST"&&(j.body=L?JSON.stringify(bt(L,g.maxObjectDepth)):void 0),[4,(0,jn.globalThisOrWindow)().fetch(g.endpoint,j)];case 1:return R=Z.sent(),[4,R.text()];case 2:return X=Z.sent(),[2,Promise.resolve({statusCode:R.status,body:X})]}})})},b}();Ue.BrowserTransport=Wi,function(b){var g=t&&t.__extends||function(){var k=function(T,F){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,W){H.__proto__=W}||function(H,W){for(var Q in W)Object.prototype.hasOwnProperty.call(W,Q)&&(H[Q]=W[Q])},k(T,F)};return function(T,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");k(T,F);function H(){this.constructor=T}T.prototype=F===null?Object.create(F):(H.prototype=F.prototype,new H)}}(),L=t&&t.__assign||function(){return L=Object.assign||function(k){for(var T,F=1,H=arguments.length;F<H;F++){T=arguments[F];for(var W in T)Object.prototype.hasOwnProperty.call(T,W)&&(k[W]=T[W])}return k},L.apply(this,arguments)},M=t&&t.__awaiter||function(k,T,F,H){function W(Q){return Q instanceof F?Q:new F(function(re){re(Q)})}return new(F||(F=Promise))(function(Q,re){function Ce(De){try{ce(H.next(De))}catch(Mr){re(Mr)}}function Nr(De){try{ce(H.throw(De))}catch(Mr){re(Mr)}}function ce(De){De.done?Q(De.value):W(De.value).then(Ce,Nr)}ce((H=H.apply(k,T||[])).next())})},C=t&&t.__generator||function(k,T){var F={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},H,W,Q,re;return re={next:Ce(0),throw:Ce(1),return:Ce(2)},typeof Symbol=="function"&&(re[Symbol.iterator]=function(){return this}),re;function Ce(ce){return function(De){return Nr([ce,De])}}function Nr(ce){if(H)throw new TypeError("Generator is already executing.");for(;F;)try{if(H=1,W&&(Q=ce[0]&2?W.return:ce[0]?W.throw||((Q=W.return)&&Q.call(W),0):W.next)&&!(Q=Q.call(W,ce[1])).done)return Q;switch(W=0,Q&&(ce=[ce[0]&2,Q.value]),ce[0]){case 0:case 1:Q=ce;break;case 4:return F.label++,{value:ce[1],done:!1};case 5:F.label++,W=ce[1],ce=[0];continue;case 7:ce=F.ops.pop(),F.trys.pop();continue;default:if(Q=F.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(ce[0]===6||ce[0]===2)){F=0;continue}if(ce[0]===3&&(!Q||ce[1]>Q[0]&&ce[1]<Q[3])){F.label=ce[1];break}if(ce[0]===6&&F.label<Q[1]){F.label=Q[1],Q=ce;break}if(Q&&F.label<Q[2]){F.label=Q[2],F.ops.push(ce);break}Q[2]&&F.ops.pop(),F.trys.pop();continue}ce=T.call(k,F)}catch(De){ce=[6,De],W=0}finally{H=Q=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}},j=t&&t.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(b,"__esModule",{value:!0}),b.Types=b.getUserFeedbackScriptUrl=void 0;var R=i,X=fe,Z=vt,z=j(zt),ie=j(Fr),pe=j(Ln),Se=j(Jt),Oe=Ue,Ge=R.Util.merge,d=R.Util.filter,u=R.Util.objectIsExtensible,l=function(){var k=(0,X.globalThisOrWindow)(),T="";return k.location!=null&&(T=k.location.protocol+"//"+k.location.host),T},v=function(k){var T=k.split(".").slice(0,2).join(".");return"https://js.honeybadger.io/v".concat(T,"/honeybadger-feedback-form.js")};b.getUserFeedbackScriptUrl=v;var E=function(k){g(T,k);function T(F){F===void 0&&(F={});var H=k.call(this,L({userFeedbackEndpoint:"https://api.honeybadger.io/v2/feedback",async:!0,maxErrors:null,projectRoot:l()},F),new Oe.BrowserTransport)||this;return H.__errorsSent=0,H.__lastWrapErr=void 0,H.__lastNoticeId=void 0,H.__beforeNotifyHandlers=[function(W){return H.__exceedsMaxErrors()?(H.logger.debug("Dropping notice: max errors exceeded",W),!1):(W&&!W.url&&typeof document!="undefined"&&(W.url=document.URL),H.__incrementErrorsCount(),!0)}],H.__afterNotifyHandlers=[function(W,Q){return Q&&(H.__lastNoticeId=Q.id),!0}],H}return T.prototype.configure=function(F){return F===void 0&&(F={}),k.prototype.configure.call(this,F)},T.prototype.resetMaxErrors=function(){return this.__errorsSent=0},T.prototype.factory=function(F){return new T(F)},T.prototype.checkIn=function(F){throw new Error("Honeybadger.checkIn() is not supported on the browser")},T.prototype.showUserFeedbackForm=function(F){return F===void 0&&(F={}),M(this,void 0,void 0,function(){var H,W;return C(this,function(Q){return!this.config||!this.config.apiKey?(this.logger.debug("Client not initialized"),[2]):this.__lastNoticeId?(H=(0,X.globalThisOrWindow)(),typeof H.document=="undefined"?(this.logger.debug("global.document is undefined. Cannot attach script"),[2]):this.isUserFeedbackScriptUrlAlreadyVisible()?(this.logger.debug("User feedback form is already visible"),[2]):(H.honeybadgerUserFeedbackOptions=L(L({},F),{apiKey:this.config.apiKey,endpoint:this.config.userFeedbackEndpoint,noticeId:this.__lastNoticeId}),W=H.document.createElement("script"),W.setAttribute("src",this.getUserFeedbackSubmitUrl()),W.setAttribute("async","true"),F.onLoad&&(W.onload=F.onLoad),(H.document.head||H.document.body).appendChild(W),[2])):(this.logger.debug("Can't show user feedback form without a notice already reported"),[2])})})},T.prototype.isUserFeedbackScriptUrlAlreadyVisible=function(){for(var F=(0,X.globalThisOrWindow)(),H=this.getUserFeedbackSubmitUrl(),W=0;W<F.document.scripts.length;W++){var Q=F.document.scripts[W];if(Q.src===H)return!0}return!1},T.prototype.getUserFeedbackSubmitUrl=function(){return(0,b.getUserFeedbackScriptUrl)(this.getVersion())},T.prototype.__buildPayload=function(F){var H={HTTP_USER_AGENT:void 0,HTTP_REFERER:void 0,HTTP_COOKIE:void 0};H.HTTP_USER_AGENT=navigator.userAgent,typeof document!="undefined"&&document.referrer.match(/\S/)&&(H.HTTP_REFERER=document.referrer);var W;typeof F.cookies=="string"?W=(0,X.decodeCookie)(F.cookies):W=F.cookies,W&&(H.HTTP_COOKIE=(0,X.encodeCookie)(d(W,this.config.filters)));var Q=k.prototype.__buildPayload.call(this,F);return Q.request.cgi_data=Ge(H,Q.request.cgi_data),Q},T.prototype.__wrap=function(F,H){H===void 0&&(H={});var W=F;H||(H={});try{if(typeof W!="function"||!u(W))return W;if(!W.___hb){var Q=this;W.___hb=function(){if(X.preferCatch)try{return W.apply(this,arguments)}catch(re){throw Q.__lastWrapErr===re||(Q.__lastWrapErr=re,(0,Z.ignoreNextOnError)(),Q.addBreadcrumb(H.component?"".concat(H.component,": ").concat(re.name):re.name,{category:"error",metadata:{message:re.message,name:re.name,stack:re.stack}}),Q.config.enableUncaught&&Q.notify(re)),re}else return W.apply(this,arguments)}}return W.___hb.___hb=W.___hb,W.___hb}catch(re){return W}},T.prototype.__incrementErrorsCount=function(){return this.__errorsSent++},T.prototype.__exceedsMaxErrors=function(){return this.config.maxErrors&&this.__errorsSent>=this.config.maxErrors},T}(R.Client),O=i;Object.defineProperty(b,"Types",{enumerable:!0,get:function(){return O.Types}}),b.default=new E({__plugins:[(0,Z.onError)(),(0,z.default)(),(0,pe.default)(),(0,Se.default)(),(0,ie.default)()]})}(n);var qn=e(n);return qn})});var ss,up,cp=Y(()=>{ss=Le(sp()),up=()=>{try{ss.default.configure({apiKey:"hbp_GXrCHsezScONPUGZmHBR1pSsWlZ3Iy2ofzgB",environment:"prod",revision:"10389e27dbdb92334c3af49ec22f5cd41b455ead",enableUncaught:!0,enableUnhandledRejection:!1})}catch(t){console.error(t)}};ss.default.beforeNotify(t=>typeof t=="undefined"||/ResizeObserver/.test(t.message)||t.backtrace.length===1&&t.backtrace[0].file==="<anonymous>"&&t.backtrace[0].method==="<unknown>"?!1:(t.backtrace.length>=1&&/^chrome-extension:\/\//i.test(t.backtrace[0].file)&&t.tags.concat("chrome-extension-file"),/at chrome-extension:\/\//i.test(t.stack)&&t.tags.concat("chrome-extension-stack"),!0))});var fp=I((zO,lp)=>{"use strict";lp.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var vp=I((KO,mp)=>{"use strict";var pp="%[a-f0-9]{2}",dp=new RegExp("("+pp+")|([^%]+?)","gi"),hp=new RegExp("("+pp+")+","gi");function us(t,e){try{return[decodeURIComponent(t.join(""))]}catch(i){}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],us(r),us(n))}function kw(t){try{return decodeURIComponent(t)}catch(n){for(var e=t.match(dp)||[],r=1;r<e.length;r++)t=us(e,r).join(""),e=t.match(dp)||[];return t}}function Iw(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=hp.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(s){var n=kw(r[0]);n!==r[0]&&(e[r[0]]=n)}r=hp.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),o=0;o<i.length;o++){var a=i[o];t=t.replace(new RegExp(a,"g"),e[a])}return t}mp.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return Iw(t)}}});var yp=I((GO,gp)=>{"use strict";gp.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var wp=I((JO,bp)=>{"use strict";bp.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),o=0;o<n.length;o++){var a=n[o],s=t[a];(i?e.indexOf(a)!==-1:e(a,s,t))&&(r[a]=s)}return r}});var Tp=I(Ne=>{"use strict";var Lw=fp(),Fw=vp(),Sp=yp(),Rw=wp(),jw=t=>t==null,cs=Symbol("encodeFragmentIdentifier");function qw(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{let i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[_e(e,t),"[",i,"]"].join("")]:[...r,[_e(e,t),"[",_e(i,t),"]=",_e(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[_e(e,t),"[]"].join("")]:[...r,[_e(e,t),"[]=",_e(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[_e(e,t),":list="].join("")]:[...r,[_e(e,t),":list=",_e(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[_e(r,t),e,_e(i,t)].join("")]:[[n,_e(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,_e(e,t)]:[...r,[_e(e,t),"=",_e(n,t)].join("")]}}function Nw(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let o=typeof n=="string"&&n.includes(t.arrayFormatSeparator),a=typeof n=="string"&&!o&&mt(n,t).includes(t.arrayFormatSeparator);n=a?mt(n,t):n;let s=o||a?n.split(t.arrayFormatSeparator).map(c=>mt(c,t)):n===null?n:mt(n,t);i[r]=s};case"bracket-separator":return(r,n,i)=>{let o=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!o){i[r]=n&&mt(n,t);return}let a=n===null?[]:n.split(t.arrayFormatSeparator).map(s=>mt(s,t));if(i[r]===void 0){i[r]=a;return}i[r]=[].concat(i[r],a)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function Ep(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _e(t,e){return e.encode?e.strict?Lw(t):encodeURIComponent(t):t}function mt(t,e){return e.decode?Fw(t):t}function Ap(t){return Array.isArray(t)?t.sort():typeof t=="object"?Ap(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function Op(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function Mw(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function Pp(t){t=Op(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function _p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function xp(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),Ep(e.arrayFormatSeparator);let r=Nw(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(let i of t.split("&")){if(i==="")continue;let[o,a]=Sp(e.decode?i.replace(/\+/g," "):i,"=");a=a===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:mt(a,e),r(mt(o,e),a,n)}for(let i of Object.keys(n)){let o=n[i];if(typeof o=="object"&&o!==null)for(let a of Object.keys(o))o[a]=_p(o[a],e);else n[i]=_p(o,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,o)=>{let a=n[o];return Boolean(a)&&typeof a=="object"&&!Array.isArray(a)?i[o]=Ap(a):i[o]=a,i},Object.create(null))}Ne.extract=Pp;Ne.parse=xp;Ne.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),Ep(e.arrayFormatSeparator);let r=a=>e.skipNull&&jw(t[a])||e.skipEmptyString&&t[a]==="",n=qw(e),i={};for(let a of Object.keys(t))r(a)||(i[a]=t[a]);let o=Object.keys(i);return e.sort!==!1&&o.sort(e.sort),o.map(a=>{let s=t[a];return s===void 0?"":s===null?_e(a,e):Array.isArray(s)?s.length===0&&e.arrayFormat==="bracket-separator"?_e(a,e)+"[]":s.reduce(n(a),[]).join("&"):_e(a,e)+"="+_e(s,e)}).filter(a=>a.length>0).join("&")};Ne.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,n]=Sp(t,"#");return Object.assign({url:r.split("?")[0]||"",query:xp(Pp(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:mt(n,e)}:{})};Ne.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[cs]:!0},e);let r=Op(t.url).split("?")[0]||"",n=Ne.extract(t.url),i=Ne.parse(n,{sort:!1}),o=Object.assign(i,t.query),a=Ne.stringify(o,e);a&&(a=`?${a}`);let s=Mw(t.url);return t.fragmentIdentifier&&(s=`#${e[cs]?_e(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${a}${s}`};Ne.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[cs]:!1},r);let{url:n,query:i,fragmentIdentifier:o}=Ne.parseUrl(t,r);return Ne.stringifyUrl({url:n,query:Rw(i,e),fragmentIdentifier:o},r)};Ne.exclude=(t,e,r)=>{let n=Array.isArray(e)?i=>!e.includes(i):(i,o)=>!e(i,o);return Ne.pick(t,n,r)}});var Cp,kp,Ip,Lp,Fp=Y(()=>{Cp=Le(nr()),kp=Le(Tp()),Ip=(t=!0)=>{var n;if(window.Rewardful)return;let e=new URLSearchParams(window.location.search),r=((n=document.querySelector("meta[name='skip-rewardful']"))==null?void 0:n.getAttribute("content"))==="true";if((!t||e.has("via"))&&!e.has("gclid")&&!e.has("fbclid")&&!r){let i=document.createElement("script");i.src="https://r.wdfl.co/rw.js",i.setAttribute("async",""),i.setAttribute("data-rewardful","7109e5"),document.head.appendChild(i)}},Lp=()=>{let t=kp.default.parse(window.location.search);!t.r||Array.isArray(t.r)||Cp.default.set("_sc_referrer",t.r,{expires:60})}});var Hw=I(qp=>{Ps();xs();var ZO=Le(Ts());Cs();ap();cp();Fp();up();var Rp=t=>{window.Beacon("init","c87a2ac6-d26c-41a2-b67d-ddb3f4b0db00"),t&&window.Beacon("identify",t)},Dw=t=>{Rp(t),window.Beacon("open")},Bw={guessTimeZone:function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},initBeacon:Rp,showBeacon:Dw,trackGoal:_n,checkSlug:t=>ne(qp,null,function*(){return(yield(yield fetch(`/api/slugs/check?slug=${encodeURIComponent(t)}`)).json()).status})};window.SavvyCal=Bw;Lp();function jp(){if(!window.IntersectionObserver)return;let t=new IntersectionObserver(e=>{e.forEach(r=>{var i,o,a,s;let n=r.target.getAttribute("id");r.isIntersecting?(o=(i=document.querySelector(`.toc li a[href="#${n}"]`))==null?void 0:i.parentElement)==null||o.classList.add("active"):(s=(a=document.querySelector(`.toc li a[href="#${n}"]`))==null?void 0:a.parentElement)==null||s.classList.remove("active")})});document.querySelectorAll("*[id]").forEach(e=>{t.observe(e)})}document.addEventListener("turbo:render",()=>jp());window.addEventListener("DOMContentLoaded",()=>{jp(),Ip()});Kn()});Hw();})();
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
